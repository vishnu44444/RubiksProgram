/*! For license information please see main.23a702ae.js.LICENSE.txt */
(()=>{var e={20:(e,t,n)=>{"use strict";var i=n(949)(!0);n(3914)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},96:(e,t,n)=>{var i=n(7832);i(i.S,"Object",{create:n(5478)})},285:(e,t,n)=>{var i=n(4008),r=n(4027)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},614:(e,t,n)=>{n(96);var i=n(4353).Object;e.exports=function(e,t){return i.create(e,t)}},638:(e,t,n)=>{e.exports={default:n(4803),__esModule:!0}},647:(e,t,n)=>{var i=n(1084);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},859:e=>{e.exports={}},935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,s)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(o.get||o.set)?r(s,n,o):s[n]=e[n]);return s}(e,t)}(n(5043)),r=u(n(5173)),o=u(n(7950)),s=n(1212),a=n(4158),l=n(2447),c=u(n(5387));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={start:"touchstart",move:"touchmove",stop:"touchend"},p={start:"mousedown",move:"mousemove",stop:"mouseup"};let f=p;class m extends i.Component{constructor(){super(...arguments),h(this,"dragging",!1),h(this,"lastX",NaN),h(this,"lastY",NaN),h(this,"touchIdentifier",null),h(this,"mounted",!1),h(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&"number"===typeof e.button&&0!==e.button)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:n}=t;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;"touchstart"!==e.type||this.props.allowMobileScroll||e.preventDefault();const i=(0,s.getTouchIdentifier)(e);this.touchIdentifier=i;const r=(0,a.getControlPosition)(e,i,this);if(null==r)return;const{x:o,y:l}=r,u=(0,a.createCoreData)(this,o,l);(0,c.default)("DraggableCore: handleDragStart: %j",u),(0,c.default)("calling",this.props.onStart);!1!==this.props.onStart(e,u)&&!1!==this.mounted&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(n),this.dragging=!0,this.lastX=o,this.lastY=l,(0,s.addEvent)(n,f.move,this.handleDrag),(0,s.addEvent)(n,f.stop,this.handleDragStop))}),h(this,"handleDrag",e=>{const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX,t=i-this.lastY;if([e,t]=(0,a.snapToGrid)(this.props.grid,e,t),!e&&!t)return;n=this.lastX+e,i=this.lastY+t}const r=(0,a.createCoreData)(this,n,i);(0,c.default)("DraggableCore: handleDrag: %j",r);if(!1!==this.props.onDrag(e,r)&&!1!==this.mounted)this.lastX=n,this.lastY=i;else try{this.handleDragStop(new MouseEvent("mouseup"))}catch(o){const e=document.createEvent("MouseEvents");e.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(e)}}),h(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,a.getControlPosition)(e,this.touchIdentifier,this);if(null==t)return;let{x:n,y:i}=t;if(Array.isArray(this.props.grid)){let e=n-this.lastX||0,t=i-this.lastY||0;[e,t]=(0,a.snapToGrid)(this.props.grid,e,t),n=this.lastX+e,i=this.lastY+t}const r=(0,a.createCoreData)(this,n,i);if(!1===this.props.onStop(e,r)||!1===this.mounted)return!1;const o=this.findDOMNode();o&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(o.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",r),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,o&&((0,c.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(o.ownerDocument,f.move,this.handleDrag),(0,s.removeEvent)(o.ownerDocument,f.stop,this.handleDragStop))}),h(this,"onMouseDown",e=>(f=p,this.handleDragStart(e))),h(this,"onMouseUp",e=>(f=p,this.handleDragStop(e))),h(this,"onTouchStart",e=>(f=d,this.handleDragStart(e))),h(this,"onTouchEnd",e=>(f=d,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,s.addEvent)(e,d.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,s.removeEvent)(t,p.move,this.handleDrag),(0,s.removeEvent)(t,d.move,this.handleDrag),(0,s.removeEvent)(t,p.stop,this.handleDragStop),(0,s.removeEvent)(t,d.stop,this.handleDragStop),(0,s.removeEvent)(e,d.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(t)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:o.default.findDOMNode(this)}render(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}t.default=m,h(m,"displayName","DraggableCore"),h(m,"propTypes",{allowAnyClick:r.default.bool,allowMobileScroll:r.default.bool,children:r.default.node.isRequired,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),h(m,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},942:(e,t,n)=>{n(20),n(9610),e.exports=n(4353).Array.from},949:(e,t,n)=>{var i=n(8968),r=n(5429);e.exports=function(e){return function(t,n){var o,s,a=String(r(t)),l=i(n),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},1001:e=>{function t(e,t,n){return e>n&&e<t}function n(e,t){return(e<10?"0":"")+e+t}e.exports=function(e,i,r,o){if(2===o)return{solveState:5};let s="",a=e,l="01U 01R 01B 01R' 01B' 01U'",c=o-1,u=function(e){let t=[],n=e.length/3,i=n/4,r=[];for(let o=n;o<2*n;o++)r.push(e[o]),r.length===i&&(t.push(r),r=[]);return t}(r),h=[u[0][0],u[3][0],u[1][0],u[2][0]],d=[];for(let n=0;n<4;n++)t(a[h[n]][6],c,0)&&a[h[n]][7]===c&&a[h[n]][8]===c?d[0]=a[h[n]][3]:0===a[h[n]][6]&&a[h[n]][7]===c&&t(a[h[n]][8],c,0)?d[1]=a[h[n]][3]:a[h[n]][6]===c&&a[h[n]][7]===c&&t(a[h[n]][8],c,0)?d[2]=a[h[n]][3]:t(a[h[n]][6],c,0)&&a[h[n]][7]===c&&0===a[h[n]][8]&&(d[3]=a[h[n]][3]);let p=!1;if(o%2===0&&o>=4){let e=0;for(let t=0;t<4;t++)"yellow"===a[h[t]][3]&&e++;e%2&&(p=!0,s=`${n(o/2,"r")} 01B2 ${n(o/2,"r'")} 01B2 \n          ${n(o/2,"r")} 01B2 ${n(o/2,"r")} 01B2 \n          ${n(o/2,"l'")} 01B2 ${n(o/2,"r")} 01B2 \n          ${n(o/2,"r'")} 01B2 01D2 \n          ${n(o/2,"r2")} 01D2 ${n(o,"r'")}`)}p||"yellow"===a[h[0]][3]&&"yellow"===a[h[1]][3]&&"yellow"===a[h[2]][3]&&"yellow"===a[h[3]][3]||(s="yellow"===d[0]&&"yellow"===d[3]?"01B "+l:"yellow"===d[1]&&"yellow"===d[2]?l:"yellow"===d[0]&&"yellow"===d[2]?"01B2 "+l+" "+l:"yellow"===d[1]&&"yellow"===d[3]?l+" "+l:"yellow"===d[0]&&"yellow"===d[1]?"01B "+l+" "+l:"yellow"===d[2]&&d[3]?"01B' "+l+" "+l:l);const f=i(s);return s.length?{moveSet:f}:{solveState:5}}},1084:e=>{e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},1106:e=>{function t(e,t,n){return e>n&&e<t}e.exports=function(e,n,i,r){let o="",s=e,a="",l=0;const c=n-1;if(2===n)return{solveState:2};let u=function(e){let t=[],n=e.length/3,i=n/4,r=[];for(let o=0;o<n;o++)r.push(e[o]),r.length===i&&(t.push(r),r=[]);return t}(r),h=u[0][0],d=u[3][0],p=u[1][0],f=u[2][0];for(let g=0;g<s.length;g++)if(o.length&&(a=" "),s[g].includes("white")){let e=0,n=-1,i=s[g][6],r=s[g][7],u=s[g][8];for(let t=0;t<6;t++)"black"===s[g][t]?e++:"white"===s[g][t]&&(n=t);4===e&&(g===h&&0===l&&(t(i,c,0)&&0===r&&u===c?n?o+=a+"01U' 01R' 01F'":l++:i===c&&0===r&&t(u,c,0)?o+=n?a+"01R 01U":a+"01F'":t(i,c,0)&&0===r&&0===u?o+=n?a+"01D 01R 01F'":a+"01F2":0===i&&0===r&&t(u,c,0)?o+=n?a+"01L' 01U'":a+"01F":0===i&&t(r,c,0)&&u===c?o+=1===n?a+"01L 01F":a+"01U'":i===c&&t(r,c,0)&&u===c?o+=1===n?a+"01R' 01F'":a+"01U":i===c&&t(r,c,0)&&0===u?o+=2===n?a+"01D' 01F2":a+"01R 01F'":0===i&&t(r,c,0)&&0===u?o+=4===n?a+"01D 01F2":a+"01L' 01F":t(i,c,0)&&r===c&&u===c?o+=3===n?a+"01U2":a+"01B 01L 01U'":i===c&&r===c&&t(u,c,0)?o+=3===n?a+"01R2 01F'":a+"01R' 01U":t(i,c,0)&&r===c&&0===u?o+=3===n?a+"01B2 01U2":a+"01B' 01L 01U'":0===i&&r===c&&t(u,c,0)&&(o+=3===n?a+"01B' 01U2":a+"01L 01U'")),g===d&&1===l&&(0===i&&0===r&&t(u,c,0)?n?o+=a+"01L' 01R 01U' 01R'":l++:t(i,c,0)&&0===r&&0===u?o+=n?a+"01D' 01L'":a+"01D' 01F' 01D 01F":i===c&&0===r&&t(u,c,0)&&(o+=n?a+"01R 01F 01U 01F'":a+"01R 01F2 01R' 01F2"),0===i&&t(r,c,0)&&u===c?o+=1===n?a+"01L":a+"01F 01U' 01F'":i===c&&t(r,c,0)&&u===c?o+=1===n?a+"01F2 01R' 01F2":a+"01U 01F' 01U'":i===c&&t(r,c,0)&&0===u?o+=2===n?a+"01F' 01D' 01F":a+"01F2 01R 01F2":0===i&&t(r,c,0)&&0===u&&(o+=4===n?a+"01F' 01D 01F":a+"01L'"),t(i,c,0)&&r===c&&u===c?o+=3===n?a+"01F 01U2 01F'":a+"01U' 01L 01U":i===c&&r===c&&t(u,c,0)?o+=3===n?a+"01B2 01L2":a+"01R' 01F 01U 01F'":t(i,c,0)&&r===c&&0===u?o+=3===n?a+"01F' 01D2 01F":a+"01D 01L'":0===i&&r===c&&t(u,c,0)&&(o+=3===n?a+"01L2":a+"01B' 01U' 01L 01U")),g===p&&2===l&&(t(i,c,0)&&0===r&&0===u?o+=n?a+"01D 01R":a+"01D 01F 01D' 01F'":i===c&&0===r&&t(u,c,0)&&(n?o+=a+"01R 01F' 01U 01F":l++),0===i&&t(r,c,0)&&u===c?o+=1===n?a+"01F2 01L 01F2":a+"01F' 01U' 01F":i===c&&t(r,c,0)&&u===c?o+=1===n?a+"01R'":a+"01F' 01U 01F":i===c&&t(r,c,0)&&0===u?o+=2===n?a+"01F 01D' 01F'":a+"01R":0===i&&t(r,c,0)&&0===u&&(o+=4===n?a+"01F 01D 01F'":a+"01F2 01L' 01F2"),t(i,c,0)&&r===c&&u===c?o+=3===n?a+"01F' 01U2 01F":a+"01U 01R' 01U'":i===c&&r===c&&t(u,c,0)?o+=3===n?a+"01R2":a+"01R' 01F' 01U 01F":t(i,c,0)&&r===c&&0===u?o+=3===n?a+"01F 01D2 01F'":a+"01D' 01L":0===i&&r===c&&t(u,c,0)&&(o+=3===n?a+"01B2 01R2":a+"01B' 01U 01R' 01U'")),g===f&&3===l&&(t(i,c,0)&&0===r&&0===u&&(n?o+=a+"01D 01F' 01R 01F":l++),0===i&&t(r,c,0)&&u===c?o+=1===n?a+"01F 01L 01F'":a+"01F2 01U' 01F2":i===c&&t(r,c,0)&&u===c?o+=1===n?a+"01F' 01R' 01F":a+"01F2 01U 01F2":i===c&&t(r,c,0)&&0===u?o+=2===n?a+"01D'":a+"01F' 01R 01F":0===i&&t(r,c,0)&&0===u&&(o+=4===n?a+"01D":a+"01F 01L' 01F'"),t(i,c,0)&&r===c&&u===c?o+=3===n?a+"01F2 01U2 01F2":a+"01B 01L' 01D 01L":i===c&&r===c&&t(u,c,0)?o+=3===n?a+"01F' 01R2 01F":a+"01R 01D' 01R'":t(i,c,0)&&r===c&&0===u?o+=3===n?a+"01D2":a+"01D' 01F' 01R 01F":0===i&&r===c&&t(u,c,0)&&(o+=3===n?a+"01F 01L2 01F'":a+"01L' 01D 01L")))}const m=i(o);return l<4?{moveSet:m}:{solveState:2}}},1153:(e,t,n)=>{"use strict";n(2123);var i=n(5043),r=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;r=o("react.element"),t.Fragment=o("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},1164:(e,t,n)=>{e.exports={default:n(6429),__esModule:!0}},1165:e=>{function t(e,t,n){return e+(t<10?"0":"")+t+n}e.exports=(e,n,i,r)=>{const o=i-1;let s="";if(n.z===o)e.y<o&&e.z===o&&e.x===o?s=2===r?`01L' 01B 01L ${t("",e.y+1,"F'")} 01L' 01B 01L 01B2 ${t("",e.y+1,"F")}`:"01R 01B 01R' 01B' 01U' 01B 01U":e.z===n.z&&e.y===n.y?s=`01L' 01B 01L ${t("",i-e.x,"F'")} 01L' 01B 01L 01B2 ${t("",i-e.x,"F")}`:e.y===o&&e.z!==o?s="01U' 01B 01U":e.y!==o&&(e.z===o&&0===e.x?s="01L' 01B' 01L 01B":0===e.z&&0===e.x?s="01L 01B' 01L' 01B":0===e.z&&e.x===o&&(s="01R' 01B 01R 01B'"));else if(n.x===o)e.y<o&&0===e.z&&e.x===o?s=5===r?`01U' 01B 01U ${t("",e.y+1,"F'")} 01U' 01B 01U 01B2 ${t("",e.y+1,"F")} 01R' 01B2 01R`:"01D 01B 01D' 01B' 01R' 01B 01R2 01B' 01R'":e.x===n.x&&e.y===n.y?s=`01U' 01B 01U ${t("",e.z+1,"F'")} 01U' 01B 01U 01B2 ${t("",e.z+1,"F")} 01R' 01B2 01R`:e.y===o?0===e.z?s="01R' 01B 01R2 01B' 01R'":0===e.x&&(s="01R' 01B2 01R2 01B2 01R'"):e.y!==o&&(e.x===o&&e.z===o?s="01B 01R 01B 01R' 01B2":0===e.x&&e.z===o?s="01L' 01B' 01L 01B":0===e.x&&0===e.z&&(s="01D' 01B 01D 01B'"));else if(0===n.z)e.y<o&&0===e.z&&0===e.x?s=4===r?`01R' 01B 01R ${t("",e.y+1,"F'")} 01R' 01B 01R 01B2 ${t("",e.y+1,"F")} 01D 01U' 01B2 01D' 01U`:"01L 01B 01L' 01B' 01D' 01B 01D2 01B' 01D' 01B' 01R' 01B' 01R 01B2":e.z===n.z&&e.y===n.y?s=`01R' 01B 01R ${t("",e.x+1,"F'")} 01R' 01B 01R 01B2 ${t("",e.x+1,"F")} 01D 01U' 01B2 01D' 01U`:e.y===o?s="01D' 01B 01D2 01B' 01D'":e.y<o&&(s="01D 01R 01U 01B 01U' 01R' 01D'");else if(0===n.x){const a="01R 01B' 01R' 01B 01U 01B 01U' 01B'",l=`01D' 01B 01D ${t("",e.y+1,"F'")} 01D' 01B 01D 01B2 ${t("",e.y+1,"F")} 01L 01R' 01B2 01R 01L'`,c="01B 01U 01B' 01U' 01B' 01R 01B 01R'",u="01R 01B 01R' 01B' 01U' 01B 01U2 01B' 01U' 01B' 01L' 01B' 01L 01B2";e.y<o&&e.z===o&&e.x===o?s=2===r?`${a} ${l} ${c}`:`${u}`:e.y<o&&e.z===o&&0===e.x?s=1===r?`${t("",i-1,"f")} ${a} ${l} ${c} ${t("",i-1,"f'")}`:`${t("",i-1,"f")} ${u} ${t("",i-1,"f'")}`:e.y<o&&0===e.z&&0===e.x?s=4===r?`${t("",i-1,"f2")} ${a} ${l} ${c} ${t("",i-1,"f2")}`:`${t("",i-1,"f2")} ${u} ${t("",i-1,"f2")}`:e.y<o&&0===e.z&&e.x===o?s=5===r?`${t("",i-1,"f'")} ${a} ${l} ${c} ${t("",i-1,"f")}`:`${t("",i-1,"f'")} ${u} ${t("",i-1,"f")}`:e.x===n.x&&e.y===n.y&&(s=`${a} 01D' 01B 01D ${t("",i-e.z,"F'")} 01D' 01B 01D 01B2 ${t("",i-e.z,"F")} 01L 01R' 01B2 01L' 01R 01L 01D 01R 01B 01R' 01D' 01L'`)}return s}},1189:e=>{function t(e,t){return(e<10?"0":"")+e+t}e.exports=(e,n,i)=>{const r=function(e,t){let n="F";return 0===e.x?n="L":e.x===t-1?n="R":e.y===t-1?n="B":0===e.z?n="D":e.z===t-1&&(n="U"),n}(e,i),o=Math.floor(i/2),s=o+1,a=o-1,l=[];if(i%2===0)"D"===r&&(n.x===o-1&&n.y===o-1&&0===n.z?l.push("01D"):n.x===o&&n.y===o-1&&0===n.z?(l.push(t(e.y+1,"F'")),l.push("01R2"),l.push(t(e.y+1,"F"))):n.x===o-1&&n.y===o&&0===n.z?(l.push(t(o+1,"F'")),l.push("01R'"),l.push(t(o+1,"F"))):n.x===n.y||n.x===i-1-n.y||i-1-n.x===i-1-n.y||i-1-n.x===n.y?n.y<o&&n.x<o?l.push("01D"):n.x>o&&n.y<o?l.push(t(e.y+1,"F'"),"01R2",t(e.y+1,"F")):n.x<o&&n.y>o&&l.push(t(e.y+1,"F'"),"01R",t(e.y+1,"F")):l.push("01R'","01D'",t(i-e.x,"F"),"01D",t(i-e.y,"B'"),"01D'",t(i-e.x,"F'"),"01D",t(i-e.y,"B"),"01R")),"R"===r&&(n.x===o-1&&n.y===o-1&&0===n.z?(l.push(t(e.y+1,"F")),l.push("01D2"),l.push(t(e.y+1,"F'"))):n.x===o&&n.y===o-1&&0===n.z?e.y===o&&e.z===o?(l.push("01D"),l.push(t(o+1,"F")),l.push("01D'"),l.push(t(o+1,"F'"))):l.push("01R"):n.x===o-1&&n.y===o&&0===n.z?e.y===o&&e.z===o-1?(l.push("01R"),l.push(t(o+1,"F'")),l.push("01R'"),l.push(t(o+1,"F"))):l.push("01R"):n.x===o&&n.y===o&&0===n.z?e.y===o-1&&e.z===o?(l.push(t(o+1,"F'")),l.push("01R'"),l.push(t(o+1,"F")),l.push("01R"),l.push(t(o+1,"F'")),l.push("01R"),l.push(t(o+1,"F"))):l.push("01R"):n.x===n.y||n.x===i-1-n.y||i-1-n.x===i-1-n.y||i-1-n.x===n.y?e.y<o&&e.z<o?n.x<o&&n.y<o?l.push(t(e.y+1,"F"),"01D'",t(e.y+1,"F'"),"01D"):n.x>o&&n.y<o?l.push("01D'",t(e.y+1,"F"),"01D'",t(e.y+1,"F'"),"01D2"):n.x<o&&n.y>o?l.push(t(i-e.y,"F'"),"01R'",t(i-e.y,"F")):n.x>o&&n.y>o&&l.push("01R'",t(i-e.y,"F"),"01D'",t(i-e.y,"F'"),"01R2","01D",t(i-e.y,"F'"),"01R2",t(i-e.y,"F")):l.push("01R"):e.y===n.y&&e.z===n.x?l.push("01R'","01D'",t(i-e.z,"F"),"01D",t(i-e.y,"B'"),"01D'",t(i-e.z,"F'"),"01D",t(i-e.y,"B"),"01R"):l.push("01R"));else if(i%2)switch(r){case"D":n.x>=a&&n.x<=s&&n.y>=a&&n.y<=s?n.y===a?n.x===a?l.push("01D"):n.x===o?e.x<o?(l.push(t(e.y+1,"F")),l.push("01D'"),l.push(t(e.y+1,"F'")),l.push("01D")):e.x>o?(l.push(t(e.y+1,"F")),l.push("01D"),l.push(t(e.y+1,"F'")),l.push("01D'")):(l.push(t(e.y+1,"F'")),l.push("01R'"),l.push(t(e.y+1,"F"))):(l.push(t(e.y+1,"F")),l.push("01D"),l.push(t(e.y+1,"F'")),l.push("01D'")):n.y===o?n.x===a?e.y===o?(l.push(t(a+1,"F")),l.push("01D2"),l.push(t(a+1,"F'"))):(l.push(t(a+1,"F")),l.push("01D"),l.push(t(a+1,"F'"))):(l.push(t(e.y+1,"F'")),l.push("01R"),l.push(t(e.y+1,"F"))):n.x===a&&(l.push(t(e.y+1,"F'")),l.push("01R"),l.push(t(e.y+1,"F"))):n.x===n.y||n.x===i-1-n.y||i-1-n.x===i-1-n.y||i-1-n.x===n.y?n.y<o&&n.x<o?l.push("01D"):n.x>o&&n.y<o?l.push(t(e.y+1,"F'"),"01R2",t(e.y+1,"F")):n.x<o&&n.y>o&&l.push(t(e.y+1,"F'"),"01R",t(e.y+1,"F")):l.push("01R'","01D'",t(i-e.x,"F"),"01D",t(i-e.y,"B'"),"01D'",t(i-e.x,"F'"),"01D",t(i-e.y,"B"),"01R");break;case"R":n.x>=o-1&&n.x<=o+1&&n.y>=o-1&&n.y<=o+1?n.y===a?n.x===a?(l.push(t(e.y+1,"F")),l.push("01D2"),l.push(t(e.y+1,"F'"))):n.x===o?e.z===s?(l.push("01D"),l.push(t(e.y+1,"F")),l.push("01D'"),l.push(t(e.y+1,"F'"))):l.push("01R"):e.y===s&&e.z===s?(l.push("01D"),l.push(t(e.y+1,"F")),l.push("01D'"),l.push(t(e.y+1,"F'"))):l.push("01R"):n.y===o?n.x===a?e.y===s?(l.push(t(o+1,"F'")),l.push("01R"),l.push(t(o+1,"F"))):l.push("01R'"):e.z===a?(l.push(t(a+1,"F")),l.push("01D'"),l.push(t(a+1,"F'")),l.push("01R"),l.push(t(a+1,"F")),l.push("01D"),l.push(t(a+1,"F'"))):l.push("01R'"):n.x===a?e.z===a&&e.y===a?(l.push(t(s+1,"F'")),l.push("01R'"),l.push(t(s+1,"F"))):l.push("01R"):n.x===o?e.y===s?(l.push(t(e.y+1,"F'")),l.push("01R'"),l.push(t(e.y+1,"F")),l.push("01R'"),l.push(t(e.y+1,"F'")),l.push("01R"),l.push(t(e.y+1,"F"))):l.push("01R"):e.y===s&&e.z===a?(l.push(t(e.y+1,"F")),l.push("01D'"),l.push(t(e.y+1,"F'")),l.push("01D'"),l.push(t(e.y+1,"F")),l.push("01D2"),l.push(t(e.y+1,"F'"))):l.push("01R"):n.x===n.y||n.x===i-1-n.y||i-1-n.x===i-1-n.y||i-1-n.x===n.y?e.y<o&&e.z<o?n.x<o&&n.y<o?l.push(t(e.y+1,"F"),"01D'",t(e.y+1,"F'"),"01D"):n.x>o&&n.y<o?l.push("01D'",t(e.y+1,"F"),"01D'",t(e.y+1,"F'"),"01D2"):n.x<o&&n.y>o?l.push(t(i-e.y,"F'"),"01R'",t(i-e.y,"F")):n.x>o&&n.y>o&&l.push("01R'",t(i-e.y,"F"),"01D'",t(i-e.y,"F'"),"01R2","01D",t(i-e.y,"F'"),"01R2",t(i-e.y,"F")):l.push("01R"):e.y===n.y&&e.z===n.x?l.push("01R'","01D'",t(i-e.z,"F"),"01D",t(i-e.y,"B'"),"01D'",t(i-e.z,"F'"),"01D",t(i-e.y,"B"),"01R"):l.push("01R");break;default:console.log("Woops something broke. Only red and green should be unsolved.")}return l.join(" ")}},1204:e=>{function t(e,t,n){return e+(t<10?"0":"")+t+n}e.exports=(e,n,i,r)=>{let o="F",s=Math.floor(i/2),a="";return 0===e.x?o="L":e.x===i-1?o="R":e.y===i-1?o="B":0===e.z?o="D":e.z===i-1&&(o="U"),"B"===o?(a+=t(" ",e.z+1,"D'"),a+=i%2&&e.z===s?" 01R":" 01R2",a+=t(" ",e.z+1,"D"),a+=i%2&&e.z===s?" 01R":"",a+=t(" ",e.x+1,"F"),a+=i%2&&e.z===s?" 01R'":"",a+=t(" ",e.z+1,"D'"),a+=i%2&&e.z===s?" 01R'":" 01R2",a+=t(" ",e.z+1,"D")):"R"!==o?a=t("",e.y+1,"F"):e.y!==i-(n.x+1)||e.z!==n.z?a="01R":(a=t("",e.y+1,"F'"),a+=t(" ",e.z+1,"D'"),e.y>=s&&e.z>=s||e.y<s&&e.z<s?a+=" 01L":a+=" 01L'",a+=t(" ",e.y+1,"F"),e.y>=s&&e.z>=s||e.y<s&&e.z<s?a+=" 01L'":a+=" 01L",a+=t(" ",e.z+1,"D")),a}},1212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=c,t.addEvent=function(e,t,n,i){if(!e)return;const r={capture:!0,...i};e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&c(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){const n=a(e,t,"px");return{[(0,r.browserPrefixToKey)("transform",r.default)]:n}},t.createSVGTransform=function(e,t){return a(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,e=>t===e.identifier)||e.changedTouches&&(0,i.findInArray)(e.changedTouches,e=>t===e.identifier)},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=a,t.innerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom),t},t.innerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight),t},t.matchesSelector=s,t.matchesSelectorAndParentsTo=function(e,t,n){let i=e;do{if(s(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1},t.offsetXYFromParent=function(e,t,n){const i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=(e.clientX+t.scrollLeft-i.left)/n,o=(e.clientY+t.scrollTop-i.top)/n;return{x:r,y:o}},t.outerHeight=function(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth),t},t.outerWidth=function(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth),t},t.removeClassName=u,t.removeEvent=function(e,t,n,i){if(!e)return;const r={capture:!0,...i};e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.scheduleRemoveUserSelectStyles=function(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{l(e)}):l(e)};var i=n(2447),r=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,s)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(o.get||o.set)?r(s,n,o):s[n]=e[n]);return s}(e,t)}(n(1561));let o="";function s(e,t){return o||(o=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,i.isFunction)(e[t])})),!!(0,i.isFunction)(e[o])&&e[o](t)}function a(e,t,n){let{x:i,y:r}=e,o=`translate(${i}${n},${r}${n})`;if(t){o=`translate(${`${"string"===typeof t.x?t.x:t.x+n}`}, ${`${"string"===typeof t.y?t.y:t.y+n}`})`+o}return o}function l(e){if(e)try{if(e.body&&u(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(t){}}function c(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp(`(?:^|\\s)${t}(?!\\S)`))||(e.className+=` ${t}`)}function u(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(`(?:^|\\s)${t}(?!\\S)`,"g"),"")}},1217:(e,t,n)=>{n(7403),e.exports=n(4353).Object.getPrototypeOf},1422:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},1432:e=>{e.exports=function(e,t,n,i){let r="",o=e,s=0,a=t,l=a-1,c=i[0],u=i[1],h=i[2],d=i[3];for(let f=0;f<o.length;f++){let e=-1,t=o[f][6],n=o[f][7],i=o[f][8];for(let r=0;r<6;r++)"white"===o[f][r]&&(e=r);f===c&&0===s&&(0===t&&0===n&&i===l?0===e?s++:r=1===e?"01L' 01B 01L 01B' 01L' 01B 01L":"01L' 01B' 01L 01B2 01U 01B' 01U'":t===l&&0===n&&i===l?r="01R 01L' 01B 01L 01R'":t===l&&0===n&&0===i?r="01R' 01B' 01R 01U 01B' 01U'":0===t&&0===n&&0===i?r="01D' 01U 01B 01U' 01D":0===t&&n===l&&i===l?r="01U 01B 01U'":t===l&&n===l&&i===l?r="01L' 01B 01L":t===l&&n===l&&0===i?r="01L' 01B2 01L":0===t&&n===l&&0===i&&(r="01U 01B' 01U'")),f===u&&1===s&&(t===l&&0===n&&i===l?0===e?s++:r=1===e?"01R 01B' 01R' 01B 01R 01B' 01R'":"01U' 01B 01U 01B' 01U' 01B 01U":t===l&&0===n&&0===i?r="01U' 01D 01B 01D' 01U":0===t&&0===n&&0===i?r="01L 01R 01B2 01R' 01L'":0===t&&n===l&&i===l?r="01R 01B' 01R'":t===l&&n===l&&i===l?r="01B 01R 01B' 01R'":t===l&&n===l&&0===i?r="01B2 01R 01B' 01R'":0===t&&n===l&&0===i&&(r="01R 01B2 01R'")),f===h&&2===s&&(0===t&&0===n&&0===i?0===e?s++:r=4===e?"01D' 01B 01D 01B' 01D' 01B 01D":"01L 01B' 01L' 01B 01L 01B' 01L'":t===l&&0===n&&0===i?r="01R' 01L 01B' 01L' 01R":0===t&&n===l&&i===l?r="01D' 01B 01D":t===l&&n===l&&i===l?r="01D' 01B2 01D":t===l&&n===l&&0===i?r="01B' 01D' 01B' 01D":0===t&&n===l&&0===i&&(r="01D' 01B' 01D")),f===d&&3===s&&(t===l&&0===n&&0===i?0===e?s++:r=2===e?"01D 01B' 01D' 01B 01D 01B' 01D'":"01R' 01B 01R 01B' 01R' 01B 01R":0===t&&n===l&&i===l?r=" 01R' 01B2 01R":t===l&&n===l&&i===l?r="01D 01B' 01D'":t===l&&n===l&&0===i?r="01B 01D 01B' 01D'":0===t&&n===l&&0===i&&(r="01R' 01B 01R"))}const p=n(r);return s<4?{moveSet:p}:2===a?{solveState:6}:{solveState:3}}},1496:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},1561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=r,t.browserPrefixToStyle=function(e,t){return t?`-${t.toLowerCase()}-${e}`:e},t.default=void 0,t.getPrefix=i;const n=["Moz","Webkit","O","ms"];function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";const t=window.document?.documentElement?.style;if(!t)return"";if(e in t)return"";for(let i=0;i<n.length;i++)if(r(e,n[i])in t)return n[i];return""}function r(e,t){return t?`${t}${function(e){let t="",n=!0;for(let i=0;i<e.length;i++)n?(t+=e[i].toUpperCase(),n=!1):"-"===e[i]?n=!0:t+=e[i];return t}(e)}`:e}t.default=i()},1638:(e,t,n)=>{var i=n(8330),r=n(8721).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},1693:(e,t,n)=>{var i=n(8321);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(s){var o=e.return;throw void 0!==o&&i(o.call(e)),s}}},1717:(e,t,n)=>{var i=n(4027)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(s){}return n}},1774:(e,t,n)=>{var i=n(8544),r=n(5429);e.exports=function(e){return i(r(e))}},1777:(e,t,n)=>{"use strict";var i,r=n(5560),o=(i=r)&&i.__esModule?i:{default:i};t.A=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1827:(e,t,n)=>{"use strict";var i=n(5761),r=n(1496),o=n(4098),s=n(7832),a=n(3384),l=n(7367).KEY,c=n(5949),u=n(8563),h=n(3193),d=n(1422),p=n(4027),f=n(7705),m=n(6535),g=n(8212),v=n(2294),y=n(8321),b=n(1084),x=n(4591),_=n(1774),w=n(647),S=n(9885),M=n(5478),E=n(7800),T=n(8500),C=n(9729),L=n(9066),A=n(8198),P=T.f,R=L.f,D=E.f,k=i.Symbol,O=i.JSON,N=O&&O.stringify,F="prototype",I=p("_hidden"),B=p("toPrimitive"),z={}.propertyIsEnumerable,j=u("symbol-registry"),U=u("symbols"),H=u("op-symbols"),V=Object[F],W="function"==typeof k&&!!C.f,G=i.QObject,q=!G||!G[F]||!G[F].findChild,X=o&&c(function(){return 7!=M(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=P(V,t);i&&delete V[t],R(e,t,n),i&&e!==V&&R(V,t,i)}:R,Y=function(e){var t=U[e]=M(k[F]);return t._k=e,t},$=W&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},Z=function(e,t,n){return e===V&&Z(H,t,n),y(e),t=w(t,!0),y(n),r(U,t)?(n.enumerable?(r(e,I)&&e[I][t]&&(e[I][t]=!1),n=M(n,{enumerable:S(0,!1)})):(r(e,I)||R(e,I,S(1,{})),e[I][t]=!0),X(e,t,n)):R(e,t,n)},J=function(e,t){y(e);for(var n,i=g(t=_(t)),r=0,o=i.length;o>r;)Z(e,n=i[r++],t[n]);return e},K=function(e){var t=z.call(this,e=w(e,!0));return!(this===V&&r(U,e)&&!r(H,e))&&(!(t||!r(this,e)||!r(U,e)||r(this,I)&&this[I][e])||t)},Q=function(e,t){if(e=_(e),t=w(t,!0),e!==V||!r(U,t)||r(H,t)){var n=P(e,t);return!n||!r(U,t)||r(e,I)&&e[I][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=D(_(e)),i=[],o=0;n.length>o;)r(U,t=n[o++])||t==I||t==l||i.push(t);return i},te=function(e){for(var t,n=e===V,i=D(n?H:_(e)),o=[],s=0;i.length>s;)!r(U,t=i[s++])||n&&!r(V,t)||o.push(U[t]);return o};W||(a((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(H,n),r(this,I)&&r(this[I],e)&&(this[I][e]=!1),X(this,e,S(1,n))};return o&&q&&X(V,e,{configurable:!0,set:t}),Y(e)})[F],"toString",function(){return this._k}),T.f=Q,L.f=Z,n(1638).f=E.f=ee,n(3350).f=K,C.f=te,o&&!n(9799)&&a(V,"propertyIsEnumerable",K,!0),f.f=function(e){return Y(p(e))}),s(s.G+s.W+s.F*!W,{Symbol:k});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;ne.length>ie;)p(ne[ie++]);for(var re=A(p.store),oe=0;re.length>oe;)m(re[oe++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=k(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?M(e):J(M(e),t)},defineProperty:Z,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var se=c(function(){C.f(1)});s(s.S+s.F*se,"Object",{getOwnPropertySymbols:function(e){return C.f(x(e))}}),O&&s(s.S+s.F*(!W||c(function(){var e=k();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);if(n=t=i[1],(b(t)||void 0!==e)&&!$(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),i[1]=t,N.apply(O,i)}}),k[F][B]||n(2374)(k[F],B,k[F].valueOf),h(k,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},1912:(e,t,n)=>{"use strict";var i,r=n(6926),o=(i=r)&&i.__esModule?i:{default:i};t.A=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,o.default)(t))&&"function"!==typeof t?e:t}},1929:(e,t,n)=>{"use strict";const{default:i,DraggableCore:r}=n(8136);e.exports=i,e.exports.default=i,e.exports.DraggableCore=r},2001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,n=/(scroll|auto)/,i=e;i;){if(!i.parentNode)return e.ownerDocument||document.documentElement;var r=window.getComputedStyle(i),o=r.position,s=r.overflow,a=r["overflow-x"],l=r["overflow-y"];if("static"===o&&t)i=i.parentNode;else{if(n.test(s)&&n.test(a)&&n.test(l))return i;i=i.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},2015:(e,t,n)=>{n(5449);var i=n(4353).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},2079:(e,t,n)=>{n(1827),n(6819),n(8987),n(3655),e.exports=n(4353).Symbol},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var u=0;u<s.length;u++)i.call(o,s[u])&&(a[s[u]]=o[s[u]])}}return a}},2239:(e,t,n)=>{"use strict";var i,r=n(5560),o=(i=r)&&i.__esModule?i:{default:i};t.A=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},2294:(e,t,n)=>{var i=n(4008);e.exports=Array.isArray||function(e){return"Array"==i(e)}},2374:(e,t,n)=>{var i=n(9066),r=n(9885);e.exports=n(4098)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},2395:e=>{e.exports=function(){}},2447:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error(`Invalid prop ${t} passed to ${n} - do not set this, set it on the child.`)},t.findInArray=function(e,t){for(let n=0,i=e.length;n<i;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},2721:(e,t,n)=>{var i=n(1084),r=n(5761).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(2123),o=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,i,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,i){var r=v.hasOwnProperty(t)?v[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!p.call(m,e)||!p.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var _=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,S=60106,M=60107,E=60108,T=60114,C=60109,L=60110,A=60112,P=60113,R=60120,D=60115,k=60116,O=60121,N=60128,F=60129,I=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;w=z("react.element"),S=z("react.portal"),M=z("react.fragment"),E=z("react.strict_mode"),T=z("react.profiler"),C=z("react.provider"),L=z("react.context"),A=z("react.forward_ref"),P=z("react.suspense"),R=z("react.suspense_list"),D=z("react.memo"),k=z("react.lazy"),O=z("react.block"),z("react.scope"),N=z("react.opaque.id"),F=z("react.debug_trace_mode"),I=z("react.offscreen"),B=z("react.legacy_hidden")}var j,U="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}function V(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function G(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var r=l.stack.split("\n"),o=i.stack.split("\n"),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||r[s]!==o[a])return"\n"+r[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case M:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case L:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return X(e.type);case O:return X(e._render);case k:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=$(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?re(e,t.type,n):t.hasOwnProperty("defaultValue")&&re(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function re(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function se(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),i=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ge(e,t)})}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];function _e(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=_e(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(be).forEach(function(e){xe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]})});var Se=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Le=null,Ae=null;function Pe(e){if(e=ir(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=or(t),Ce(e.stateNode,e.type,t))}}function Re(e){Le?Ae?Ae.push(e):Ae=[e]:Le=e}function De(){if(Le){var e=Le,t=Ae;if(Ae=Le=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function ke(e,t){return e(t)}function Oe(e,t,n,i,r){return e(t,n,i,r)}function Ne(){}var Fe=ke,Ie=!1,Be=!1;function ze(){null===Le&&null===Ae||(Ne(),De())}function je(e,t){var n=e.stateNode;if(null===n)return null;var i=or(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ue=!1;if(h)try{var He={};Object.defineProperty(He,"passive",{get:function(){Ue=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ge){Ue=!1}function Ve(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var We=!1,Ge=null,qe=!1,Xe=null,Ye={onError:function(e){We=!0,Ge=e}};function $e(e,t,n,i,r,o,s,a,l){We=!1,Ge=null,Ve.apply(Ye,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Ze(e)!==e)throw Error(s(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Ke(r),e;if(o===i)return Ke(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=o;break}if(l===i){a=!0,i=r,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=r;break}if(l===i){a=!0,i=o,n=r;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,it,rt,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,i,r){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:r,targetContainers:[i]}}function mt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,i,r,o),null!==t&&(null!==(t=ir(t))&&nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function vt(e){var t=nr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void rt(e.lanePriority,function(){o.unstable_runWithPriority(e.priority,function(){it(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ir(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function xt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ir(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),ht.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,xt)))}function wt(e){function t(t){return _t(t,e)}if(0<st.length){_t(st[0],e);for(var n=1;n<st.length;n++){var i=st[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==at&&_t(at,e),null!==lt&&_t(lt,e),null!==ct&&_t(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<dt.length;n++)(i=dt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)vt(n),null===n.blockedOn&&dt.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Et={},Tt={};function Ct(e){if(Et[e])return Et[e];if(!Mt[e])return e;var t,n=Mt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Mt.animationend.animation,delete Mt.animationiteration.animation,delete Mt.animationstart.animation),"TransitionEvent"in window||delete Mt.transitionend.transition);var Lt=Ct("animationend"),At=Ct("animationiteration"),Pt=Ct("animationstart"),Rt=Ct("transitionend"),Dt=new Map,kt=new Map,Ot=["abort","abort",Lt,"animationEnd",At,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1];r="on"+(r[0].toUpperCase()+r.slice(1)),kt.set(i,t),Dt.set(i,r),c(r,[i])}}(0,o.unstable_now)();var Ft=8;function It(e){if(0!==(1&e))return Ft=15,1;if(0!==(2&e))return Ft=14,2;if(0!==(4&e))return Ft=13,4;var t=24&e;return 0!==t?(Ft=12,t):0!==(32&e)?(Ft=11,32):0!==(t=192&e)?(Ft=10,t):0!==(256&e)?(Ft=9,256):0!==(t=3584&e)?(Ft=8,t):0!==(4096&e)?(Ft=7,4096):0!==(t=4186112&e)?(Ft=6,t):0!==(t=62914560&e)?(Ft=5,t):67108864&e?(Ft=4,67108864):0!==(134217728&e)?(Ft=3,134217728):0!==(t=805306368&e)?(Ft=2,t):0!==(1073741824&e)?(Ft=1,1073741824):(Ft=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Ft=0;var i=0,r=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)i=o,r=Ft=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(i=It(l),r=Ft):0!==(a&=o)&&(i=It(a),r=Ft)}else 0!==(o=n&~s)?(i=It(o),r=Ft):0!==a&&(i=It(a),r=Ft);if(0===i)return 0;if(i=n&((0>(i=31-Wt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&s)){if(It(t),r<=Ft)return t;Ft=r}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-Wt(t)),i|=e[n],t&=~r;return i}function zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ut(24&~t))?jt(10,t):e;case 10:return 0===(e=Ut(192&~t))?jt(8,t):e;case 8:return 0===(e=Ut(3584&~t))&&(0===(e=Ut(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ut(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ut(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Xt=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,$t=!0;function Zt(e,t,n,i){Ie||Ne();var r=Kt,o=Ie;Ie=!0;try{Oe(r,e,t,n,i)}finally{(Ie=o)||ze()}}function Jt(e,t,n,i){Yt(Xt,Kt.bind(null,e,t,n,i))}function Kt(e,t,n,i){var r;if($t)if((r=0===(4&t))&&0<st.length&&-1<pt.indexOf(e))e=ft(null,e,t,n,i),st.push(e);else{var o=Qt(e,t,n,i);if(null===o)r&&mt(e,i);else{if(r){if(-1<pt.indexOf(e))return e=ft(o,e,t,n,i),void st.push(e);if(function(e,t,n,i,r){switch(t){case"focusin":return at=gt(at,e,t,n,i,r),!0;case"dragenter":return lt=gt(lt,e,t,n,i,r),!0;case"mouseover":return ct=gt(ct,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,n,i,r)),!0}return!1}(o,e,t,n,i))return;mt(e,i)}Ni(e,t,i,null,n)}}}function Qt(e,t,n,i){var r=Te(i);if(null!==(r=nr(r))){var o=Ze(r);if(null===o)r=null;else{var s=o.tag;if(13===s){if(null!==(r=Je(o)))return r;r=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Ni(e,t,i,r,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,i=n.length,r="value"in en?en.value:en.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return nn=r.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function ln(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?sn:an,this.isPropagationStopped=an,this}return r(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,un,hn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(dn),fn=r({},dn,{view:0,detail:0}),mn=ln(fn),gn=r({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(gn),yn=ln(r({},gn,{dataTransfer:0})),bn=ln(r({},fn,{relatedTarget:0})),xn=ln(r({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=r({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=ln(_n),Sn=ln(r({},dn,{data:0})),Mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Ln(){return Cn}var An=r({},fn,{key:function(e){if(e.key){var t=Mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=ln(An),Rn=ln(r({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=ln(r({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),kn=ln(r({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=r({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=ln(On),Fn=[9,13,27,32],In=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var zn=h&&"TextEvent"in window&&!Bn,jn=h&&(!In||Bn&&8<Bn&&11>=Bn),Un=String.fromCharCode(32),Hn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Yn(e,t,n,i){Re(i),0<(t=Ii(t,"onChange")).length&&(n=new pn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $n=null,Zn=null;function Jn(e){Ai(e,0)}function Kn(e){if(J(rr(e)))return e}function Qn(e,t){if("change"===e)return t}var ei=!1;if(h){var ti;if(h){var ni="oninput"in document;if(!ni){var ii=document.createElement("div");ii.setAttribute("oninput","return;"),ni="function"===typeof ii.oninput}ti=ni}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function ri(){$n&&($n.detachEvent("onpropertychange",oi),Zn=$n=null)}function oi(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];if(Yn(t,Zn,e,Te(e)),e=Jn,Ie)e(t);else{Ie=!0;try{ke(e,t)}finally{Ie=!1,ze()}}}}function si(e,t,n){"focusin"===e?(ri(),Zn=n,($n=t).attachEvent("onpropertychange",oi)):"focusout"===e&&ri()}function ai(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function li(e,t){if("click"===e)return Kn(t)}function ci(e,t){if("input"===e||"change"===e)return Kn(t)}var ui="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hi=Object.prototype.hasOwnProperty;function di(e,t){if(ui(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!hi.call(t,n[i])||!ui(e[n[i]],t[n[i]]))return!1;return!0}function pi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fi(e,t){var n,i=pi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=pi(i)}}function mi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yi=h&&"documentMode"in document&&11>=document.documentMode,bi=null,xi=null,_i=null,wi=!1;function Si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==bi||bi!==K(i)||("selectionStart"in(i=bi)&&vi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},_i&&di(_i,i)||(_i=i,0<(i=Ii(xi,"onSelect")).length&&(t=new pn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=bi)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ot,2);for(var Mi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ei=0;Ei<Mi.length;Ei++)kt.set(Mi[Ei],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Li(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,o,a,l,c){if($e.apply(this,arguments),We){if(!We)throw Error(s(198));var u=Ge;We=!1,Ge=null,qe||(qe=!0,Xe=u)}}(i,t,void 0,e),e.currentTarget=null}function Ai(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Li(r,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Li(r,a,c),o=l}}}if(qe)throw e=Xe,qe=!1,Xe=null,e}function Pi(e,t){var n=sr(t),i=e+"__bubble";n.has(i)||(Oi(t,e,2,!1),n.add(i))}var Ri="_reactListening"+Math.random().toString(36).slice(2);function Di(e){e[Ri]||(e[Ri]=!0,a.forEach(function(t){Ci.has(t)||ki(t,!1,e,null),ki(t,!0,e,null)}))}function ki(e,t,n,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==i&&!t&&Ci.has(e)){if("scroll"!==e)return;r|=2,o=i}var s=sr(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(r|=4),Oi(o,e,r,t),s.add(a))}function Oi(e,t,n,i){var r=kt.get(t);switch(void 0===r?2:r){case 0:r=Zt;break;case 1:r=Jt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Ue||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ni(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r||8===a.nodeType&&a.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==a;){if(null===(s=nr(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{return Fe(e,t,n)}finally{Be=!1,ze()}}(function(){var i=o,r=Te(n),s=[];e:{var a=Dt.get(e);if(void 0!==a){var l=pn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case Lt:case At:case Pt:l=xn;break;case Rt:l=kn;break;case"scroll":l=mn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=je(f,d))&&u.push(Fi(f,m,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,r),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!nr(c)&&!c[er])&&(l||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?nr(c):null)&&(c!==(h=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=vn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:rr(l),p=null==c?a:rr(c),(a=new u(m,f+"leave",l,n,r)).target=h,a.relatedTarget=p,m=null,nr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Bi(p))f++;for(p=0,m=d;m;m=Bi(m))p++;for(;0<f-p;)u=Bi(u),f--;for(;0<p-f;)d=Bi(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Bi(u),d=Bi(d)}u=null}else u=null;null!==l&&zi(s,a,l,u,!1),null!==c&&null!==h&&zi(s,h,c,u,!0)}if("select"===(l=(a=i?rr(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Xn(a))if(ei)g=ci;else{g=ai;var v=si}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=li);switch(g&&(g=g(e,i))?Yn(s,g,n,r):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&re(a,"number",a.value)),v=i?rr(i):window,e){case"focusin":(Xn(v)||"true"===v.contentEditable)&&(bi=v,xi=i,_i=null);break;case"focusout":_i=xi=bi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,Si(s,n,r);break;case"selectionchange":if(yi)break;case"keydown":case"keyup":Si(s,n,r)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=rn()):(tn="value"in(en=r)?en.value:en.textContent,Gn=!0)),0<(v=Ii(i,b)).length&&(b=new Sn(b,e,null,n,r),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=zn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Hn=!0,Un);case"textInput":return(e=t.data)===Un&&Hn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!In&&Vn(e,t)?(e=rn(),nn=tn=en=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ii(i,"onBeforeInput")).length&&(r=new Sn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=y))}Ai(s,t)})}function Fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=je(e,n))&&i.unshift(Fi(e,o,r)),null!=(o=je(e,t))&&i.push(Fi(e,o,r))),e=e.return}return i}function Bi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zi(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,r?null!=(l=je(n,o))&&s.unshift(Fi(n,l,a)):r||null!=(l=je(n,o))&&s.push(Fi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function ji(){}var Ui=null,Hi=null;function Vi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gi="function"===typeof setTimeout?setTimeout:void 0,qi="function"===typeof clearTimeout?clearTimeout:void 0;function Xi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $i(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zi=0;var Ji=Math.random().toString(36).slice(2),Ki="__reactFiber$"+Ji,Qi="__reactProps$"+Ji,er="__reactContainer$"+Ji,tr="__reactEvents$"+Ji;function nr(e){var t=e[Ki];if(t)return t;for(var n=e.parentNode;n;){if(t=n[er]||n[Ki]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$i(e);null!==e;){if(n=e[Ki])return n;e=$i(e)}return t}n=(e=n).parentNode}return null}function ir(e){return!(e=e[Ki]||e[er])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function rr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function or(e){return e[Qi]||null}function sr(e){var t=e[tr];return void 0===t&&(t=e[tr]=new Set),t}var ar=[],lr=-1;function cr(e){return{current:e}}function ur(e){0>lr||(e.current=ar[lr],ar[lr]=null,lr--)}function hr(e,t){lr++,ar[lr]=e.current,e.current=t}var dr={},pr=cr(dr),fr=cr(!1),mr=dr;function gr(e,t){var n=e.type.contextTypes;if(!n)return dr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yr(){ur(fr),ur(pr)}function br(e,t,n){if(pr.current!==dr)throw Error(s(168));hr(pr,t),hr(fr,n)}function xr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(s(108,X(t)||"Unknown",o));return r({},n,i)}function _r(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,mr=pr.current,hr(pr,e),hr(fr,fr.current),!0}function wr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=xr(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,ur(fr),ur(pr),hr(pr,e)):ur(fr),hr(fr,n)}var Sr=null,Mr=null,Er=o.unstable_runWithPriority,Tr=o.unstable_scheduleCallback,Cr=o.unstable_cancelCallback,Lr=o.unstable_shouldYield,Ar=o.unstable_requestPaint,Pr=o.unstable_now,Rr=o.unstable_getCurrentPriorityLevel,Dr=o.unstable_ImmediatePriority,kr=o.unstable_UserBlockingPriority,Or=o.unstable_NormalPriority,Nr=o.unstable_LowPriority,Fr=o.unstable_IdlePriority,Ir={},Br=void 0!==Ar?Ar:function(){},zr=null,jr=null,Ur=!1,Hr=Pr(),Vr=1e4>Hr?Pr:function(){return Pr()-Hr};function Wr(){switch(Rr()){case Dr:return 99;case kr:return 98;case Or:return 97;case Nr:return 96;case Fr:return 95;default:throw Error(s(332))}}function Gr(e){switch(e){case 99:return Dr;case 98:return kr;case 97:return Or;case 96:return Nr;case 95:return Fr;default:throw Error(s(332))}}function qr(e,t){return e=Gr(e),Er(e,t)}function Xr(e,t,n){return e=Gr(e),Tr(e,t,n)}function Yr(){if(null!==jr){var e=jr;jr=null,Cr(e)}$r()}function $r(){if(!Ur&&null!==zr){Ur=!0;var e=0;try{var t=zr;qr(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),zr=null}catch(n){throw null!==zr&&(zr=zr.slice(e+1)),Tr(Dr,Yr),n}finally{Ur=!1}}}var Zr=_.ReactCurrentBatchConfig;function Jr(e,t){if(e&&e.defaultProps){for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Kr=cr(null),Qr=null,eo=null,to=null;function no(){to=eo=Qr=null}function io(e){var t=Kr.current;ur(Kr),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Qr=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Is=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qr)throw Error(s(308));eo=t,Qr.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,i){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(d=o.baseState,a=0,h=u=c=null;;){l=s.lane;var p=s.eventTime;if((i&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(l=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,l);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=m.payload)?f.call(p,d,l):f)||void 0===l)break e;d=r({},d,l);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Ha|=a,e.lanes=a,e.memoizedState=d}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var go=(new i.Component).refs;function vo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=pl(),r=fl(e),o=uo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),ml(e,r,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=pl(),r=fl(e),o=uo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),ml(e,r,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),i=fl(e),r=uo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),ho(e,r),ml(e,i,n)}};function bo(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!di(n,i)||!di(r,o))}function xo(e,t,n){var i=!1,r=dr,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(r=vr(t)?mr:pr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?gr(e,r):dr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function wo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=go,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=so(o):(o=vr(t)?mr:pr.current,r.context=gr(e,o)),fo(e,n,r,i),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&yo.enqueueReplaceState(r,r.state,null),fo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function Mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;t===go&&(t=i.refs={}),null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function To(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Xl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Jl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Mo(e,t,n),i.return=e,i):((i=Yl(n.type,n.key,n.props,null,e.mode,i)).ref=Mo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=$l(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Yl(t.type,t.key,t.props,null,e.mode,n)).ref=Mo(e,null,t),n.return=e,n;case S:return(t=Kl(t,e.mode,n)).return=e,t}if(So(t)||H(t))return(t=$l(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?n.type===M?h(e,t,n.props.children,i,r):c(e,t,n,i):null;case S:return n.key===r?u(e,t,n,i):null}if(So(n)||H(n))return null!==r?null:h(e,t,n,i,null);Eo(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return e=e.get(null===i.key?n:i.key)||null,i.type===M?h(t,e,i.props.children,r,i.key):c(t,e,i,r);case S:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(So(i)||H(i))return h(t,e=e.get(n)||null,i,r,null);Eo(t,i)}return null}function m(r,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(r,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(r,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(r,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(r,h);m<a.length;m++)null!==(g=f(h,r,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(r,e)}),c}function g(r,a,l,c){var u=H(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(r,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(r,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(r,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(r,e)}),u}return function(e,i,o,l){var c="object"===typeof o&&null!==o&&o.type===M&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case w:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===M){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}}else if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=Mo(e,c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===M?((i=$l(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Yl(o.type,o.key,o.props,null,e.mode,l)).ref=Mo(e,i,o),l.return=e,e=l)}return a(e);case S:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Kl(o,e.mode,l)).return=e,e=i}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Jl(o,e.mode,l)).return=e,e=i),a(e);if(So(o))return m(e,i,o,l);if(H(o))return g(e,i,o,l);if(u&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,X(e.type)||"Component"))}return n(e,i)}}var Co=To(!0),Lo=To(!1),Ao={},Po=cr(Ao),Ro=cr(Ao),Do=cr(Ao);function ko(e){if(e===Ao)throw Error(s(174));return e}function Oo(e,t){switch(hr(Do,t),hr(Ro,e),hr(Po,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ur(Po),hr(Po,t)}function No(){ur(Po),ur(Ro),ur(Do)}function Fo(e){ko(Do.current);var t=ko(Po.current),n=fe(t,e.type);t!==n&&(hr(Ro,e),hr(Po,n))}function Io(e){Ro.current===e&&(ur(Po),ur(Ro))}var Bo=cr(0);function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jo=null,Uo=null,Ho=!1;function Vo(e,t){var n=Gl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Ho){var t=Uo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Yi(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(jo=e);Vo(jo,n)}jo=e,Uo=Yi(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,jo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;jo=e}function Xo(e){if(e!==jo)return!1;if(!Ho)return qo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wi(t,e.memoizedProps))for(t=Uo;t;)Vo(e,t),t=Yi(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Uo=Yi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Uo=null}}else Uo=jo?Yi(e.stateNode.nextSibling):null;return!0}function Yo(){Uo=jo=null,Ho=!1}var $o=[];function Zo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Jo=_.ReactCurrentDispatcher,Ko=_.ReactCurrentBatchConfig,Qo=0,es=null,ts=null,ns=null,is=!1,rs=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ui(e[n],t[n]))return!1;return!0}function as(e,t,n,i,r,o){if(Qo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=null===e||null===e.memoizedState?ks:Os,e=n(i,r),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ns=ts=null,t.updateQueue=null,Jo.current=Ns,e=n(i,r)}while(rs)}if(Jo.current=Ds,t=null!==ts&&null!==ts.next,Qo=0,ns=ts=es=null,is=!1,t)throw Error(s(300));return e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function us(e,t){return"function"===typeof t?t(e):t}function hs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ts,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=a=o=null,c=r;do{var u=c.lane;if((Qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=i):l=l.next=h,es.lanes|=u,Ha|=u}c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=a,ui(i,t.memoizedState)||(Is=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ds(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);ui(o,t.memoizedState)||(Is=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ps(e,t,n){var i=t._getVersion;i=i(t._source);var r=t._workInProgressVersionPrimary;if(null!==r?e=r===i:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=i,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(s(350))}function fs(e,t,n,i){var r=Oa;if(null===r)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Jo.current,c=l.useState(function(){return ps(r,t,n)}),u=c[1],h=c[0];c=ns;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=es;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect(function(){p.getSnapshot=n,p.setSnapshot=u;var e=o(t._source);if(!ui(a,e)){e=n(t._source),ui(h,e)||(u(e),e=fl(g),r.mutableReadLanes|=e&r.pendingLanes),e=r.mutableReadLanes,r.entangledLanes|=e;for(var i=r.entanglements,s=e;0<s;){var l=31-Wt(s),c=1<<l;i[l]|=e,s&=~c}}},[n,t,i]),l.useEffect(function(){return i(t._source,function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var i=fl(g);r.mutableReadLanes|=i&r.pendingLanes}catch(o){n(function(){throw o})}})},[t,i]),ui(f,n)&&ui(m,t)&&ui(d,i)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=u=Rs.bind(null,es,e),c.queue=e,c.baseQueue=null,h=ps(r,t,n),c.memoizedState=c.baseState=h),h}function ms(e,t,n){return fs(cs(),e,t,n)}function gs(e){var t=ls();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=Rs.bind(null,es,e),[t.memoizedState,e]}function vs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ys(e){return e={current:e},ls().memoizedState=e}function bs(){return cs().memoizedState}function xs(e,t,n,i){var r=ls();es.flags|=e,r.memoizedState=vs(1|t,n,void 0,void 0===i?null:i)}function _s(e,t,n,i){var r=cs();i=void 0===i?null:i;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==i&&ss(i,s.deps))return void vs(t,n,o,i)}es.flags|=e,r.memoizedState=vs(1|t,n,o,i)}function ws(e,t){return xs(516,4,e,t)}function Ss(e,t){return _s(516,4,e,t)}function Ms(e,t){return _s(4,2,e,t)}function Es(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ts(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_s(4,2,Es.bind(null,t,e),n)}function Cs(){}function Ls(e,t){var n=cs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ss(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function As(e,t){var n=cs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ss(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ps(e,t){var n=Wr();qr(98>n?98:n,function(){e(!0)}),qr(97<n?97:n,function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}})}function Rs(e,t,n){var i=pl(),r=fl(e),o={lane:r,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)rs=is=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ui(l,a))return}catch(c){}ml(e,r,i)}}var Ds={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},ks={readContext:so,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xs(4,2,Es.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=ls();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ls();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Rs.bind(null,es,e),[i.memoizedState,e]},useRef:ys,useState:gs,useDebugValue:Cs,useDeferredValue:function(e){var t=gs(e),n=t[0],i=t[1];return ws(function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}},[e]),n},useTransition:function(){var e=gs(!1),t=e[0];return ys(e=Ps.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=ls();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(i,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}(function(){throw e||(e=!0,n("r:"+(Zi++).toString(36))),Error(s(355))}),n=gs(t)[1];return 0===(2&es.mode)&&(es.flags|=516,vs(5,function(){n("r:"+(Zi++).toString(36))},void 0,null)),t}return gs(t="r:"+(Zi++).toString(36)),t},unstable_isNewReconciler:!1},Os={readContext:so,useCallback:Ls,useContext:so,useEffect:Ss,useImperativeHandle:Ts,useLayoutEffect:Ms,useMemo:As,useReducer:hs,useRef:bs,useState:function(){return hs(us)},useDebugValue:Cs,useDeferredValue:function(e){var t=hs(us),n=t[0],i=t[1];return Ss(function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}},[e]),n},useTransition:function(){var e=hs(us)[0];return[bs().current,e]},useMutableSource:ms,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ns={readContext:so,useCallback:Ls,useContext:so,useEffect:Ss,useImperativeHandle:Ts,useLayoutEffect:Ms,useMemo:As,useReducer:ds,useRef:bs,useState:function(){return ds(us)},useDebugValue:Cs,useDeferredValue:function(e){var t=ds(us),n=t[0],i=t[1];return Ss(function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}},[e]),n},useTransition:function(){var e=ds(us)[0];return[bs().current,e]},useMutableSource:ms,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},Fs=_.ReactCurrentOwner,Is=!1;function Bs(e,t,n,i){t.child=null===e?Lo(t,null,n,i):Co(t,e.child,n,i)}function zs(e,t,n,i,r){n=n.render;var o=t.ref;return oo(t,r),i=as(e,t,n,i,o,r),null===e||Is?(t.flags|=1,Bs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,sa(e,t,r))}function js(e,t,n,i,r,o){if(null===e){var s=n.type;return"function"!==typeof s||ql(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Yl(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Us(e,t,s,i,r,o))}return s=e.child,0===(r&o)&&(r=s.memoizedProps,(n=null!==(n=n.compare)?n:di)(r,i)&&e.ref===t.ref)?sa(e,t,o):(t.flags|=1,(e=Xl(s,i)).ref=t.ref,e.return=t,t.child=e)}function Us(e,t,n,i,r,o){if(null!==e&&di(e.memoizedProps,i)&&e.ref===t.ref){if(Is=!1,0===(o&r))return t.lanes=e.lanes,sa(e,t,o);0!==(16384&e.flags)&&(Is=!0)}return Ws(e,t,n,i,o)}function Hs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sl(t,e),null;t.memoizedState={baseLanes:0},Sl(t,null!==o?o.baseLanes:n)}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Sl(t,i);return Bs(e,t,r,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ws(e,t,n,i,r){var o=vr(n)?mr:pr.current;return o=gr(t,o),oo(t,r),n=as(e,t,n,i,o,r),null===e||Is?(t.flags|=1,Bs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~r,sa(e,t,r))}function Gs(e,t,n,i,r){if(vr(n)){var o=!0;_r(t)}else o=!1;if(oo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),xo(t,n,i),wo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=so(c):c=gr(t,c=vr(n)?mr:pr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&_o(t,s,i,c),ao=!1;var d=t.memoizedState;s.state=d,fo(t,i,s,r),l=t.memoizedState,a!==i||d!==l||fr.current||ao?("function"===typeof u&&(vo(t,n,u,i),l=t.memoizedState),(a=ao||bo(t,n,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4),i=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Jr(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=so(l):l=gr(t,l=vr(n)?mr:pr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&_o(t,s,i,l),ao=!1,d=t.memoizedState,s.state=d,fo(t,i,s,r);var f=t.memoizedState;a!==h||d!==f||fr.current||ao?("function"===typeof p&&(vo(t,n,p,i),f=t.memoizedState),(c=ao||bo(t,n,c,i,d,f,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),i=!1)}return qs(e,t,n,i,o,r)}function qs(e,t,n,i,r,o){Vs(e,t);var s=0!==(64&t.flags);if(!i&&!s)return r&&wr(t,n,!1),sa(e,t,o);i=t.stateNode,Fs.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,a,o)):Bs(e,t,a,o),t.memoizedState=i.state,r&&wr(t,n,!0),t.child}function Xs(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),Oo(e,t.containerInfo)}var Ys,$s,Zs,Js,Ks={dehydrated:null,retryLane:0};function Qs(e,t,n){var i,r=t.pendingProps,o=Bo.current,s=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===r.fallback||!0===r.unstable_avoidThisFallback||(o|=1),hr(Bo,1&o),null===e?(void 0!==r.fallback&&Go(t),e=r.children,o=r.fallback,s?(e=ea(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,e):"number"===typeof r.unstable_expectedLoadTime?(e=ea(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ks,t.lanes=33554432,e):((n=Zl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(r=na(e,t,r.children,r.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ks,r):(n=ta(e,t,r.children,n),t.memoizedState=null,n))}function ea(e,t,n,i){var r=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&r)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Zl(t,r,0,null),n=$l(n,r,i,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ta(e,t,n,i){var r=e.child;return e=r.sibling,n=Xl(r,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function na(e,t,n,i,r){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Xl(s,a),null!==e?i=Xl(e,i):(i=$l(i,o,r,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function ia(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ra(e,t,n,i,r,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.lastEffect=o)}function oa(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Bs(e,t,i.children,n),0!==(2&(i=Bo.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ia(e,n);else if(19===e.tag)ia(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(hr(Bo,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),ra(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===zo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function sa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ha|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Xl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function aa(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function la(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vr(t.type)&&yr(),null;case 3:return No(),ur(fr),ur(pr),Zo(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Xo(t)?t.flags|=4:i.hydrate||(t.flags|=256)),$s(t),null;case 5:Io(t);var o=ko(Do.current);if(n=t.type,null!==e&&null!=t.stateNode)Zs(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(s(166));return null}if(e=ko(Po.current),Xo(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Ki]=t,i[Qi]=a,n){case"dialog":Pi("cancel",i),Pi("close",i);break;case"iframe":case"object":case"embed":Pi("load",i);break;case"video":case"audio":for(e=0;e<Ti.length;e++)Pi(Ti[e],i);break;case"source":Pi("error",i);break;case"img":case"image":case"link":Pi("error",i),Pi("load",i);break;case"details":Pi("toggle",i);break;case"input":ee(i,a),Pi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Pi("invalid",i);break;case"textarea":le(i,a),Pi("invalid",i)}for(var c in Me(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?i.textContent!==o&&(e=["children",o]):"number"===typeof o&&i.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Pi("scroll",i));switch(n){case"input":Z(i),ie(i,a,!0);break;case"textarea":Z(i),ue(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=ji)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=pe(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(n,{is:i.is}):(e=c.createElement(n),"select"===n&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,n),e[Ki]=t,e[Qi]=i,Ys(e,t,!1,!1),t.stateNode=e,c=Ee(n,i),n){case"dialog":Pi("cancel",e),Pi("close",e),o=i;break;case"iframe":case"object":case"embed":Pi("load",e),o=i;break;case"video":case"audio":for(o=0;o<Ti.length;o++)Pi(Ti[o],e);o=i;break;case"source":Pi("error",e),o=i;break;case"img":case"image":case"link":Pi("error",e),Pi("load",e),o=i;break;case"details":Pi("toggle",e),o=i;break;case"input":ee(e,i),o=Q(e,i),Pi("invalid",e);break;case"option":o=oe(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=r({},i,{value:void 0}),Pi("invalid",e);break;case"textarea":le(e,i),o=ae(e,i),Pi("invalid",e);break;default:o=i}Me(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?we(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ve(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Pi("scroll",e):null!=h&&x(e,a,h,c))}switch(n){case"input":Z(e),ie(e,i,!1);break;case"textarea":Z(e),ue(e);break;case"option":null!=i.value&&e.setAttribute("value",""+Y(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?se(e,!!i.multiple,a,!1):null!=i.defaultValue&&se(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=ji)}Vi(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Js(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));n=ko(Do.current),ko(Po.current),Xo(t)?(i=t.stateNode,n=t.memoizedProps,i[Ki]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Ki]=t,t.stateNode=i)}return null;case 13:return ur(Bo),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xo(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===za&&(za=3):(0!==za&&3!==za||(za=4),null===Oa||0===(134217727&Ha)&&0===(134217727&Va)||bl(Oa,Fa))),(i||n)&&(t.flags|=4),null);case 4:return No(),$s(t),null===e&&Di(t.stateNode.containerInfo),null;case 10:return io(t),null;case 19:if(ur(Bo),null===(i=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=i.rendering))if(a)aa(i,!1);else{if(0!==za||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=zo(e))){for(t.flags|=64,aa(i,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hr(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==i.tail&&Vr()>Xa&&(t.flags|=64,a=!0,aa(i,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=zo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Ho)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Vr()-i.renderingStartTime>Xa&&1073741824!==n&&(t.flags|=64,a=!0,aa(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=i.last)?n.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Vr(),n.sibling=null,t=Bo.current,hr(Bo,a?1&t|2:1&t),n):null;case 23:case 24:return Ml(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function ca(e){switch(e.tag){case 1:vr(e.type)&&yr();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),ur(fr),ur(pr),Zo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Io(e),null;case 13:return ur(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ur(Bo),null;case 4:return No(),null;case 10:return io(e),null;case 23:case 24:return Ml(),null;default:return null}}function ua(e,t){try{var n="",i=t;do{n+=q(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}Ys=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$s=function(){},Zs=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,ko(Po.current);var s,a=null;switch(n){case"input":o=Q(e,o),i=Q(e,i),a=[];break;case"option":o=oe(e,o),i=oe(e,i),a=[];break;case"select":o=r({},o,{value:void 0}),i=r({},i,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),i=ae(e,i),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(e.onclick=ji)}for(h in Me(n,i),n=null,o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in i){var u=i[h];if(c=null!=o?o[h]:void 0,i.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Pi("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===N?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Js=function(e,t,n,i){n!==i&&(t.flags|=4)};var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ja||(Ja=!0,Ka=i),ha(0,t)},n}function fa(e,t,n){(n=uo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return ha(0,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Qa?Qa=new Set([this]):Qa.add(this),ha(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ma="function"===typeof WeakSet?WeakSet:Set;function ga(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ul(e,n)}else t.current=null}function va(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Jr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xi(t.stateNode.containerInfo))}throw Error(s(163))}function ya(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var r=e;i=r.next,0!==(4&(r=r.tag))&&0!==(1&r)&&(Bl(n,e),Il(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Jr(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vi(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(s(163))}function ba(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=_e("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function xa(e,t){if(Mr&&"function"===typeof Mr.onCommitFiberUnmount)try{Mr.onCommitFiberUnmount(Sr,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,r=i.destroy;if(i=i.tag,void 0!==r)if(0!==(4&i))Bl(t,n);else{i=t;try{r()}catch(o){Ul(i,o)}}n=n.next}while(n!==e)}break;case 1:if(ga(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ul(t,o)}break;case 5:ga(t);break;case 4:Ta(e,t)}}function _a(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wa(e){return 5===e.tag||3===e.tag||4===e.tag}function Sa(e){e:{for(var t=e.return;null!==t;){if(wa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?Ma(e,n,t):Ea(e,n,t)}function Ma(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ji));else if(4!==i&&null!==(e=e.child))for(Ma(e,t,n),e=e.sibling;null!==e;)Ma(e,t,n),e=e.sibling}function Ea(e,t,n){var i=e.tag,r=5===i||6===i;if(r)e=r?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function Ta(e,t){for(var n,i,r=t,o=!1;;){if(!o){o=r.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===r.tag||6===r.tag){e:for(var a=e,l=r,c=l;;)if(xa(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(a=n,l=r.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){n=r.stateNode.containerInfo,i=!0,r.child.return=r,r=r.child;continue}}else if(xa(e,r),null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function Ca(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Qi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),Ee(e,r),t=Ee(e,i),r=0;r<o.length;r+=2){var a=o[r],l=o[r+1];"style"===a?we(n,l):"dangerouslySetInnerHTML"===a?ve(n,l):"children"===a?ye(n,l):x(n,a,l,t)}switch(e){case"input":ne(n,i);break;case"textarea":ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?se(n,!!i.multiple,o,!1):e!==!!i.multiple&&(null!=i.defaultValue?se(n,!!i.multiple,i.defaultValue,!0):se(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(qa=Vr(),ba(t.child,!0)),void La(t);case 19:return void La(t);case 23:case 24:return void ba(t,null!==t.memoizedState)}throw Error(s(163))}function La(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ma),t.forEach(function(t){var i=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function Aa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Pa=Math.ceil,Ra=_.ReactCurrentDispatcher,Da=_.ReactCurrentOwner,ka=0,Oa=null,Na=null,Fa=0,Ia=0,Ba=cr(0),za=0,ja=null,Ua=0,Ha=0,Va=0,Wa=0,Ga=null,qa=0,Xa=1/0;function Ya(){Xa=Vr()+500}var $a,Za=null,Ja=!1,Ka=null,Qa=null,el=!1,tl=null,nl=90,il=[],rl=[],ol=null,sl=0,al=null,ll=-1,cl=0,ul=0,hl=null,dl=!1;function pl(){return 0!==(48&ka)?Vr():-1!==ll?ll:ll=Vr()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wr()?1:2;if(0===cl&&(cl=Ua),0!==Zr.transition){0!==ul&&(ul=null!==Ga?Ga.pendingLanes:0),e=cl;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wr(),0!==(4&ka)&&98===e?e=jt(12,cl):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cl),e}function ml(e,t,n){if(50<sl)throw sl=0,al=null,Error(s(185));if(null===(e=gl(e,t)))return null;Vt(e,t,n),e===Oa&&(Va|=t,4===za&&bl(e,Fa));var i=Wr();1===t?0!==(8&ka)&&0===(48&ka)?xl(e):(vl(e,n),0===ka&&(Ya(),Yr())):(0===(4&ka)||98!==i&&99!==i||(null===ol?ol=new Set([e]):ol.add(e)),vl(e,n)),Ga=e}function gl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Wt(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&i)||0!==(c&r)){u=t,It(c);var h=Ft;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(i=Bt(e,e===Oa?Fa:0),t=Ft,0===i)null!==n&&(n!==Ir&&Cr(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ir&&Cr(n)}15===t?(n=xl.bind(null,e),null===zr?(zr=[n],jr=Tr(Dr,$r)):zr.push(n),n=Ir):14===t?n=Xr(99,xl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Xr(n,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yl(e){if(ll=-1,ul=cl=0,0!==(48&ka))throw Error(s(327));var t=e.callbackNode;if(Fl()&&e.callbackNode!==t)return null;var n=Bt(e,e===Oa?Fa:0);if(0===n)return null;var i=n,r=ka;ka|=16;var o=Cl();for(Oa===e&&Fa===i||(Ya(),El(e,i));;)try{Pl();break}catch(l){Tl(e,l)}if(no(),Ra.current=o,ka=r,null!==Na?i=0:(Oa=null,Fa=0,i=za),0!==(Ua&Va))El(e,0);else if(0!==i){if(2===i&&(ka|=64,e.hydrate&&(e.hydrate=!1,Xi(e.containerInfo)),0!==(n=zt(e))&&(i=Ll(e,n))),1===i)throw t=ja,El(e,0),bl(e,n),vl(e,Vr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(s(345));case 2:case 5:kl(e);break;case 3:if(bl(e,n),(62914560&n)===n&&10<(i=qa+500-Vr())){if(0!==Bt(e,0))break;if(((r=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Gi(kl.bind(null,e),i);break}kl(e);break;case 4:if(bl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,r=-1;0<n;){var a=31-Wt(n);o=1<<a,(a=i[a])>r&&(r=a),n&=~o}if(n=r,10<(n=(120>(n=Vr()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pa(n/1960))-n)){e.timeoutHandle=Gi(kl.bind(null,e),n);break}kl(e);break;default:throw Error(s(329))}}return vl(e,Vr()),e.callbackNode===t?yl.bind(null,e):null}function bl(e,t){for(t&=~Wa,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),i=1<<n;e[n]=-1,t&=~i}}function xl(e){if(0!==(48&ka))throw Error(s(327));if(Fl(),e===Oa&&0!==(e.expiredLanes&Fa)){var t=Fa,n=Ll(e,t);0!==(Ua&Va)&&(n=Ll(e,t=Bt(e,t)))}else n=Ll(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(ka|=64,e.hydrate&&(e.hydrate=!1,Xi(e.containerInfo)),0!==(t=zt(e))&&(n=Ll(e,t))),1===n)throw n=ja,El(e,0),bl(e,t),vl(e,Vr()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,kl(e),vl(e,Vr()),null}function _l(e,t){var n=ka;ka|=1;try{return e(t)}finally{0===(ka=n)&&(Ya(),Yr())}}function wl(e,t){var n=ka;ka&=-2,ka|=8;try{return e(t)}finally{0===(ka=n)&&(Ya(),Yr())}}function Sl(e,t){hr(Ba,Ia),Ia|=t,Ua|=t}function Ml(){Ia=Ba.current,ur(Ba)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qi(n)),null!==Na)for(n=Na.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&yr();break;case 3:No(),ur(fr),ur(pr),Zo();break;case 5:Io(i);break;case 4:No();break;case 13:case 19:ur(Bo);break;case 10:io(i);break;case 23:case 24:Ml()}n=n.return}Oa=e,Na=Xl(e.current,null),Fa=Ia=Ua=t,za=0,ja=null,Wa=Va=Ha=0}function Tl(e,t){for(;;){var n=Na;try{if(no(),Jo.current=Ds,is){for(var i=es.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}is=!1}if(Qo=0,ns=ts=es=null,rs=!1,Da.current=null,null===n||null===n.return){za=1,ja=t,Na=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Fa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Bo.current),d=s;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var v=new Set;v.add(c),d.updateQueue=v}else g.add(c);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=uo(-1,1);y.tag=2,ho(a,y)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new da,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(a)){l.add(a);var x=Hl.bind(null,o,c,a);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((X(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==za&&(za=2),l=ua(l,a),d=s;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,po(d,pa(0,o,t));break e;case 1:o=l;var _=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qa||!Qa.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,po(d,fa(d,o,t));break e}}d=d.return}while(null!==d)}Dl(n)}catch(S){t=S,Na===n&&null!==n&&(Na=n=n.return);continue}break}}function Cl(){var e=Ra.current;return Ra.current=Ds,null===e?Ds:e}function Ll(e,t){var n=ka;ka|=16;var i=Cl();for(Oa===e&&Fa===t||El(e,t);;)try{Al();break}catch(r){Tl(e,r)}if(no(),ka=n,Ra.current=i,null!==Na)throw Error(s(261));return Oa=null,Fa=0,za}function Al(){for(;null!==Na;)Rl(Na)}function Pl(){for(;null!==Na&&!Lr();)Rl(Na)}function Rl(e){var t=$a(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,null===t?Dl(e):Na=t,Da.current=null}function Dl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=la(n,t,Ia)))return void(Na=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ia)||0===(4&n.mode)){for(var i=0,r=n.child;null!==r;)i|=r.lanes|r.childLanes,r=r.sibling;n.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ca(t)))return n.flags&=2047,void(Na=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Na=t);Na=t=e}while(null!==t);0===za&&(za=5)}function kl(e){var t=Wr();return qr(99,Ol.bind(null,e,t)),null}function Ol(e,t){do{Fl()}while(null!==tl);if(0!==(48&ka))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var i=n.lanes|n.childLanes,r=i,o=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Wt(o),u=1<<c;r[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==ol&&0===(24&i)&&ol.has(e)&&ol.delete(e),e===Oa&&(Na=Oa=null,Fa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(r=ka,ka|=32,Da.current=null,Ui=$t,vi(a=gi())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(T){l=null;break e}var h=0,d=-1,p=-1,f=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(d=h+o),g!==c||0!==u&&3!==g.nodeType||(p=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++f===o&&(d=h),v===c&&++m===u&&(p=h),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Hi={focusedElem:a,selectionRange:l},$t=!1,hl=null,dl=!1,Za=i;do{try{Nl()}catch(T){if(null===Za)throw Error(s(330));Ul(Za,T),Za=Za.nextEffect}}while(null!==Za);hl=null,Za=i;do{try{for(a=e;null!==Za;){var b=Za.flags;if(16&b&&ye(Za.stateNode,""),128&b){var x=Za.alternate;if(null!==x){var _=x.ref;null!==_&&("function"===typeof _?_(null):_.current=null)}}switch(1038&b){case 2:Sa(Za),Za.flags&=-3;break;case 6:Sa(Za),Za.flags&=-3,Ca(Za.alternate,Za);break;case 1024:Za.flags&=-1025;break;case 1028:Za.flags&=-1025,Ca(Za.alternate,Za);break;case 4:Ca(Za.alternate,Za);break;case 8:Ta(a,l=Za);var w=l.alternate;_a(l),null!==w&&_a(w)}Za=Za.nextEffect}}catch(T){if(null===Za)throw Error(s(330));Ul(Za,T),Za=Za.nextEffect}}while(null!==Za);if(_=Hi,x=gi(),b=_.focusedElem,a=_.selectionRange,x!==b&&b&&b.ownerDocument&&mi(b.ownerDocument.documentElement,b)){null!==a&&vi(b)&&(x=a.start,void 0===(_=a.end)&&(_=x),"selectionStart"in b?(b.selectionStart=x,b.selectionEnd=Math.min(_,b.value.length)):(_=(x=b.ownerDocument||document)&&x.defaultView||window).getSelection&&(_=_.getSelection(),l=b.textContent.length,w=Math.min(a.start,l),a=void 0===a.end?w:Math.min(a.end,l),!_.extend&&w>a&&(l=a,a=w,w=l),l=fi(b,w),o=fi(b,a),l&&o&&(1!==_.rangeCount||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((x=x.createRange()).setStart(l.node,l.offset),_.removeAllRanges(),w>a?(_.addRange(x),_.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),_.addRange(x))))),x=[];for(_=b;_=_.parentNode;)1===_.nodeType&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<x.length;b++)(_=x[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}$t=!!Ui,Hi=Ui=null,e.current=n,Za=i;do{try{for(b=e;null!==Za;){var S=Za.flags;if(36&S&&ya(b,Za.alternate,Za),128&S){x=void 0;var M=Za.ref;if(null!==M){var E=Za.stateNode;Za.tag,x=E,"function"===typeof M?M(x):M.current=x}}Za=Za.nextEffect}}catch(T){if(null===Za)throw Error(s(330));Ul(Za,T),Za=Za.nextEffect}}while(null!==Za);Za=null,Br(),ka=r}else e.current=n;if(el)el=!1,tl=e,nl=t;else for(Za=i;null!==Za;)t=Za.nextEffect,Za.nextEffect=null,8&Za.flags&&((S=Za).sibling=null,S.stateNode=null),Za=t;if(0===(i=e.pendingLanes)&&(Qa=null),1===i?e===al?sl++:(sl=0,al=e):sl=0,n=n.stateNode,Mr&&"function"===typeof Mr.onCommitFiberRoot)try{Mr.onCommitFiberRoot(Sr,n,void 0,64===(64&n.current.flags))}catch(T){}if(vl(e,Vr()),Ja)throw Ja=!1,e=Ka,Ka=null,e;return 0!==(8&ka)||Yr(),null}function Nl(){for(;null!==Za;){var e=Za.alternate;dl||null===hl||(0!==(8&Za.flags)?et(Za,hl)&&(dl=!0):13===Za.tag&&Aa(e,Za)&&et(Za,hl)&&(dl=!0));var t=Za.flags;0!==(256&t)&&va(e,Za),0===(512&t)||el||(el=!0,Xr(97,function(){return Fl(),null})),Za=Za.nextEffect}}function Fl(){if(90!==nl){var e=97<nl?97:nl;return nl=90,qr(e,zl)}return!1}function Il(e,t){il.push(t,e),el||(el=!0,Xr(97,function(){return Fl(),null}))}function Bl(e,t){rl.push(t,e),el||(el=!0,Xr(97,function(){return Fl(),null}))}function zl(){if(null===tl)return!1;var e=tl;if(tl=null,0!==(48&ka))throw Error(s(331));var t=ka;ka|=32;var n=rl;rl=[];for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1],a=r.destroy;if(r.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Ul(o,c)}}for(n=il,il=[],i=0;i<n.length;i+=2){r=n[i],o=n[i+1];try{var l=r.create;r.destroy=l()}catch(c){if(null===o)throw Error(s(330));Ul(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return ka=t,Yr(),!0}function jl(e,t,n){ho(e,t=pa(0,t=ua(n,t),1)),t=pl(),null!==(e=gl(e,1))&&(Vt(e,1,t),vl(e,t))}function Ul(e,t){if(3===e.tag)jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){jl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Qa||!Qa.has(i))){var r=fa(n,e=ua(t,e),1);if(ho(n,r),r=pl(),null!==(n=gl(n,1)))Vt(n,1,r),vl(n,r);else if("function"===typeof i.componentDidCatch&&(null===Qa||!Qa.has(i)))try{i.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Hl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,Oa===e&&(Fa&n)===n&&(4===za||3===za&&(62914560&Fa)===Fa&&500>Vr()-qa?El(e,0):Wa|=n),vl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wr()?1:2:(0===cl&&(cl=Ua),0===(t=Ut(62914560&~cl))&&(t=4194304))),n=pl(),null!==(e=gl(e,t))&&(Vt(e,t,n),vl(e,n))}function Wl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gl(e,t,n,i){return new Wl(e,t,n,i)}function ql(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xl(e,t){var n=e.alternate;return null===n?((n=Gl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yl(e,t,n,i,r,o){var a=2;if(i=e,"function"===typeof e)ql(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case M:return $l(n.children,r,o,t);case F:a=8,r|=16;break;case E:a=8,r|=1;break;case T:return(e=Gl(12,n,t,8|r)).elementType=T,e.type=T,e.lanes=o,e;case P:return(e=Gl(13,n,t,r)).type=P,e.elementType=P,e.lanes=o,e;case R:return(e=Gl(19,n,t,r)).elementType=R,e.lanes=o,e;case I:return Zl(n,r,o,t);case B:return(e=Gl(24,n,t,r)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case L:a=9;break e;case A:a=11;break e;case D:a=14;break e;case k:a=16,i=null;break e;case O:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Gl(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function $l(e,t,n,i){return(e=Gl(7,e,i,t)).lanes=n,e}function Zl(e,t,n,i){return(e=Gl(23,e,i,t)).elementType=I,e.lanes=n,e}function Jl(e,t,n){return(e=Gl(6,e,null,t)).lanes=n,e}function Kl(e,t,n){return(t=Gl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function ec(e,t,n,i){var r=t.current,o=pl(),a=fl(r);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(vr(c)){n=xr(n,c,l);break e}}n=l}else n=dr;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),ho(r,t),ml(r,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ic(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function rc(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=Gl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[er]=n.current,Di(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var r=(t=i[e])._getVersion;r=r(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof r){var a=r;r=function(){var e=tc(s);a.call(e)}}ec(t,s,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,i),s=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=tc(s);l.call(e)}}wl(function(){ec(t,s,e,r)})}return tc(s)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}$a=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fr.current)Is=!0;else{if(0===(n&i)){switch(Is=!1,t.tag){case 3:Xs(t),Yo();break;case 5:Fo(t);break;case 1:vr(t.type)&&_r(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var r=t.type._context;hr(Kr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qs(e,t,n):(hr(Bo,1&Bo.current),null!==(t=sa(e,t,n))?t.sibling:null);hr(Bo,1&Bo.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return oa(e,t,n);t.flags|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),hr(Bo,Bo.current),i)break;return null;case 23:case 24:return t.lanes=0,Hs(e,t,n)}return sa(e,t,n)}Is=0!==(16384&e.flags)}else Is=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=gr(t,pr.current),oo(t,n),r=as(null,t,i,e,r,n),t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vr(i)){var o=!0;_r(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,lo(t);var a=i.getDerivedStateFromProps;"function"===typeof a&&vo(t,i,a,e),r.updater=yo,t.stateNode=r,r._reactInternals=t,wo(t,i,e,n),t=qs(null,t,i,!0,o,n)}else t.tag=0,Bs(null,t,r,n),t=t.child;return t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return ql(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=Jr(r,e),o){case 0:t=Ws(null,t,r,e,n);break e;case 1:t=Gs(null,t,r,e,n);break e;case 11:t=zs(null,t,r,e,n);break e;case 14:t=js(null,t,r,Jr(r.type,e),i,n);break e}throw Error(s(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ws(e,t,i,r=t.elementType===i?r:Jr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Gs(e,t,i,r=t.elementType===i?r:Jr(i,r),n);case 3:if(Xs(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,co(e,t),fo(t,i,null,n),(i=t.memoizedState.element)===r)Yo(),t=sa(e,t,n);else{if((o=(r=t.stateNode).hydrate)&&(Uo=Yi(t.stateNode.containerInfo.firstChild),jo=t,o=Ho=!0),o){if(null!=(e=r.mutableSourceEagerHydrationData))for(r=0;r<e.length;r+=2)(o=e[r])._workInProgressVersionPrimary=e[r+1],$o.push(o);for(n=Lo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bs(e,t,i,n),Yo();t=t.child}return t;case 5:return Fo(t),null===e&&Go(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,a=r.children,Wi(i,r)?a=null:null!==o&&Wi(i,o)&&(t.flags|=16),Vs(e,t),Bs(e,t,a,n),t.child;case 6:return null===e&&Go(t),null;case 13:return Qs(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Co(t,null,i,n):Bs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,zs(e,t,i,r=t.elementType===i?r:Jr(i,r),n);case 7:return Bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value;var l=t.type._context;if(hr(Kr,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ui(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===r.children&&!fr.current){t=sa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,ho(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ro(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,oo(t,n),i=i(r=so(r,o.unstable_observedBits)),t.flags|=1,Bs(e,t,i,n),t.child;case 14:return o=Jr(r=t.type,t.pendingProps),js(e,t,r,o=Jr(r.type,o),i,n);case 15:return Us(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Jr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vr(i)?(e=!0,_r(t)):e=!1,oo(t,n),xo(t,i,r),wo(t,i,r,n),qs(null,t,i,!0,e,n);case 19:return oa(e,t,n);case 23:case 24:return Hs(e,t,n)}throw Error(s(156,t.tag))},rc.prototype.render=function(e){ec(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,function(){t[er]=null})},tt=function(e){13===e.tag&&(ml(e,4,pl()),ic(e,4))},nt=function(e){13===e.tag&&(ml(e,67108864,pl()),ic(e,67108864))},it=function(e){if(13===e.tag){var t=pl(),n=fl(e);ml(e,n,t),ic(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=or(i);if(!r)throw Error(s(90));J(i),ne(i,r)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},ke=_l,Oe=function(e,t,n,i,r){var o=ka;ka|=4;try{return qr(98,e.bind(null,t,n,i,r))}finally{0===(ka=o)&&(Ya(),Yr())}},Ne=function(){0===(49&ka)&&(function(){if(null!==ol){var e=ol;ol=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,vl(e,Vr())})}Yr()}(),Fl())},Fe=function(e,t){var n=ka;ka|=2;try{return e(t)}finally{0===(ka=n)&&(Ya(),Yr())}};var lc={Events:[ir,rr,or,Re,De,Fl,{current:!1}]},cc={findFiberByHostInstance:nr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Sr=hc.inject(uc),Mr=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=ka;if(0!==(48&n))return e(t);ka|=1;try{if(e)return qr(99,e.bind(null,t))}finally{ka=n,Yr()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(wl(function(){sc(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!oc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,i)},t.version="17.0.2"},2849:(e,t,n)=>{var i=n(859),r=n(4027)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},2949:e=>{function t(e){var n,i,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(i=t(e[n]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}function n(){for(var e,n,i=0,r="",o=arguments.length;i<o;i++)(e=arguments[i])&&(n=t(e))&&(r&&(r+=" "),r+=n);return r}e.exports=n,e.exports.clsx=n},3162:e=>{function t(e,t){return(e<10?"0":"")+e+t}e.exports=(e,n,i)=>{let r=Math.floor(i/2),o=i%2,s=[],a="F";if(0===e.x?a="L":e.x===i-1?a="R":0===e.z&&(a="D"),i%2===0)switch(a){case"L":0===n.x&&n.y===r-1&&n.z===r?s.push("01L"):0===n.x&&n.y===r-1&&n.z===r-1||0===n.x&&n.y===r&&n.z===r?(s.push(t(e.y+1,"F'")),s.push(" 01D2"),s.push(t(e.y+1,"F"))):n.z===n.y||n.z===i-1-n.y||i-1-n.z===i-1-n.y||i-1-n.z===n.y?e.z<r-1&&e.y<r-1?s.push("01L'","01D'",t(e.y+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.y+1,"B"),"01D",t(e.y+1,"F"),"01L"):e.z>r&&e.y<r-1?s.push("01D'",t(e.y+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.y+1,"B"),"01D",t(e.y+1,"F")):e.z>r&&e.y>r?s.push("01L","01D'",t(i-e.y,"B'"),"01D",t(i-e.y,"F'"),"01D'",t(i-e.y,"B"),"01D",t(i-e.y,"F"),"01L'"):e.z<r-1&&e.y>r&&s.push("01L2","01D'",t(i-e.y,"B'"),"01D",t(i-e.y,"F'"),"01D'",t(i-e.y,"B"),"01D",t(i-e.y,"F"),"01L2"):s.push("01D'",t(i-1-e.z+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(i-1-e.z+1,"B"),"01D",t(e.y+1,"F"));break;case"D":0===n.x&&n.y===r-1&&n.z===r?(s.push(t(e.y+1,"F")),s.push(" 01L2"),s.push(t(e.y+1,"F'"))):0===n.x&&n.y===r-1&&n.z===r-1?e.x===r&&e.y===r?s.push("01L",t(r,"F'"),"01D'",t(r,"F")):s.push("01D"):0===n.x&&n.y===r&&n.z===r?e.y===r-1&&e.x===r-1?s.push(t(r+1,"F'"),"01D'",t(r+1,"F")):s.push("01D"):0===n.x&&n.y===r&&n.z===r-1?e.y===r-1&&e.x===r?s.push(t(r+1,"F'"),"01D'",t(r+1,"F"),"01D",t(r+1,"F'"),"01D",t(r+1,"F")):s.push("01D"):n.x===n.y||n.x===i-1-n.y||i-1-n.z===i-1-n.y||i-1-n.z===n.y?e.x<r-1&&e.y<r-1?n.z<r-1&&n.y<r-1?s.push("01L'","01D'",t(n.y+1,"B'"),"01D",t(n.y+1,"F'"),"01D'",t(n.y+1,"B"),"01D",t(n.y+1,"F"),"01L"):n.z>r&&n.y<r-1?s.push("01D'",t(n.y+1,"B'"),"01D",t(n.y+1,"F'"),"01D'",t(n.y+1,"B"),"01D",t(n.y+1,"F")):n.z>r&&n.y>r?s.push("01L","01D'",t(i-n.y,"B'"),"01D",t(i-n.y,"F'"),"01D'",t(i-n.y,"B"),"01D",t(i-n.y,"F"),"01L'"):n.z<r-1&&n.y>r&&s.push("01L2","01D'",t(i-n.y,"B'"),"01D",t(i-n.y,"F'"),"01D'",t(i-n.y,"B"),"01D",t(i-n.y,"F"),"01L2"):s.push("01D"):e.y===n.y&&e.x===i-1-n.z?s.push("01D'",t(e.x+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.x+1,"B"),"01D",t(e.y+1,"F")):s.push("01D");break;case"R":0===n.x&&n.y===r-1&&n.z===r?(s.push(t(e.y+1,"F2")),s.push("01L2"),s.push(t(e.y+1,"F2"))):0===n.x&&n.y===r-1&&n.z===r-1||0===n.x&&n.y===r&&n.z===r-1||0===n.x&&n.y===r&&n.z===r?(s.push(t(e.y+1,"F")),s.push("01D2"),s.push(t(e.y+1,"F'"))):s.push(t(e.y+1,"F"),"01D",t(e.y+1,"F'"));break;default:console.log("Something broke")}else if(i%2){switch(a){case"L":n.z>=r-1&&n.z<=r+1&&n.y>=r-1&&n.y<=r+1?0===n.x&&n.y===r-1&&n.z===r+1?s.push("01L"):n.y===r-1?(s.push(t(e.y+1,"F'")),r&&o?s.push("01D'",t(e.y+1,"F")):s.push("01D2",t(e.y+1,"F"))):n.y===r?(s.push(t(e.y+1,"F'")),s.push("01D'"),s.push(t(e.y+1,"F"))):n.y===r+1&&n.z===r+1&&(s.push(t(e.y+1,"F'")),s.push("01D"),s.push(t(e.y+1,"F"))):n.z===n.y||n.z===i-1-n.y||i-1-n.z===i-1-n.y||i-1-n.z===n.y?e.z<r-1&&e.y<r-1?s.push("01L'","01D'",t(e.y+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.y+1,"B"),"01D",t(e.y+1,"F"),"01L"):e.z>r&&e.y<r-1?s.push("01D'",t(e.y+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.y+1,"B"),"01D",t(e.y+1,"F")):e.z>r&&e.y>r?s.push("01L","01D'",t(i-e.y,"B'"),"01D",t(i-e.y,"F'"),"01D'",t(i-e.y,"B"),"01D",t(i-e.y,"F"),"01L'"):e.z<r-1&&e.y>r&&s.push("01L2","01D'",t(i-e.y,"B'"),"01D",t(i-e.y,"F'"),"01D'",t(i-e.y,"B"),"01D",t(i-e.y,"F"),"01L2"):s.push("01D'",t(i-1-e.z+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(i-1-e.z+1,"B"),"01D",t(e.y+1,"F"));break;case"D":n.z>=r-1&&n.z<=r+1&&n.y>=r-1&&n.y<=r+1?0===n.x&&n.y===r-1&&n.z===r+1?s.push(t(e.y+1,"F"),"01L2",t(e.y+1,"F'")):n.y===r-1?e.x<r+1||e.y===r-1?s.push("01D"):s.push("01L",t(e.y+1,"F"),"01L'",t(e.y+1,"F'")):n.y===r?n.z===r+1?e.y!==r-1?s.push("01D"):(s.push(t(r+1,"F'")),s.push("01D'"),s.push(t(r+1,"F"))):n.z===r-1&&(e.y!==r+1?s.push("01D"):(s.push(t(r+1,"F'")),s.push(t(e.y+1,"F")),s.push("01D"),s.push(t(e.y+1,"F'")),s.push("01D'"),s.push(t(r+1,"F")))):n.y===r+1&&(n.z===r+1?e.x===r-1&&e.y===r-1?(s.push(t(r+1+1,"F'")),s.push("01D'"),s.push(t(r+1+1,"F"))):s.push("01D"):n.z===r?e.x===r+1?(s.push(t(r+1+1,"F2")),s.push("01R'"),s.push(t(r+1+1,"F")),s.push("01D"),s.push(t(r+1+1,"F"))):s.push("01D'"):n.z===r-1&&(e.x===r-1&&e.y===r+1?(s.push(t(r+1+1,"F")),s.push("01L'"),s.push(t(r+1+1,"F'")),s.push("01L"),s.push("01D2"),s.push(t(r+1+1,"F'")),s.push("01D2"),s.push(t(r+1+1,"F"))):s.push("01D"))):n.z===n.y||n.z===i-1-n.y||i-1-n.z===i-1-n.y||i-1-n.z===n.y?e.x<r-1&&e.y<r-1?n.z<r-1&&n.y<r-1?s.push("01L'","01D'",t(n.y+1,"B'"),"01D",t(n.y+1,"F'"),"01D'",t(n.y+1,"B"),"01D",t(n.y+1,"F"),"01L"):n.z>r&&n.y<r-1?s.push("01D'",t(n.y+1,"B'"),"01D",t(n.y+1,"F'"),"01D'",t(n.y+1,"B"),"01D",t(n.y+1,"F")):n.z>r&&n.y>r?s.push("01L","01D'",t(i-n.y,"B'"),"01D",t(i-n.y,"F'"),"01D'",t(i-n.y,"B"),"01D",t(i-n.y,"F"),"01L'"):n.z<r-1&&n.y>r&&s.push("01L2","01D'",t(i-n.y,"B'"),"01D",t(i-n.y,"F'"),"01D'",t(i-n.y,"B"),"01D",t(i-n.y,"F"),"01L2"):s.push("01D"):e.y===n.y&&e.x===i-1-n.z?s.push("01D'",t(e.x+1,"B'"),"01D",t(e.y+1,"F'"),"01D'",t(e.x+1,"B"),"01D",t(e.y+1,"F")):s.push("01D");break;case"R":n.z>=r-1&&n.z<=r+1&&n.y>=r-1&&n.y<=r+1?0===n.x&&n.y===r-1&&n.z===r+1?s.push(t(e.y+1,"F2"),"01L2",t(e.y+1,"F2")):n.y===r-1?e.z!==r+1||e.y===r-1?s.push("01R"):s.push("01L",t(e.y+1,"F2"),"01L'",t(e.y+1,"F2")):n.y===r?(s.push(t(e.y+1,"F")),s.push("01D"),s.push(t(e.y+1,"F'"))):n.y===r+1&&(n.z===r+1?e.y===r-1&&e.z===r-1?(s.push(t(r+1+1,"F2")),s.push("01R'"),s.push(t(r+1+1,"F2"))):s.push("01R"):n.z===r?(s.push(t(e.y+1,"F")),s.push("01D"),s.push(t(e.y+1,"F'"))):n.z===r-1&&(s.push(t(e.y+1,"F")),s.push("01D2"),s.push(t(e.y+1,"F'")))):s.push(t(e.y+1,"F"),"01D",t(e.y+1,"F'"));break;default:return console.log("Something broke"),""}return s.join(" ")}return s.join(" ")}},3193:(e,t,n)=>{var i=n(9066).f,r=n(1496),o=n(4027)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},3204:(e,t,n)=>{var i=n(8968),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?r(e+t,0):o(e,t)}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3350:(e,t)=>{t.f={}.propertyIsEnumerable},3359:e=>{e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},3384:(e,t,n)=>{e.exports=n(2374)},3429:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(8188)),o=i(n(2123)),s=!0,a=!1,l=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function c(e){return null===e||void 0===e}var u=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){c(e.which)&&(e.which=c(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,i=void 0,r=void 0,o=t.wheelDelta,s=t.axis,a=t.wheelDeltaY,l=t.wheelDeltaX,c=t.detail;o&&(r=o/120),c&&(r=0-(c%3===0?c/3:c)),void 0!==s&&(s===e.HORIZONTAL_AXIS?(i=0,n=0-r):s===e.VERTICAL_AXIS&&(n=0,i=r)),void 0!==a&&(i=a/120),void 0!==l&&(n=-1*l/120),n||i||(i=r),void 0!==n&&(e.deltaX=n),void 0!==i&&(e.deltaY=i),void 0!==r&&(e.delta=r)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,i=void 0,r=void 0,o=e.target,s=t.button;return o&&c(e.pageX)&&!c(t.clientX)&&(i=(n=o.ownerDocument||document).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===o?e.toElement:e.fromElement),e}}];function h(){return s}function d(){return a}function p(e){var t=e.type,n="function"===typeof e.stopPropagation||"boolean"===typeof e.cancelBubble;r.default.call(this),this.nativeEvent=e;var i=d;"defaultPrevented"in e?i=e.defaultPrevented?h:d:"getPreventDefault"in e?i=e.getPreventDefault()?h:d:"returnValue"in e&&(i=e.returnValue===a?h:d),this.isDefaultPrevented=i;var o=[],s=void 0,c=void 0,p=l.concat();for(u.forEach(function(e){t.match(e.reg)&&(p=p.concat(e.props),e.fix&&o.push(e.fix))}),s=p.length;s;)this[c=p[--s]]=e[c];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),s=o.length;s;)(0,o[--s])(this,e);this.timeStamp=e.timeStamp||Date.now()}var f=r.default.prototype;(0,o.default)(p.prototype,f,{constructor:p,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=a,f.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=s,f.stopPropagation.call(this)}}),t.default=p,e.exports=t.default},3655:(e,t,n)=>{n(6535)("observable")},3694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){function r(t){var i=new o.default(t);n.call(e,i)}if(e.addEventListener){var s=function(){var n=!1;return"object"===typeof i?n=i.capture||!1:"boolean"===typeof i&&(n=i),e.addEventListener(t,r,i||!1),{v:{remove:function(){e.removeEventListener(t,r,n)}}}}();if("object"===typeof s)return s.v}else if(e.attachEvent)return e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}};var i,r=n(3429),o=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},3820:e=>{function t(e,t,n){return e>n&&e<t}e.exports=function(e,n,i,r){let o="",s=e,a="",l=0,c="01B 01U 01B' 01U' 01B' 01L' 01B 01L",u="01B 01R 01B' 01R' 01B' 01U' 01B 01U",h="01B 01D 01B' 01D' 01B' 01R' 01B 01R",d="01B 01L 01B' 01L' 01B' 01D' 01B 01D",p=r-1,f=function(e){let t=[],n=e.length/3,i=n/4,r=[];for(let o=2*n;o<3*n;o++)r.push(e[o]),r.length===i&&(t.push(r),r=[]);return t}(i),m=f[0][0],g=f[1][0],v=f[3][0],y=f[2][0];for(let x=0;x<s.length;x++){o.length&&(a=" ");let e=-1,n=-1,i=s[x][6],r=s[x][7],f=s[x][8];for(let t=0;t<6;t++)"black"===s[x][t]||("blue"===s[x][t]?e=t:"green"===s[x][t]&&(n=t));x===m&&0===l&&(0===i&&t(r,p,0)&&f===p?1===e?l++:o+=a+c:i===p&&t(r,p,0)&&f===p?o+=a+u:0===i&&t(r,p,0)&&0===f?o+=a+d:i===p&&t(r,p,0)&&0===f?o+=a+h:0===i&&r===p&&t(f,p,0)?o+=3===e?a+c:a+"01B2 01L' 01B' 01L 01B 01U 01B 01U'":t(i,p,0)&&r===p&&f===p?o+=a+"01B":i===p&&r===p&&t(f,p,0)?o+=a+"01B2":t(i,p,0)&&r===p&&0===f&&(o+=a+"01B'")),x===g&&1===l&&(i===p&&t(r,p,0)&&f===p?1===e?l++:o+=a+u:0===i&&t(r,p,0)&&0===f?o+=a+d:i===p&&t(r,p,0)&&0===f?o+=a+h:t(i,p,0)&&r===p&&f===p?o+=1===e?a+u:a+"01B2 01U' 01B' 01U 01B 01R 01B 01R'":i===p&&r===p&&t(f,p,0)?o+=a+"01B":t(i,p,0)&&r===p&&0===f?o+=a+"01B2":0===i&&r===p&&t(f,p,0)&&(o+=a+"01B'")),x===v&&2===l&&(0===i&&t(r,p,0)&&0===f?5===n?l++:o+=a+d:i===p&&t(r,p,0)&&0===f?o+=a+h:t(i,p,0)&&r===p&&0===f?o+=5===n?a+d:a+"01B2 01D' 01B' 01D 01B 01L 01B 01L'":0===i&&r===p&&t(f,p,0)?o+=a+"01B":t(i,p,0)&&r===p&&f===p?o+=a+"01B2":i===p&&r===p&&t(f,p,0)&&(o+=a+"01B'")),x===y&&3===l&&(i===p&&t(r,p,0)&&0===f?5===n?l++:o+=a+h:i===p&&r===p&&t(f,p,0)?o+=3===n?a+h:a+"01B2 01R' 01B' 01R 01B 01D 01B 01D'":t(i,p,0)&&r===p&&0===f?o+=a+"01B":0===i&&r===p&&t(f,p,0)?o+=a+"01B2":t(i,p,0)&&r===p&&f===p&&(o+=a+"01B'"))}const b=n(o);return l<4?{moveSet:b}:{solveState:4}}},3914:(e,t,n)=>{"use strict";var i=n(9799),r=n(7832),o=n(3384),s=n(2374),a=n(859),l=n(4301),c=n(3193),u=n(5436),h=n(4027)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",f="values",m=function(){return this};e.exports=function(e,t,n,g,v,y,b){l(n,t,g);var x,_,w,S=function(e){if(!d&&e in C)return C[e];switch(e){case p:case f:return function(){return new n(this,e)}}return function(){return new n(this,e)}},M=t+" Iterator",E=v==f,T=!1,C=e.prototype,L=C[h]||C["@@iterator"]||v&&C[v],A=L||S(v),P=v?E?S("entries"):A:void 0,R="Array"==t&&C.entries||L;if(R&&(w=u(R.call(new e)))!==Object.prototype&&w.next&&(c(w,M,!0),i||"function"==typeof w[h]||s(w,h,m)),E&&L&&L.name!==f&&(T=!0,A=function(){return L.call(this)}),i&&!b||!d&&!T&&C[h]||s(C,h,A),a[t]=A,a[M]=m,v)if(x={values:E?A:S(f),keys:y?A:S(p),entries:P},b)for(_ in x)_ in C||o(C,_,x[_]);else r(r.P+r.F*(d||T),t,x);return x}},4008:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},4027:(e,t,n)=>{var i=n(8563)("wks"),r=n(1422),o=n(5761).Symbol,s="function"==typeof o;(e.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},4067:(e,t,n)=>{"use strict";var i=n(4098),r=n(8198),o=n(9729),s=n(3350),a=n(4591),l=n(8544),c=Object.assign;e.exports=!c||n(5949)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=i})?function(e,t){for(var n=a(e),c=arguments.length,u=1,h=o.f,d=s.f;c>u;)for(var p,f=l(arguments[u++]),m=h?r(f).concat(h(f)):r(f),g=m.length,v=0;g>v;)p=m[v++],i&&!d.call(f,p)||(n[p]=f[p]);return n}:c},4098:(e,t,n)=>{e.exports=!n(5949)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},4158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){const r=!(0,i.isNum)(e.lastX),s=o(e);return r?{node:s,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:s,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:s}=e.props;s="string"===typeof s?s:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(s);const a=o(e);if("string"===typeof s){const{ownerDocument:e}=a,t=e.defaultView;let n;if("parent"===s)n=a.parentNode;else{n=a.getRootNode().querySelector(s)}if(!(n instanceof t.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const o=n,l=t.getComputedStyle(a),c=t.getComputedStyle(o);s={left:-a.offsetLeft+(0,i.int)(c.paddingLeft)+(0,i.int)(l.marginLeft),top:-a.offsetTop+(0,i.int)(c.paddingTop)+(0,i.int)(l.marginTop),right:(0,r.innerWidth)(o)-(0,r.outerWidth)(a)-a.offsetLeft+(0,i.int)(c.paddingRight)-(0,i.int)(l.marginRight),bottom:(0,r.innerHeight)(o)-(0,r.outerHeight)(a)-a.offsetTop+(0,i.int)(c.paddingBottom)-(0,i.int)(l.marginBottom)}}(0,i.isNum)(s.right)&&(t=Math.min(t,s.right));(0,i.isNum)(s.bottom)&&(n=Math.min(n,s.bottom));(0,i.isNum)(s.left)&&(t=Math.max(t,s.left));(0,i.isNum)(s.top)&&(n=Math.max(n,s.top));return[t,n]},t.getControlPosition=function(e,t,n){const i="number"===typeof t?(0,r.getTouch)(e,t):null;if("number"===typeof t&&!i)return null;const s=o(n),a=n.props.offsetParent||s.offsetParent||s.ownerDocument.body;return(0,r.offsetXYFromParent)(i||e,a,n.props.scale)},t.snapToGrid=function(e,t,n){const i=Math.round(t/e[0])*e[0],r=Math.round(n/e[1])*e[1];return[i,r]};var i=n(2447),r=n(1212);function o(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},4171:(e,t,n)=>{var i=n(1774),r=n(8500).f;n(8392)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},4202:(e,t,n)=>{"use strict";var i=n(2123),r=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;r=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,i(b,g.prototype),b.isPureReactComponent=!0;var x={current:null},_=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!w.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:s,ref:a,props:o,_owner:x.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,n,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case o:l=!0}}if(l)return s=s(l=e),e=""===i?"."+T(l,0):i,Array.isArray(s)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),C(s,t,n,"",function(e){return e})):null!=s&&(M(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+T(a=e[c],c);l+=C(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=C(a=a.value,t,n,u=i+T(a,c++),s);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function L(e,t,n){if(null==e)return e;var i=[],r=0;return C(e,i,"","",function(e){return t.call(n,e,r++)}),i}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}var P={current:null};function R(){var e=P.current;if(null===e)throw Error(p(321));return e}var D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!M(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(p(267,e));var o=i({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)_.call(t,u)&&!w.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:r,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},4264:e=>{function t(e,t){return(e<10?"0":"")+e+t}e.exports=(e,n,i)=>{const r=i-1,o=Math.floor(i/2);let s=[],a=0===n.x&&n.z===r,l=n.x===r&&n.z===r,c=n.x===r&&0===n.z,u=["01R","01U'","01B","01R'","01U"],h=["01D","01R'","01B","01D'","01R"],d=["01L","01D'","01B","01L'","01D"];const p=[t(o+1,"B'"),"01R","01B","01R'","01U","01R'","01U'","01R",t(o+1,"B")],f=[t(o+1,"B'"),"01D","01B","01D'","01R","01D'","01R'","01D",t(o+1,"B")],m=[t(o+1,"B'"),"01L","01B","01L'","01D","01L'","01D'","01L",t(o+1,"B")],g=[t(o,"b2"),"01L2","01D2",t(o,"b2"),"01D2","01L2",t(o,"b2"),"01D2"],v=[t(o,"f"),"01L2",t(o,"f"),"01L2",t(o,"f'"),"01L2",t(o,"f"),"01L2",t(o,"b'"),"01L2",t(o,"f"),"01L2",t(o,"f'"),"01L2",t(i,"f'"),t(o,"f'"),"01L2",t(o,"f'"),"01L2",t(o+1,"F"),"01L'","01B","01D"];let y=e=>["01F",t(e,"F"),"01R","01U'","01B","01R'","01U","01F'",t(e,"F'")],b=e=>[t(e,"B'"),"01B'","01R","01U'","01B","01R'","01U",t(e,"B"),"01B"],x=e=>["01F",t(e,"F"),"01D","01R'","01B","01D'","01R","01F'",t(e,"F'")],_=e=>[t(e,"B'"),"01B'","01D","01R'","01B","01D'","01R",t(e,"B"),"01B"],w=e=>["01F",t(e,"F"),"01L","01D'","01B","01L'","01D","01F'",t(e,"F'")],S=e=>[t(e,"B'"),"01B'","01L","01D'","01B","01L'","01D",t(e,"B"),"01B"];var M;return i>4&&i%2&&e.y===o?s=a?0===e.x&&0===e.z?[t(o+1,"F'"),"01D2",t(o+1,"F")]:e.x===r&&0===e.z?["01D2"]:e.x===r&&e.z===r?[t(o+1,"F"),"01R2",t(o+1,"F'")]:p:l?0===e.x&&0===e.z?["01D2"]:e.x===r&&0===e.z?[t(o+1,"F"),"01D2",t(o+1,"F'")]:f:c?e.x===r&&0===e.z?m:g:v:a?0===e.x&&e.z===r?s=e.y>=o?b(i-e.y):y(e.y+1):e.x===r&&e.z===r?s=e.y===n.y?u:e.y>=o?y(i-e.y):b(e.y+1):0===e.x&&0===e.z?s.push("01D2","01R2"):s.push("01R2"):l?e.x===r&&e.z===r?s=e.y>=o?_(i-e.y):x(e.y+1):e.x===r&&0===e.z?s=e.y===n.y?h:e.y>=o?x(i-e.y):_(e.y+1):s.push("01D2"):c?e.x===r&&0===e.z?s=e.y===r-1?S(i-e.y):w(e.y+1):0===e.x&&0===e.z&&(s=e.y===n.y?d:e.y===r-1?w(i-e.y):S(e.y+1)):s=[t(M=e.y+1,"B'"),"01D2",t(M,"F"),"01L2",t(M,"F'"),"01L2",t(M,"B2"),"01D2",t(M,"B"),"01D2",t(M,"B'"),"01D2","01L2",t(M,"B2"),"01L2"],s.join(" ")}},4301:(e,t,n)=>{"use strict";var i=n(5478),r=n(9885),o=n(3193),s={};n(2374)(s,n(4027)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},4353:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},4396:(e,t,n)=>{var i=n(7832);i(i.S,"Object",{setPrototypeOf:n(6271).set})},4397:(e,t,n)=>{var i=n(8563)("keys"),r=n(1422);e.exports=function(e){return i[e]||(i[e]=r(e))}},4414:(e,t,n)=>{"use strict";var i,r=n(638),o=(i=r)&&i.__esModule?i:{default:i};t.A=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},4425:(e,t,n)=>{var i=n(9066),r=n(8321),o=n(8198);e.exports=n(4098)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,l=0;a>l;)i.f(e,n=s[l++],t[n]);return e}},4467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=void 0,r=void 0,o=void 0,s=void 0,a=void 0,l=function l(){var c=+new Date-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=null,r=null)))};return function(){o=this,r=arguments,s=+new Date;var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=null,r=null),a}}},4591:(e,t,n)=>{var i=n(5429);e.exports=function(e){return Object(i(e))}},4669:(e,t,n)=>{var i=n(7832);i(i.S+i.F,"Object",{assign:n(4067)})},4716:(e,t,n)=>{e.exports={default:n(6921),__esModule:!0}},4727:(e,t,n)=>{var i=n(285),r=n(4027)("iterator"),o=n(859);e.exports=n(4353).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},4803:(e,t,n)=>{n(4669),e.exports=n(4353).Object.assign},4810:(e,t,n)=>{e.exports={default:n(9277),__esModule:!0}},4847:(e,t,n)=>{"use strict";var i=o(n(7360)),r=o(n(4810));function o(e){return e&&e.__esModule?e:{default:e}}t.A=function e(t,n,o){null===t&&(t=Function.prototype);var s=(0,r.default)(t,n);if(void 0===s){var a=(0,i.default)(t);return null===a?void 0:e(a,n,o)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(o):void 0}},4943:(e,t,n)=>{var i=n(5761).document;e.exports=i&&i.documentElement},4970:(e,t,n)=>{"use strict";var i=n(9066),r=n(9885);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5080:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},5089:(e,t,n)=>{var i=n(5080);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},5173:(e,t,n)=>{e.exports=n(1497)()},5304:(e,t,n)=>{"use strict";var i,r=n(8177),o=(i=r)&&i.__esModule?i:{default:i};t.A=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},5323:e=>{function t(e,t){return(e<10?"0":"")+e+t}e.exports=function(e,n,i,r,o){let s,a="",l=e,c="01U' 01F' 01U 01F 01U' 01F' 01U 01F",u=n,h=u-1,d=o[4],p=o[5],f=o[6],m=o[7];if("yellow"===l[d][3]&&"yellow"===l[p][3]&&"yellow"===l[f][3]&&"yellow"===l[m][3]?0===l[d][6]&&l[d][8]===h||(a="01B"):"yellow"!==l[d][3]?a=c:"yellow"!==l[p][3]?a=0===l[p][6]&&l[p][8]===h?c:"01B":"yellow"!==l[m][3]?a=0===l[m][6]&&l[m][8]===h?c:"01B":"yellow"!==l[f][3]&&(a=0===l[f][6]&&l[f][8]===h?c:"01B"),s=i(a),a.length)return{moveSet:s};if(2===u){if(0!==l[d][6]||l[d][8]!==h)return a="01B",s=i(a),{moveSet:s};if(l[p][6]===h&&l[p][8]===h){if(0===l[f][6]&&0===l[f][8]){let e={moveLog:"",currentFunc:"None",moveSet:[],solveState:-1};return r.length?(e.solveMoves="",e):e}return a="01R 01D' 01R' 01F' 01R' 01F 01D",s=i(a),{moveSet:s}}}else{if(!(u>3)){let e={moveLog:"",currentFunc:"None",moveSet:[],solveState:-1};return r.length?(e.solveMoves="",e):e}if(0===l[d][6]&&l[d][8]===h&&l[p][6]===h&&l[p][8]===h){if(0===l[f][6]&&0===l[f][8]){let e={moveLog:"",currentFunc:"None",moveSet:[],solveState:-1};return r.length?(e.solveMoves="",e):e}return a="02R2 01B2 02R2 01B2 02B2 02R2 02B2",a=`${t(u/2,"r2")} 01R2 01B2 ${t(u/2,"r2")} 01R2 01B2 ${t(u/2,"b2")} 01B2 ${t(u/2,"r2")} 01R2 ${t(u/2,"b2")} 01B2`,s=i(a),{moveSet:s,solveState:4}}}}},5387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},5419:(e,t,n)=>{e.exports=!n(4098)&&!n(5949)(function(){return 7!=Object.defineProperty(n(2721)("div"),"a",{get:function(){return 7}}).a})},5429:e=>{e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},5436:(e,t,n)=>{var i=n(1496),r=n(4591),o=n(4397)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},5449:(e,t,n)=>{var i=n(7832);i(i.S+i.F*!n(4098),"Object",{defineProperty:n(9066).f})},5471:(e,t,n)=>{n(7216);for(var i=n(5761),r=n(2374),o=n(859),s=n(4027)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],u=i[c],h=u&&u.prototype;h&&!h[s]&&r(h,s,c),o[c]=o.Array}},5478:(e,t,n)=>{var i=n(8321),r=n(4425),o=n(8721),s=n(4397)("IE_PROTO"),a=function(){},l="prototype",c=function(){var e,t=n(2721)("iframe"),i=o.length;for(t.style.display="none",n(4943).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;i--;)delete c[l][o[i]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a[l]=i(e),n=new a,a[l]=null,n[s]=e):n=c(),void 0===t?n:r(n,t)}},5560:(e,t,n)=>{e.exports={default:n(2015),__esModule:!0}},5561:e=>{function t(e,t,n){return e+(t<10?"0":"")+t+n}e.exports=(e,n,i,r)=>{const o=i-1;let s="";return s=0===e.y?function(e,n,i){return e.z===n?`${t("",e.x+1,"L'")} 01B' 01R 01B ${t("",e.x+1,"L")} 01R'`:e.x===n?`${t("",e.z+1,"D")} 01B' 01D 01B ${t("",e.z+1,"D'")} 01D'`:e.z===i?`${t("",e.x+1,"L")} 01B' 01L 01B ${t("",e.x+1,"L'")} 01L'`:e.x===i?`${t("",e.z+1,"D'")} 01B' 01U 01B ${t("",e.z+1,"D")} 01U'`:void 0}(e,o,0):e.y>0&&e.y<o?function(e,t,n,i){return e.x===t&&e.z===t?1===i?"01U' 01B 01U":"01R 01B 01R'":e.x===n&&e.z===t?1===i?"01U 01B 01U'":"01L' 01B 01L":e.x===t&&e.z===n?5===i?"01D 01B 01D'":"01R' 01B 01R":e.x===n&&e.z===n?1===i?"01D' 01B 01U":"01L 01B 01L'":void 0}(e,o,0,r):e.y===o&&3===r?function(e,t,n){return e.z===t?"01U 01R 01B2 01R' 01U' 01B'":e.x===t?"01R 01D 01B2 01D' 01R' 01B'":e.z===n?"01D 01L 01B2 01L' 01D' 01B'":e.x===n?"01L 01U 01B2 01U' 01L' 01B'":void 0}(e,o,0):e.z===n.z&&e.x===n.x?function(e,n,i,r){return e.z===i&&n.z===i?`${t("",e.x+1,"L")} 01F 01R' 01F' ${t("",e.x+1,"L'")} 01F 01R 01F'`:e.x===i&&n.x===i?`${t("",e.z+1,"D'")} 01F 01D' 01F' ${t("",e.z+1,"D")} 01F 01D 01F'`:e.z===r&&n.z===r?`${t("",e.x+1,"L'")} 01F 01L' 01F' ${t("",e.x+1,"L")} 01F 01L 01F'`:e.x===r&&n.x===r?`${t("",e.z+1,"D")} 01F 01U' 01F' ${t("",e.z+1,"D'")} 01F 01U 01F'`:""}(e,n,o,0):"01B",s}},5636:(e,t,n)=>{var i=n(1774),r=n(8312),o=n(3204);e.exports=function(e){return function(t,n,s){var a,l=i(t),c=r(l.length),u=o(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},5761:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},5877:e=>{function t(e,t){return(e<10?"0":"")+e+t}e.exports=function(e,n,i,r){let o="",s=e,a=n,l=a-1,c=r[4],u=r[5],h=r[6],d=r[7],p=0;if(s[c][6]===s[c][9]&&s[c][7]===s[c][10]&&s[c][8]===s[c][11]&&p++,s[u][6]===s[u][9]&&s[u][7]===s[u][10]&&s[u][8]===s[u][11]&&p++,s[h][6]===s[h][9]&&s[h][7]===s[h][10]&&s[h][8]===s[h][11]&&p++,s[d][6]===s[d][9]&&s[d][7]===s[d][10]&&s[d][8]===s[d][11]&&p++,0===s[c][6]&&s[c][8]===l&&s[u][6]===l&&s[u][8]===l);else if(2===p&&a>3){o="02D2 01B2 02D2 02b2 02D2 02b2",o=`${t(a/2,"d2")} 01D2 01B2 ${t(a/2,"d2")} 01D2 ${t(a/2,"b2")} ${t(a/2,"d2")} 01D2 ${t(a/2,"b2")}`;const e=i(o);if(o.length)return{moveSet:e,solveState:5}}else o=0===s[c][6]&&s[c][8]===l?"01B 01U 01B' 01D' 01B 01U' 01B' 01D":s[u][6]===l&&s[u][8]===l?"01B 01R 01B' 01L' 01B 01R' 01B' 01L":0===s[h][6]&&0===s[h][8]?"01B 01L 01B' 01R' 01B 01L' 01B' 01R":s[d][6]===l&&0===s[d][8]?"01B 01D 01B' 01U' 01B 01D' 01B' 01U":"01B 01U 01B' 01D' 01B 01U' 01B' 01D";const f=i(o);return o.length?{moveSet:f}:{solveState:7}}},5949:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},6134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,n,i){i=i||!1,e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,function(t){n.call(e,t||window.event)})},t.off=function(e,t,n,i){i=i||!1,e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent&&e.detachEvent("on"+t,n)}},6247:(e,t,n)=>{e.exports={default:n(2079),__esModule:!0}},6271:(e,t,n)=>{var i=n(1084),r=n(8321),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n(5089)(Function.call,n(8500).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:o}},6429:(e,t,n)=>{n(4396),e.exports=n(4353).Object.setPrototypeOf},6440:e=>{"use strict";var t=function(){};e.exports=t},6535:(e,t,n)=>{var i=n(5761),r=n(4353),o=n(9799),s=n(7705),a=n(9066).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},6578:(e,t,n)=>{try{var i=n(3359)}catch(a){i=n(3359)}var r=/\s+/,o=Object.prototype.toString;function s(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new s(e)},s.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~i(t,e)||t.push(e),this.el.className=t.join(" "),this},s.prototype.remove=function(e){if("[object RegExp]"==o.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=i(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},s.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},s.prototype.toggle=function(e,t){return this.list?("undefined"!==typeof t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):("undefined"!==typeof t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},s.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(r);return""===e[0]&&e.shift(),e},s.prototype.has=s.prototype.contains=function(e){return this.list?this.list.contains(e):!!~i(this.array(),e)}},6731:(e,t)=>{"use strict";t.A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},6819:()=>{},6835:(e,t,n)=>{"use strict";var i=s(n(1164)),r=s(n(7151)),o=s(n(6926));function s(e){return e&&e.__esModule?e:{default:e}}t.A=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,o.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},6876:(e,t,n)=>{"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5043),o=h(r),s=h(n(5173)),a=n(6134),l=h(n(2001)),c=h(n(4467)),u=h(n(7420));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=0,g=0,v=0,y=0,b="data-lazyload-listened",x=[],_=[],w=!1;try{var S=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,S)}catch(R){}var M=!!w&&{capture:!1,passive:!0},E=function(e){var t=e.ref;if(t instanceof HTMLElement){var n=(0,l.default)(t),i=e.props.overflow&&n!==t.ownerDocument&&n!==document&&n!==document.documentElement?function(e,t){var n=e.ref,i=void 0,r=void 0,o=void 0,s=void 0;try{var a=t.getBoundingClientRect();i=a.top,r=a.left,o=a.height,s=a.width}catch(R){i=m,r=g,o=y,s=v}var l=window.innerHeight||document.documentElement.clientHeight,c=window.innerWidth||document.documentElement.clientWidth,u=Math.max(i,0),h=Math.max(r,0),d=Math.min(l,i+o)-u,p=Math.min(c,r+s)-h,f=void 0,b=void 0,x=void 0,_=void 0;try{var w=n.getBoundingClientRect();f=w.top,b=w.left,x=w.height,_=w.width}catch(R){f=m,b=g,x=y,_=v}var S=f-u,M=b-h,E=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return S-E[0]<=d&&S+x+E[1]>=0&&M-E[0]<=p&&M+_+E[1]>=0}(e,n):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var n=void 0,i=void 0;try{var r=t.getBoundingClientRect();n=r.top,i=r.height}catch(R){n=m,i=y}var o=window.innerHeight||document.documentElement.clientHeight,s=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return n-s[0]<=o&&n+i+s[1]>=0}(e);i?e.visible||(e.props.once&&_.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},T=function(){_.forEach(function(e){var t=x.indexOf(e);-1!==t&&x.splice(t,1)}),_=[]},C=function(){for(var e=0;e<x.length;++e){var t=x[e];E(t)}T()},L=void 0,A=null,P=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.visible=!1,n.setRef=n.setRef.bind(n),n}return f(t,e),i(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var n=void 0!==this.props.debounce&&"throttle"===L||"debounce"===L&&void 0===this.props.debounce;if(n&&((0,a.off)(e,"scroll",A,M),(0,a.off)(window,"resize",A,M),A=null),A||(void 0!==this.props.debounce?(A=(0,c.default)(C,"number"===typeof this.props.debounce?this.props.debounce:300),L="debounce"):void 0!==this.props.throttle?(A=(0,u.default)(C,"number"===typeof this.props.throttle?this.props.throttle:300),L="throttle"):A=C),this.props.overflow){var i=(0,l.default)(this.ref);if(i&&"function"===typeof i.getAttribute){var r=+i.getAttribute(b)+1;1===r&&i.addEventListener("scroll",A,M),i.setAttribute(b,r)}}else if(0===x.length||n){var o=this.props,s=o.scroll,h=o.resize;s&&(0,a.on)(e,"scroll",A,M),h&&(0,a.on)(window,"resize",A,M)}x.push(this),E(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,l.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(b)-1;0===t?(e.removeEventListener("scroll",A,M),e.removeAttribute(b)):e.setAttribute(b,t)}}var n=x.indexOf(this);-1!==n&&x.splice(n,1),0===x.length&&"undefined"!==typeof window&&((0,a.off)(window,"resize",A,M),(0,a.off)(window,"scroll",A,M))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.children,i=e.placeholder,r=e.className,s=e.classNamePrefix,a=e.style;return o.default.createElement("div",{className:s+"-wrapper "+r,ref:this.setRef,style:a},this.visible?n:i||o.default.createElement("div",{style:{height:t},className:s+"-placeholder"}))}}]),t}(r.Component);P.propTypes={className:s.default.string,classNamePrefix:s.default.string,once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool,style:s.default.object},P.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.Ay=P},6921:(e,t,n)=>{n(20),n(5471),e.exports=n(7705).f("iterator")},6926:(e,t,n)=>{"use strict";t.__esModule=!0;var i=s(n(4716)),r=s(n(6247)),o="function"===typeof r.default&&"symbol"===typeof i.default?function(e){return typeof e}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof r.default&&"symbol"===o(i.default)?function(e){return"undefined"===typeof e?"undefined":o(e)}:function(e){return e&&"function"===typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":"undefined"===typeof e?"undefined":o(e)}},7151:(e,t,n)=>{e.exports={default:n(614),__esModule:!0}},7216:(e,t,n)=>{"use strict";var i=n(2395),r=n(7323),o=n(859),s=n(1774);e.exports=n(3914)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},7234:(e,t)=>{"use strict";var n,i,r,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(h,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},i=function(e,t){u=setTimeout(e,t)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(n){throw _.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},i=function(e,n){v=d(function(){e(t.unstable_now())},n)},r=function(){p(v),v=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<E(r,t)))break e;e[i]=t,e[n]=r,n=i}}function S(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>E(s,n))void 0!==l&&0>E(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[o]=n,i=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],L=1,A=null,P=3,R=!1,D=!1,k=!1;function O(e){for(var t=S(C);null!==t;){if(null===t.callback)M(C);else{if(!(t.startTime<=e))break;M(C),t.sortIndex=t.expirationTime,w(T,t)}t=S(C)}}function N(e){if(k=!1,O(e),!D)if(null!==S(T))D=!0,n(F);else{var t=S(C);null!==t&&i(N,t.startTime-e)}}function F(e,n){D=!1,k&&(k=!1,r()),R=!0;var o=P;try{for(O(n),A=S(T);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=A.callback;if("function"===typeof s){A.callback=null,P=A.priorityLevel;var a=s(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?A.callback=a:A===S(T)&&M(T),O(n)}else M(T);A=S(T)}if(null!==A)var l=!0;else{var c=S(C);null!==c&&i(N,c.startTime-n),l=!1}return l}finally{A=null,P=o,R=!1}}var I=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=I,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:L++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,w(C,e),null===S(T)&&e===S(C)&&(k?r():k=!0,i(N,s-a))):(e.sortIndex=l,w(T,e),D||R||(D=!0,n(F))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},7323:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},7324:e=>{e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(r=n?n.call(i,u,h,c):void 0)||void 0===r&&u!==h)return!1}return!0}},7360:(e,t,n)=>{e.exports={default:n(1217),__esModule:!0}},7367:(e,t,n)=>{var i=n(1422)("meta"),r=n(1084),o=n(1496),s=n(9066).f,a=0,l=Object.isExtensible||function(){return!0},c=!n(5949)(function(){return l(Object.preventExtensions({}))}),u=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},getWeak:function(e,t){if(!o(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!o(e,i)&&u(e),e}}},7403:(e,t,n)=>{var i=n(4591),r=n(5436);n(8392)("getPrototypeOf",function(){return function(e){return r(i(e))}})},7420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i,r;return t||(t=250),function(){var o=n||this,s=+new Date,a=arguments;i&&s<i+t?(clearTimeout(r),r=setTimeout(function(){i=s,e.apply(o,a)},t)):(i=s,e.apply(o,a))}}},7705:(e,t,n)=>{t.f=n(4027)},7723:e=>{function t(e,t,n){return e+(t<10?"0":"")+t+n}e.exports=(e,n,i,r)=>{let o="F",s=Math.floor(r/(i-2)),a=r%(i-2),l="";return 0===e.x?o="L":e.x===i-1?o="R":e.y===i-1?o="B":0===e.z?o="D":e.z===i-1&&(o="U"),1===n.x?l=i-n.z===2?"F"===o?"01F":"D"!==o&&"U"!==o?e.z!==i-2?"01"+o:t("",i-e.z,"U"):e.x!==n.x?"01"+o:"02L":"F"===o?t("",e.z+1,"D'"):"B"===o?e.z<=n.z?t("",e.z+1,"D"):"01B":"L"===o?e.y!==i-2||e.z!==n.z?"01L":t("",e.z+1,"D"):t("",e.y+1,"F'"):0===s?l="F"===o?e.z<n.z&&e.x>=n.x?t("",i-e.x,"R"):t("",e.z+1,"D"):"B"===o?e.x===n.x&&e.z!==n.z?t("",a+2,"L2"):"01B":e.y===i-2?e.z!==i-1?t("",s+2,"B"):e.x!==n.x?"01U":t("",a+2,"L"):"01"+o:"F"===o?e.z<n.z?l=t("",i-e.z,"U"):(l=t("",i-e.z,"U"),l+=t(" ",i-e.x,"F'"),l+=t(" ",i-e.z,"U'")):"B"===o?e.z===n.z?n.x===e.x?(l=t("",i-e.z,"U"),l+=t(" ",e.x+1,"B"),l+=t(" ",i-e.z,"U'")):(l=t("",i-e.z,"U"),l+=" 01R",l+=t(" ",i-e.z,"U'")):l="01B":"U"!==o?l+=t(" ",e.y+1,"F"):e.x!==n.x||e.y!==n.z?l="01U":(l="01U'",l+=t(" ",i-n.z,"U'"),l+=t(" ",e.x+1,"F"),l+=t(" ",i-n.z,"U")),l}},7800:(e,t,n)=>{var i=n(1774),r=n(1638).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(t){return s.slice()}}(e):r(i(e))}},7832:(e,t,n)=>{var i=n(5761),r=n(4353),o=n(5089),s=n(2374),a=n(1496),l="prototype",c=function(e,t,n){var u,h,d,p=e&c.F,f=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,y=e&c.W,b=f?r:r[t]||(r[t]={}),x=b[l],_=f?i:m?i[t]:(i[t]||{})[l];for(u in f&&(n=t),n)(h=!p&&_&&void 0!==_[u])&&a(b,u)||(d=h?_[u]:n[u],b[u]=f&&"function"!=typeof _[u]?n[u]:v&&h?o(d,i):y&&_[u]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[l]=e[l],t}(d):g&&"function"==typeof d?o(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[u]=d,e&c.R&&x&&!x[u]&&s(x,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8136:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),t.default=void 0;var i=function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,s)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(o.get||o.set)?r(s,n,o):s[n]=e[n]);return s}(e,t)}(n(5043)),r=d(n(5173)),o=d(n(7950)),s=n(2949),a=n(1212),l=n(4158),c=n(2447),u=d(n(935)),h=d(n(5387));function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(null,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{static getDerivedStateFromProps(e,t){let{position:n}=e,{prevPropsPosition:i}=t;return!n||i&&n.x===i.x&&n.y===i.y?null:((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:{...n}})}constructor(e){super(e),f(this,"onDragStart",(e,t)=>{(0,h.default)("Draggable: onDragStart: %j",t);if(!1===this.props.onStart(e,(0,l.createDraggableData)(this,t)))return!1;this.setState({dragging:!0,dragged:!0})}),f(this,"onDrag",(e,t)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",t);const n=(0,l.createDraggableData)(this,t),i={x:n.x,y:n.y,slackX:0,slackY:0};if(this.props.bounds){const{x:e,y:t}=i;i.x+=this.state.slackX,i.y+=this.state.slackY;const[r,o]=(0,l.getBoundPosition)(this,i.x,i.y);i.x=r,i.y=o,i.slackX=this.state.slackX+(e-i.x),i.slackY=this.state.slackY+(t-i.y),n.x=i.x,n.y=i.y,n.deltaX=i.x-this.state.x,n.deltaY=i.y-this.state.y}if(!1===this.props.onDrag(e,n))return!1;this.setState(i)}),f(this,"onDragStop",(e,t)=>{if(!this.state.dragging)return!1;if(!1===this.props.onStop(e,(0,l.createDraggableData)(this,t)))return!1;(0,h.default)("Draggable: onDragStop: %j",t);const n={dragging:!1,slackX:0,slackY:0};if(Boolean(this.props.position)){const{x:e,y:t}=this.props.position;n.x=e,n.y=t}this.setState(n)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??o.default.findDOMNode(this)}render(){const{axis:e,bounds:t,children:n,defaultPosition:r,defaultClassName:o,defaultClassNameDragging:c,defaultClassNameDragged:h,position:d,positionOffset:f,scale:m,...g}=this.props;let v={},y=null;const b=!Boolean(d)||this.state.dragging,x=d||r,_={x:(0,l.canDragX)(this)&&b?this.state.x:x.x,y:(0,l.canDragY)(this)&&b?this.state.y:x.y};this.state.isElementSVG?y=(0,a.createSVGTransform)(_,f):v=(0,a.createCSSTransform)(_,f);const w=(0,s.clsx)(n.props.className||"",o,{[c]:this.state.dragging,[h]:this.state.dragged});return i.createElement(u.default,p({},g,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:w,style:{...n.props.style,...v},transform:y}))}}t.default=m,f(m,"displayName","Draggable"),f(m,"propTypes",{...u.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),f(m,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})},8139:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},8177:(e,t,n)=>{e.exports={default:n(942),__esModule:!0}},8188:(e,t)=>{"use strict";function n(){return!1}function i(){return!0}function r(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),r.prototype={isEventObject:1,constructor:r,isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=r,e.exports=t.default},8198:(e,t,n)=>{var i=n(8330),r=n(8721);e.exports=Object.keys||function(e){return i(e,r)}},8212:(e,t,n)=>{var i=n(8198),r=n(9729),o=n(3350);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},8312:(e,t,n)=>{var i=n(8968),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},8321:(e,t,n)=>{var i=n(1084);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},8330:(e,t,n)=>{var i=n(1496),r=n(1774),o=n(5636)(!1),s=n(4397)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),l=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>l;)i(a,n=t[l++])&&(~o(c,n)||c.push(n));return c}},8392:(e,t,n)=>{var i=n(7832),r=n(4353),o=n(5949);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},8500:(e,t,n)=>{var i=n(3350),r=n(9885),o=n(1774),s=n(647),a=n(1496),l=n(5419),c=Object.getOwnPropertyDescriptor;t.f=n(4098)?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(n){}if(a(e,t))return r(!i.f.call(e,t),e[t])}},8544:(e,t,n)=>{var i=n(4008);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},8563:(e,t,n)=>{var i=n(4353),r=n(5761),o="__core-js_shared__",s=r[o]||(r[o]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:n(9799)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},8721:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8968:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},8987:(e,t,n)=>{n(6535)("asyncIterator")},9066:(e,t,n)=>{var i=n(8321),r=n(5419),o=n(647),s=Object.defineProperty;t.f=n(4098)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},9140:e=>{function t(e,t,n){return e+(t<10?"0":"")+t+n}e.exports=(e,n,i)=>{let r="F",o=Math.floor(i/2),s=i%2,a="";if(0===e.x?r="L":e.x===i-1?r="R":0===e.z?r="D":e.z===i-1&&(r="U"),s&&n.x===o&&n.y===o)switch(r){case"L":a=t("",e.y+1,"F'"),a+=" 01L",a+=t(" ",e.y+1,"F"),a+=" 01L'",a+=t(" ",e.y+1,"F");break;case"D":a=t("",e.y+1,"F'"),a+=" 01L",a+=t(" ",e.y+1,"F2"),a+=" 01L'",a+=t(" ",e.y+1,"F");break;case"R":a=t("",e.y+1,"F"),a+=" 01R",a+=t(" ",e.y+1,"F'"),a+=" 01R'",a+=t(" ",e.y+1,"F'");break;default:console.log("Shouldn't be checking middle if already in solved location.")}else"U"===r?(a=t("",e.y+1,"F"),a+=t(" ",e.x+1,"U2"),s&&e.y===o&&(a+=" 01L'"),a+=t(" ",e.y+1,"F'"),s&&e.y===o&&(a+=" 01L"),a+=t(" ",e.x+1,"U2")):"R"===r?i-e.z===n.x+1&&e.y===n.y?(a=t("",n.x+1,"U2"),s&&n.y===o&&(a+=" 01L'"),a+=t(" ",n.y+1,"F"),s&&n.y===o&&(a+=" 01L"),a+=t(" ",n.x+1,"U2"),a+=t(" ",n.y+1,"F'")):a="01R'":"L"===r?e.z===n.x&&e.y===n.y?(a=t("",e.z+1,"D2"),s&&n.y===o&&(a+=" 01R"),a+=t(" ",n.y+1,"F'"),s&&n.y===o&&(a+=" 01R'"),a+=t(" ",e.z+1,"D2"),a+=t(" ",n.y+1,"F")):a="01L":e.y!==n.y?a="01D":(a=t("",n.y+1,"F'"),a+=" 01R",a+=t(" ",n.y+1,"F"));return a}},9277:(e,t,n)=>{n(4171);var i=n(4353).Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},9543:e=>{function t(e,t,n){return e>n&&e<t}e.exports=function(e,n,i,r){if(2===r)return{solveState:6};let o="",s=e,a=r-1,l=function(e){let t=[],n=e.length/3,i=n/4,r=[];for(let o=n;o<2*n;o++)r.push(e[o]),r.length===i&&(t.push(r),r=[]);return t}(i),c=[l[0][0],l[3][0],l[1][0],l[2][0]];t(s[c[0]][6],a,0)&&s[c[0]][7]===a&&s[c[0]][8]===a?0===s[c[1]][6]&&t(s[c[1]][8],a,0)&&s[c[2]][6]===a&&t(s[c[2]][8],a,0)||(s[c[1]][6]===a&&t(s[c[2]][8],a,0)&&t(s[c[3]][6],a,0)&&0===s[c[3]][8]?o="01D 01B 01D' 01B 01D 01B2 01D' 01B2 01L 01B 01L' 01B 01L 01B2 01L' 01B":(s[c[3]][6]===a&&t(s[c[3]][8],a,0)||0===s[c[3]][6]&&t(s[c[3]][8],a,0))&&(o="01R 01B 01R' 01B 01R 01B2 01R' 01B")):o=s[c[0]][6]===a&&s[c[0]][7]===a&&t(s[c[0]][8],a,0)?"01B":"01B'";const u=n(o);return o.length?{moveSet:u}:{solveState:6}}},9610:(e,t,n)=>{"use strict";var i=n(5089),r=n(7832),o=n(4591),s=n(1693),a=n(2849),l=n(8312),c=n(4970),u=n(4727);r(r.S+r.F*!n(1717)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,h,d=o(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(d);if(g&&(m=i(m,f>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(n=new p(t=l(d.length));t>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(h=y.call(d),n=new p;!(r=h.next()).done;v++)c(n,v,g?s(h,m,[r.value,v],!0):r.value);return n.length=v,n}})},9729:(e,t)=>{t.f=Object.getOwnPropertySymbols},9799:e=>{e.exports=!0},9885:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9939:(e,t)=>{"use strict";t.A=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;("object"==typeof a||"function"==typeof a)&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>s[e]=()=>i[e]);return s.default=()=>i,n.d(o,s),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{afterMain:()=>Vm,afterRead:()=>jm,afterWrite:()=>qm,applyStyles:()=>Qm,arrow:()=>bg,auto:()=>Lm,basePlacements:()=>Am,beforeMain:()=>Um,beforeRead:()=>Bm,beforeWrite:()=>Wm,bottom:()=>Em,clippingParents:()=>Dm,computeStyles:()=>Sg,createPopper:()=>ev,createPopperBase:()=>Qg,createPopperLite:()=>tv,detectOverflow:()=>zg,end:()=>Rm,eventListeners:()=>Eg,flip:()=>jg,hide:()=>Vg,left:()=>Cm,main:()=>Hm,modifierPhases:()=>Xm,offset:()=>Wg,placements:()=>Im,popper:()=>Om,popperGenerator:()=>Kg,popperOffsets:()=>Gg,preventOverflow:()=>qg,read:()=>zm,reference:()=>Nm,right:()=>Tm,start:()=>Pm,top:()=>Mm,variationPlacements:()=>Fm,viewport:()=>km,write:()=>Gm});var t=n(5043),i=n.t(t,2),r=n(7950),o=n.t(r,2);const s=0,a=1,l=2,c=0,u=1,h=2,d=3,p=100,f=101,m=102,g=200,v=201,y=202,b=203,x=204,_=205,w=206,S=207,M=208,E=209,T=210,C=301,L=302,A=306,P=307,R=1e3,D=1001,k=1002,O=1003,N=1004,F=1005,I=1006,B=1007,z=1008,j=1009,U=1012,H=1014,V=1015,W=1016,G=1020,q=1022,X=1023,Y=1026,$=1027,Z=2300,J=2301,K=2302,Q=2400,ee=2401,te=2402,ne=2500,ie=3e3,re=3001,oe=3007,se=3002,ae=7680,le=35044,ce=35048,ue="300 es";function he(){}Object.assign(he.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,i=n.length;t<i;t++)n[t].call(this,e)}}});const de=[];for(let n=0;n<256;n++)de[n]=(n<16?"0":"")+n.toString(16);let pe=1234567;const fe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(de[255&e]+de[e>>8&255]+de[e>>16&255]+de[e>>24&255]+"-"+de[255&t]+de[t>>8&255]+"-"+de[t>>16&15|64]+de[t>>24&255]+"-"+de[63&n|128]+de[n>>8&255]+"-"+de[n>>16&255]+de[n>>24&255]+de[255&i]+de[i>>8&255]+de[i>>16&255]+de[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},damp:function(e,t,n,i){return fe.lerp(e,t,1-Math.exp(-n*i))},pingpong:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(fe.euclideanModulo(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(pe=e%2147483647),pe=16807*pe%2147483647,(pe-1)/2147483646},degToRad:function(e){return e*fe.DEG2RAD},radToDeg:function(e){return e*fe.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),h=o((t-i)/2),d=s((t-i)/2),p=o((i-t)/2),f=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*h,l*d,a*c);break;case"YZY":e.set(l*d,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*d,a*u,a*c);break;case"XZX":e.set(a*u,l*f,l*p,a*c);break;case"YXY":e.set(l*p,a*u,l*f,a*c);break;case"ZYZ":e.set(l*f,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class me{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class ge{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],b=i[7],x=i[2],_=i[5],w=i[8];return r[0]=o*f+s*v+a*x,r[3]=o*m+s*y+a*_,r[6]=o*g+s*b+a*w,r[1]=l*f+c*v+u*x,r[4]=l*m+c*y+u*_,r[7]=l*g+c*b+u*w,r[2]=h*f+d*v+p*x,r[5]=h*m+d*y+p*_,r[8]=h*g+d*b+p*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,h=s*a-c*r,d=l*r-o*a,p=t*u+n*h+i*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(i*l-c*n)*f,e[2]=(s*n-i*o)*f,e[3]=h*f,e[4]=(c*t-i*a)*f,e[5]=(i*r-s*t)*f,e[6]=d*f,e[7]=(n*a-l*t)*f,e[8]=(o*t-n*r)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).copy(this).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*o+n*l,i[6]=t*s+n*c,i[1]=-n*r+t*a,i[4]=-n*o+t*l,i[7]=-n*s+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}let ve;const ye={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===ve&&(ve=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ve.width=e.width,ve.height=e.height;const n=ve.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=ve}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let be=0;function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe.DEFAULT_IMAGE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xe.DEFAULT_MAPPING,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:X,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:j,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:ie;Object.defineProperty(this,"id",{value:be++}),this.uuid=fe.generateUUID(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new me(0,0),this.repeat=new me(1,1),this.center=new me(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ge,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}function _e(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ye.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}xe.DEFAULT_IMAGE=void 0,xe.DEFAULT_MAPPING=300,xe.prototype=Object.assign(Object.create(he.prototype),{constructor:xe,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=fe.generateUUID()),!t&&void 0===e.images[i.uuid]){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(_e(i[e].image)):t.push(_e(i[e]))}else t=_e(i);e.images[i.uuid]={uuid:i.uuid,url:t}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case R:e.x=e.x-Math.floor(e.x);break;case D:e.x=e.x<0?0:1;break;case k:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case R:e.y=e.y-Math.floor(e.y);break;case D:e.y=e.y<0?0:1;break;case k:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(xe.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});class we{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,r;const o=.01,s=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],p=a[9],f=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<o&&Math.abs(u-f)<o&&Math.abs(p-m)<o){if(Math.abs(c+h)<s&&Math.abs(u+f)<s&&Math.abs(p+m)<s&&Math.abs(l+d+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(d+1)/2,v=(g+1)/2,y=(c+h)/4,b=(u+f)/4,x=(p+m)/4;return e>a&&e>v?e<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(e),i=y/n,r=b/n):a>v?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=x/i):v<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=b/r,i=x/r),this.set(n,i,r,t),this}let v=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-p)/v,this.y=(u-f)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}class Se extends he{constructor(e,t,n){super(),Object.defineProperty(this,"isWebGLRenderTarget",{value:!0}),this.width=e,this.height=t,this.scissor=new we(0,0,e,t),this.scissorTest=!1,this.viewport=new we(0,0,e,t),n=n||{},this.texture=new xe(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:I,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}setSize(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Me{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=t,this._z=n,this._w=i}static slerp(e,t,n,i){return n.copy(e).slerp(t,i)}static slerpFlat(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const h=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(u!==f||a!==h||l!==d||c!==p){let e=1-s;const t=a*h+l*d+c*p+u*f,n=t>=0?1:-1,i=1-t*t;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,t*n);e=Math.sin(e*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*e+h*r,l=l*e+d*r,c=c*e+p*r,u=u*e+f*r,e===1-s){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],h=r[o+1],d=r[o+2],p=r[o+3];return e[t]=s*p+c*u+a*d-l*h,e[t+1]=a*p+c*h+l*u-s*d,e[t+2]=l*p+c*d+s*h-a*u,e[t+3]=c*p-s*u-a*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),h=a(n/2),d=a(i/2),p=a(r/2);switch(o){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(r-l)*e,this._z=(o-i)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-a)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(r+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(r-l)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-i)/e,this._x=(r+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(fe.clamp(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*i+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=i*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class Ee{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Ce.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ce.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+c*-s-u*-o,this.y=c*a+h*-o+u*-r-l*-s,this.z=u*a+h*-s+l*-o-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Te.copy(this).projectOnVector(e),this.sub(Te)}reflect(e){return this.sub(Te.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(fe.clamp(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const Te=new Ee,Ce=new Me;class Le{constructor(e,t){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new Ee(1/0,1/0,1/0),this.max=void 0!==t?t:new Ee(-1/0,-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){const l=e[a],c=e[a+1],u=e[a+2];l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromBufferAttribute(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){const l=e.getX(a),c=e.getY(a),u=e.getZ(a);l<t&&(t=l),c<n&&(n=c),u<i&&(i=u),l>r&&(r=l),c>o&&(o=c),u>s&&(s=u)}return this.min.set(t,n,i),this.max.set(r,o,s),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Re.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ee),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ee),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),De.copy(t.boundingBox),De.applyMatrix4(e.matrixWorld),this.union(De));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ee),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Re),Re.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ze),je.subVectors(this.max,ze),ke.subVectors(e.a,ze),Oe.subVectors(e.b,ze),Ne.subVectors(e.c,ze),Fe.subVectors(Oe,ke),Ie.subVectors(Ne,Oe),Be.subVectors(ke,Ne);let t=[0,-Fe.z,Fe.y,0,-Ie.z,Ie.y,0,-Be.z,Be.y,Fe.z,0,-Fe.x,Ie.z,0,-Ie.x,Be.z,0,-Be.x,-Fe.y,Fe.x,0,-Ie.y,Ie.x,0,-Be.y,Be.x,0];return!!Ae(t,ke,Oe,Ne,je)&&(t=[1,0,0,0,1,0,0,0,1],!!Ae(t,ke,Oe,Ne,je)&&(Ue.crossVectors(Fe,Ie),t=[Ue.x,Ue.y,Ue.z],Ae(t,ke,Oe,Ne,je)))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ee),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Re.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Re).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Pe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pe)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function Ae(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){He.fromArray(e,o);const s=r.x*Math.abs(He.x)+r.y*Math.abs(He.y)+r.z*Math.abs(He.z),a=t.dot(He),l=n.dot(He),c=i.dot(He);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const Pe=[new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee,new Ee],Re=new Ee,De=new Le,ke=new Ee,Oe=new Ee,Ne=new Ee,Fe=new Ee,Ie=new Ee,Be=new Ee,ze=new Ee,je=new Ee,Ue=new Ee,He=new Ee,Ve=new Le;class We{constructor(e,t){this.center=void 0!==e?e:new Ee,this.radius=void 0!==t?t:-1}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ve.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ee),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Le),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const Ge=new Ee,qe=new Ee,Xe=new Ee,Ye=new Ee,$e=new Ee,Ze=new Ee,Je=new Ee;class Ke{constructor(e,t){this.origin=void 0!==e?e:new Ee,this.direction=void 0!==t?t:new Ee(0,0,-1)}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ee),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ge)),this}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ee),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ge.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ge.copy(this.direction).multiplyScalar(t).add(this.origin),Ge.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){qe.copy(e).add(t).multiplyScalar(.5),Xe.copy(t).sub(e).normalize(),Ye.copy(this.origin).sub(qe);const r=.5*e.distanceTo(t),o=-this.direction.dot(Xe),s=Ye.dot(this.direction),a=-Ye.dot(Xe),l=Ye.lengthSq(),c=Math.abs(1-o*o);let u,h,d,p;if(c>0)if(u=o*a-s,h=o*s-a,p=r*c,u>=0)if(h>=-p)if(h<=p){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;else h<=-p?(u=Math.max(0,-(-o*r+s)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=p?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(o*r+s)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=o>0?-r:r,u=Math.max(0,-(o*h+s)),d=-u*u+h*(h+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(Xe).multiplyScalar(h).add(qe),d}intersectSphere(e,t){Ge.subVectors(e.center,this.origin);const n=Ge.dot(this.direction),i=Ge.dot(Ge)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,i=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,i=(e.min.x-h.x)*l),c>=0?(r=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(r=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||r>i?null:((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>i?null:((s>n||n!==n)&&(n=s),(a<i||i!==i)&&(i=a),i<0?null:this.at(n>=0?n:i,t)))}intersectsBox(e){return null!==this.intersectBox(e,Ge)}intersectTriangle(e,t,n,i,r){$e.subVectors(t,e),Ze.subVectors(n,e),Je.crossVectors($e,Ze);let o,s=this.direction.dot(Je);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}Ye.subVectors(this.origin,e);const a=o*this.direction.dot(Ze.crossVectors(Ye,Ze));if(a<0)return null;const l=o*this.direction.dot($e.cross(Ye));if(l<0)return null;if(a+l>s)return null;const c=-o*Ye.dot(Je);return c<0?null:this.at(c/s,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class Qe{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,i,r,o,s,a,l,c,u,h,d,p,f,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qe).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/et.setFromMatrixColumn(e,0).length(),r=1/et.setFromMatrixColumn(e,1).length(),o=1/et.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+i*l,t[5]=e-r*l,t[9]=-s*a,t[2]=r-e*l,t[6]=i+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e+r*s,t[4]=i*s-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=n*s-i,t[6]=r+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*c,n=a*u,i=l*c,r=l*u;t[0]=e-r*s,t[4]=-o*u,t[8]=i+n*s,t[1]=n+i*s,t[5]=o*c,t[9]=r-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*c,n=o*u,i=s*c,r=s*u;t[0]=a*c,t[4]=i*l-n,t[8]=e*l+r,t[1]=a*u,t[5]=r*l+e,t[9]=n*l-i,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=r-e*u,t[8]=i*u+n,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+i,t[10]=e-r*u}else if("XZY"===e.order){const e=o*a,n=o*l,i=s*a,r=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+r,t[5]=o*c,t[9]=n*u-i,t[2]=i*u-n,t[6]=s*c,t[10]=r*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nt,e,it)}lookAt(e,t,n){const i=this.elements;return st.subVectors(e,t),0===st.lengthSq()&&(st.z=1),st.normalize(),rt.crossVectors(n,st),0===rt.lengthSq()&&(1===Math.abs(n.z)?st.x+=1e-4:st.z+=1e-4,st.normalize(),rt.crossVectors(n,st)),rt.normalize(),ot.crossVectors(st,rt),i[0]=rt.x,i[4]=ot.x,i[8]=st.x,i[1]=rt.y,i[5]=ot.y,i[9]=st.y,i[2]=rt.z,i[6]=ot.z,i[10]=st.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=i[0],w=i[4],S=i[8],M=i[12],E=i[1],T=i[5],C=i[9],L=i[13],A=i[2],P=i[6],R=i[10],D=i[14],k=i[3],O=i[7],N=i[11],F=i[15];return r[0]=o*_+s*E+a*A+l*k,r[4]=o*w+s*T+a*P+l*O,r[8]=o*S+s*C+a*R+l*N,r[12]=o*M+s*L+a*D+l*F,r[1]=c*_+u*E+h*A+d*k,r[5]=c*w+u*T+h*P+d*O,r[9]=c*S+u*C+h*R+d*N,r[13]=c*M+u*L+h*D+d*F,r[2]=p*_+f*E+m*A+g*k,r[6]=p*w+f*T+m*P+g*O,r[10]=p*S+f*C+m*R+g*N,r[14]=p*M+f*L+m*D+g*F,r[3]=v*_+y*E+b*A+x*k,r[7]=v*w+y*T+b*P+x*O,r[11]=v*S+y*C+b*R+x*N,r[15]=v*M+y*L+b*D+x*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+r*a*u-i*l*u-r*s*h+n*l*h+i*s*d-n*a*d)+e[7]*(+t*a*d-t*l*h+r*o*h-i*o*d+i*l*c-r*a*c)+e[11]*(+t*l*u-t*s*d-r*o*u+n*o*d+r*s*c-n*l*c)+e[15]*(-i*s*c-t*a*u+t*s*h+i*o*u-n*o*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],g=e[15],v=u*m*l-f*h*l+f*a*d-s*m*d-u*a*g+s*h*g,y=p*h*l-c*m*l-p*a*d+o*m*d+c*a*g-o*h*g,b=c*f*l-p*u*l+p*s*d-o*f*d-c*s*g+o*u*g,x=p*u*a-c*f*a-p*s*h+o*f*h+c*s*m-o*u*m,_=t*v+n*y+i*b+r*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=v*w,e[1]=(f*h*r-u*m*r-f*i*d+n*m*d+u*i*g-n*h*g)*w,e[2]=(s*m*r-f*a*r+f*i*l-n*m*l-s*i*g+n*a*g)*w,e[3]=(u*a*r-s*h*r-u*i*l+n*h*l+s*i*d-n*a*d)*w,e[4]=y*w,e[5]=(c*m*r-p*h*r+p*i*d-t*m*d-c*i*g+t*h*g)*w,e[6]=(p*a*r-o*m*r-p*i*l+t*m*l+o*i*g-t*a*g)*w,e[7]=(o*h*r-c*a*r+c*i*l-t*h*l-o*i*d+t*a*d)*w,e[8]=b*w,e[9]=(p*u*r-c*f*r-p*n*d+t*f*d+c*n*g-t*u*g)*w,e[10]=(o*f*r-p*s*r+p*n*l-t*f*l-o*n*g+t*s*g)*w,e[11]=(c*s*r-o*u*r-c*n*l+t*u*l+o*n*d-t*s*d)*w,e[12]=x*w,e[13]=(c*f*i-p*u*i+p*n*h-t*f*h-c*n*m+t*u*m)*w,e[14]=(p*s*i-o*f*i-p*n*a+t*f*a+o*n*m-t*s*m)*w,e[15]=(o*u*i-c*s*i+c*n*a-t*u*a-o*n*h+t*s*h)*w,this}scale(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,h=r*l,d=r*c,p=r*u,f=o*c,m=o*u,g=s*u,v=a*l,y=a*c,b=a*u,x=n.x,_=n.y,w=n.z;return i[0]=(1-(f+g))*x,i[1]=(d+b)*x,i[2]=(p-y)*x,i[3]=0,i[4]=(d-b)*_,i[5]=(1-(h+g))*_,i[6]=(m+v)*_,i[7]=0,i[8]=(p+y)*w,i[9]=(m-v)*w,i[10]=(1-(h+f))*w,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let r=et.set(i[0],i[1],i[2]).length();const o=et.set(i[4],i[5],i[6]).length(),s=et.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],tt.copy(this);const a=1/r,l=1/o,c=1/s;return tt.elements[0]*=a,tt.elements[1]*=a,tt.elements[2]*=a,tt.elements[4]*=l,tt.elements[5]*=l,tt.elements[6]*=l,tt.elements[8]*=c,tt.elements[9]*=c,tt.elements[10]*=c,t.setFromRotationMatrix(tt),n.x=r,n.y=o,n.z=s,this}makePerspective(e,t,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),h=-(o+r)/(o-r),d=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,i,r,o){const s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,h=(n+i)*l,d=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const et=new Ee,tt=new Qe,nt=new Ee(0,0,0),it=new Ee(1,1,1),rt=new Ee,ot=new Ee,st=new Ee;class at{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:at.DefaultOrder;Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){const i=fe.clamp,r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return lt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(lt,t,n)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return ct.setFromEuler(this),this.setFromQuaternion(ct,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ee(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}at.DefaultOrder="XYZ",at.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const lt=new Qe,ct=new Me;class ut{constructor(){this.mask=1}set(e){this.mask=1<<e}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}}let ht=0;const dt=new Ee,pt=new Me,ft=new Qe,mt=new Ee,gt=new Ee,vt=new Ee,yt=new Me,bt=new Ee(1,0,0),xt=new Ee(0,1,0),_t=new Ee(0,0,1),wt={type:"added"},St={type:"removed"};function Mt(){Object.defineProperty(this,"id",{value:ht++}),this.uuid=fe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mt.DefaultUp.clone();const e=new Ee,t=new at,n=new Me,i=new Ee(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Qe},normalMatrix:{value:new ge}}),this.matrix=new Qe,this.matrixWorld=new Qe,this.matrixAutoUpdate=Mt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ut,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Mt.DefaultUp=new Ee(0,1,0),Mt.DefaultMatrixAutoUpdate=!0,Mt.prototype=Object.assign(Object.create(he.prototype),{constructor:Mt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return pt.setFromAxisAngle(e,t),this.quaternion.multiply(pt),this},rotateOnWorldAxis:function(e,t){return pt.setFromAxisAngle(e,t),this.quaternion.premultiply(pt),this},rotateX:function(e){return this.rotateOnAxis(bt,e)},rotateY:function(e){return this.rotateOnAxis(xt,e)},rotateZ:function(e){return this.rotateOnAxis(_t,e)},translateOnAxis:function(e,t){return dt.copy(e).applyQuaternion(this.quaternion),this.position.add(dt.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(bt,e)},translateY:function(e){return this.translateOnAxis(xt,e)},translateZ:function(e){return this.translateOnAxis(_t,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(ft.copy(this.matrixWorld).invert())},lookAt:function(e,t,n){e.isVector3?mt.copy(e):mt.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),gt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ft.lookAt(gt,mt,this.up):ft.lookAt(mt,gt,this.up),this.quaternion.setFromRotationMatrix(ft),i&&(ft.extractRotation(i.matrixWorld),pt.setFromRotationMatrix(ft),this.quaternion.premultiply(pt.invert()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(St)),this},clear:function(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(St)}return this.children.length=0,this},attach:function(e){return this.updateWorldMatrix(!0,!1),ft.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ft.multiply(e.parent.matrixWorld)),e.applyMatrix4(ft),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ee),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Me),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gt,e,vt),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ee),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gt,yt,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ee),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function r(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const i=n[t];r(e.shapes,i)}else r(e.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,i=this.material.length;n<i;n++)t.push(r(e.materials,this.material[n]));i.material=t}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let t=0;t<this.children.length;t++)i.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];i.animations.push(r(e.animations,n))}}if(t){const t=o(e.geometries),i=o(e.materials),r=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),c=o(e.animations);t.length>0&&(n.geometries=t),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c)}return n.object=i,n;function o(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}});const Et=new Ee,Tt=new Ee,Ct=new ge;class Lt{constructor(e,t){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new Ee(1,0,0),this.constant=void 0!==t?t:0}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=Et.subVectors(n,t).cross(Tt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ee),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ee);const n=e.delta(Et),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:t.copy(n).multiplyScalar(r).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ee),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Ct.getNormalMatrix(e),i=this.coplanarPoint(Et).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const At=new Ee,Pt=new Ee,Rt=new Ee,Dt=new Ee,kt=new Ee,Ot=new Ee,Nt=new Ee,Ft=new Ee,It=new Ee,Bt=new Ee;class zt{constructor(e,t,n){this.a=void 0!==e?e:new Ee,this.b=void 0!==t?t:new Ee,this.c=void 0!==n?n:new Ee}static getNormal(e,t,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Ee),i.subVectors(n,t),At.subVectors(e,t),i.cross(At);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,n,i,r){At.subVectors(i,t),Pt.subVectors(n,t),Rt.subVectors(e,t);const o=At.dot(At),s=At.dot(Pt),a=At.dot(Rt),l=Pt.dot(Pt),c=Pt.dot(Rt),u=o*l-s*s;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Ee),0===u)return r.set(-2,-1,-1);const h=1/u,d=(l*a-s*c)*h,p=(o*c-s*a)*h;return r.set(1-d-p,p,d)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Dt),Dt.x>=0&&Dt.y>=0&&Dt.x+Dt.y<=1}static getUV(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,Dt),a.set(0,0),a.addScaledVector(r,Dt.x),a.addScaledVector(o,Dt.y),a.addScaledVector(s,Dt.z),a}static isFrontFacing(e,t,n,i){return At.subVectors(n,t),Pt.subVectors(e,t),At.cross(Pt).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return At.subVectors(this.c,this.b),Pt.subVectors(this.a,this.b),.5*At.cross(Pt).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ee),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Lt),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zt.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,i,r){return zt.getUV(e,this.a,this.b,this.c,t,n,i,r)}containsPoint(e){return zt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ee);const n=this.a,i=this.b,r=this.c;let o,s;kt.subVectors(i,n),Ot.subVectors(r,n),Ft.subVectors(e,n);const a=kt.dot(Ft),l=Ot.dot(Ft);if(a<=0&&l<=0)return t.copy(n);It.subVectors(e,i);const c=kt.dot(It),u=Ot.dot(It);if(c>=0&&u<=c)return t.copy(i);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(kt,o);Bt.subVectors(e,r);const d=kt.dot(Bt),p=Ot.dot(Bt);if(p>=0&&d<=p)return t.copy(r);const f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return s=l/(l-p),t.copy(n).addScaledVector(Ot,s);const m=c*p-d*u;if(m<=0&&u-c>=0&&d-p>=0)return Nt.subVectors(r,i),s=(u-c)/(u-c+(d-p)),t.copy(i).addScaledVector(Nt,s);const g=1/(m+f+h);return o=f*g,s=h*g,t.copy(n).addScaledVector(kt,o).addScaledVector(Ot,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ut={h:0,s:0,l:0},Ht={h:0,s:0,l:0};function Vt(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Wt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Gt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class qt{constructor(e,t,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=fe.euclideanModulo(e,1),t=fe.clamp(t,0,1),n=fe.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Vt(r,i,e+1/3),this.g=Vt(r,i,e),this.b=Vt(r,i,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const i=n[1],r=n[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const n=parseFloat(e[1])/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(n,i,r)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=jt[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Wt(e.r),this.g=Wt(e.g),this.b=Wt(e.b),this}copyLinearToSRGB(e){return this.r=Gt(e.r),this.g=Gt(e.g),this.b=Gt(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),o=Math.min(t,n,i);let s,a;const l=(o+r)/2;if(o===r)s=0,a=0;else{const e=r-o;switch(a=l<=.5?e/(r+o):e/(2-r-o),r){case t:s=(n-i)/e+(n<i?6:0);break;case n:s=(i-t)/e+2;break;case i:s=(t-n)/e+4}s/=6}return e.h=s,e.s=a,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(Ut),Ut.h+=e,Ut.s+=t,Ut.l+=n,this.setHSL(Ut.h,Ut.s,Ut.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ut),e.getHSL(Ht);const n=fe.lerp(Ut.h,Ht.h,t),i=fe.lerp(Ut.s,Ht.s,t),r=fe.lerp(Ut.l,Ht.l,t);return this.setHSL(n,i,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}qt.NAMES=jt,qt.prototype.r=1,qt.prototype.g=1,qt.prototype.b=1;class Xt{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new Ee,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new qt,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}let Yt=0;function $t(){Object.defineProperty(this,"id",{value:Yt++}),this.uuid=fe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=p,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ae,this.stencilZFail=ae,this.stencilZPass=ae,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Zt(e){$t.call(this),this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}$t.prototype=Object.assign(Object.create(he.prototype),{constructor:$t,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const i=this[t];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(e){const t=[];for(const n in e){const i=e[n];delete i.metadata,t.push(i)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=i(e.textures),r=i(e.images);t.length>0&&(n.textures=t),r.length>0&&(n.images=r)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let i=0;i!==e;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty($t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Zt.prototype=Object.create($t.prototype),Zt.prototype.constructor=Zt,Zt.prototype.isMeshBasicMaterial=!0,Zt.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Jt=new Ee,Kt=new me;function Qt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=le,this.updateRange={offset:0,count:-1},this.version=0}function en(e,t,n){Qt.call(this,new Int8Array(e),t,n)}function tn(e,t,n){Qt.call(this,new Uint8Array(e),t,n)}function nn(e,t,n){Qt.call(this,new Uint8ClampedArray(e),t,n)}function rn(e,t,n){Qt.call(this,new Int16Array(e),t,n)}function on(e,t,n){Qt.call(this,new Uint16Array(e),t,n)}function sn(e,t,n){Qt.call(this,new Int32Array(e),t,n)}function an(e,t,n){Qt.call(this,new Uint32Array(e),t,n)}function ln(e,t,n){Qt.call(this,new Uint16Array(e),t,n)}function cn(e,t,n){Qt.call(this,new Float32Array(e),t,n)}function un(e,t,n){Qt.call(this,new Float64Array(e),t,n)}function hn(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(Qt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Qt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new qt),t[n++]=r.r,t[n++]=r.g,t[n++]=r.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new me),t[n++]=r.x,t[n++]=r.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new Ee),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let r=e[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new we),t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n++]=r.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Kt.fromBufferAttribute(this,t),Kt.applyMatrix3(e),this.setXY(t,Kt.x,Kt.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Jt.fromBufferAttribute(this,t),Jt.applyMatrix3(e),this.setXYZ(t,Jt.x,Jt.y,Jt.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Jt.x=this.getX(t),Jt.y=this.getY(t),Jt.z=this.getZ(t),Jt.applyMatrix4(e),this.setXYZ(t,Jt.x,Jt.y,Jt.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Jt.x=this.getX(t),Jt.y=this.getY(t),Jt.z=this.getZ(t),Jt.applyNormalMatrix(e),this.setXYZ(t,Jt.x,Jt.y,Jt.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Jt.x=this.getX(t),Jt.y=this.getY(t),Jt.z=this.getZ(t),Jt.transformDirection(e),this.setXYZ(t,Jt.x,Jt.y,Jt.z);return this},set:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),en.prototype=Object.create(Qt.prototype),en.prototype.constructor=en,tn.prototype=Object.create(Qt.prototype),tn.prototype.constructor=tn,nn.prototype=Object.create(Qt.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Qt.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(Qt.prototype),on.prototype.constructor=on,sn.prototype=Object.create(Qt.prototype),sn.prototype.constructor=sn,an.prototype=Object.create(Qt.prototype),an.prototype.constructor=an,ln.prototype=Object.create(Qt.prototype),ln.prototype.constructor=ln,ln.prototype.isFloat16BufferAttribute=!0,cn.prototype=Object.create(Qt.prototype),cn.prototype.constructor=cn,un.prototype=Object.create(Qt.prototype),un.prototype.constructor=un;const dn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function pn(e,t){return new dn[e](t)}let fn=0;const mn=new Qe,gn=new Mt,vn=new Ee,yn=new Le,bn=new Le,xn=new Ee;function _n(){Object.defineProperty(this,"id",{value:fn++}),this.uuid=fe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}_n.prototype=Object.assign(Object.create(he.prototype),{constructor:_n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(hn(e)>65535?an:on)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},hasAttribute:function(e){return void 0!==this.attributes[e]},addGroup:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new ge).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return mn.makeRotationX(e),this.applyMatrix4(mn),this},rotateY:function(e){return mn.makeRotationY(e),this.applyMatrix4(mn),this},rotateZ:function(e){return mn.makeRotationZ(e),this.applyMatrix4(mn),this},translate:function(e,t,n){return mn.makeTranslation(e,t,n),this.applyMatrix4(mn),this},scale:function(e,t,n){return mn.makeScale(e,t,n),this.applyMatrix4(mn),this},lookAt:function(e){return gn.lookAt(e),gn.updateMatrix(),this.applyMatrix4(gn.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(vn).negate(),this.translate(vn.x,vn.y,vn.z),this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new cn(t,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Le);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ee(-1/0,-1/0,-1/0),new Ee(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const e=t[n];yn.setFromBufferAttribute(e),this.morphTargetsRelative?(xn.addVectors(this.boundingBox.min,yn.min),this.boundingBox.expandByPoint(xn),xn.addVectors(this.boundingBox.max,yn.max),this.boundingBox.expandByPoint(xn)):(this.boundingBox.expandByPoint(yn.min),this.boundingBox.expandByPoint(yn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new We);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ee,1/0);if(e){const n=this.boundingSphere.center;if(yn.setFromBufferAttribute(e),t)for(let e=0,r=t.length;e<r;e++){const n=t[e];bn.setFromBufferAttribute(n),this.morphTargetsRelative?(xn.addVectors(yn.min,bn.min),yn.expandByPoint(xn),xn.addVectors(yn.max,bn.max),yn.expandByPoint(xn)):(yn.expandByPoint(bn.min),yn.expandByPoint(bn.max))}yn.getCenter(n);let i=0;for(let t=0,r=e.count;t<r;t++)xn.fromBufferAttribute(e,t),i=Math.max(i,n.distanceToSquared(xn));if(t)for(let r=0,o=t.length;r<o;r++){const o=t[r],s=this.morphTargetsRelative;for(let t=0,r=o.count;t<r;t++)xn.fromBufferAttribute(o,t),s&&(vn.fromBufferAttribute(e,t),xn.add(vn)),i=Math.max(i,n.distanceToSquared(xn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,i=t.position.array,r=t.normal.array,o=t.uv.array,s=i.length/3;void 0===t.tangent&&this.setAttribute("tangent",new Qt(new Float32Array(4*s),4));const a=t.tangent.array,l=[],c=[];for(let E=0;E<s;E++)l[E]=new Ee,c[E]=new Ee;const u=new Ee,h=new Ee,d=new Ee,p=new me,f=new me,m=new me,g=new Ee,v=new Ee;function y(e,t,n){u.fromArray(i,3*e),h.fromArray(i,3*t),d.fromArray(i,3*n),p.fromArray(o,2*e),f.fromArray(o,2*t),m.fromArray(o,2*n),h.sub(u),d.sub(u),f.sub(p),m.sub(p);const r=1/(f.x*m.y-m.x*f.y);isFinite(r)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(r),v.copy(d).multiplyScalar(f.x).addScaledVector(h,-m.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let E=0,T=b.length;E<T;++E){const e=b[E],t=e.start;for(let i=t,r=t+e.count;i<r;i+=3)y(n[i+0],n[i+1],n[i+2])}const x=new Ee,_=new Ee,w=new Ee,S=new Ee;function M(e){w.fromArray(r,3*e),S.copy(w);const t=l[e];x.copy(t),x.sub(w.multiplyScalar(w.dot(t))).normalize(),_.crossVectors(S,t);const n=_.dot(c[e])<0?-1:1;a[4*e]=x.x,a[4*e+1]=x.y,a[4*e+2]=x.z,a[4*e+3]=n}for(let E=0,T=b.length;E<T;++E){const e=b[E],t=e.start;for(let i=t,r=t+e.count;i<r;i+=3)M(n[i+0]),M(n[i+1]),M(n[i+2])}},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Qt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const i=new Ee,r=new Ee,o=new Ee,s=new Ee,a=new Ee,l=new Ee,c=new Ee,u=new Ee;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),s.add(c),a.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,a.x,a.y,a.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)i.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(void 0===e.attributes[i])continue;const r=n[i].array,o=e.attributes[i],s=o.array,a=o.itemSize*t,l=Math.min(s.length,r.length-a);for(let e=0,t=a;e<l;e++,t++)r[t]=s[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)xn.fromBufferAttribute(e,t),xn.normalize(),e.setXYZ(t,xn.x,xn.y,xn.z)},toNonIndexed:function(){function e(e,t){const n=e.array,i=e.itemSize,r=e.normalized,o=new n.constructor(t.length*i);let s=0,a=0;for(let l=0,c=t.length;l<c;l++){s=t[l]*i;for(let e=0;e<i;e++)o[a++]=n[s++]}return new Qt(o,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new _n,n=this.index.array,i=this.attributes;for(const s in i){const r=e(i[s],n);t.setAttribute(s,r)}const r=this.morphAttributes;for(const s in r){const i=[],o=r[s];for(let t=0,r=o.length;t<r;t++){const r=e(o[t],n);i.push(r)}t.morphAttributes[s]=i}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a],i=t.toJSON(e.data);""!==t.name&&(i.name=t.name),e.data.attributes[a]=i}const i={};let r=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],o=r.toJSON(e.data);""!==r.name&&(o.name=r.name),n.push(o)}n.length>0&&(i[a]=n,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e},clone:function(){return(new _n).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const e=i[l];this.setAttribute(l,e.clone(t))}const r=e.morphAttributes;for(const l in r){const e=[],n=r[l];for(let i=0,r=n.length;i<r;i++)e.push(n[i].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const wn=new Qe,Sn=new Ke,Mn=new We,En=new Ee,Tn=new Ee,Cn=new Ee,Ln=new Ee,An=new Ee,Pn=new Ee,Rn=new Ee,Dn=new Ee,kn=new Ee,On=new me,Nn=new me,Fn=new me,In=new Ee,Bn=new Ee;function zn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zt;Mt.call(this),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}function jn(e,t,n,i,r,o,s,a,l,c,u,h){En.fromBufferAttribute(r,c),Tn.fromBufferAttribute(r,u),Cn.fromBufferAttribute(r,h);const d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){Rn.set(0,0,0),Dn.set(0,0,0),kn.set(0,0,0);for(let e=0,t=o.length;e<t;e++){const t=d[e],n=o[e];0!==t&&(Ln.fromBufferAttribute(n,c),An.fromBufferAttribute(n,u),Pn.fromBufferAttribute(n,h),s?(Rn.addScaledVector(Ln,t),Dn.addScaledVector(An,t),kn.addScaledVector(Pn,t)):(Rn.addScaledVector(Ln.sub(En),t),Dn.addScaledVector(An.sub(Tn),t),kn.addScaledVector(Pn.sub(Cn),t)))}En.add(Rn),Tn.add(Dn),Cn.add(kn)}e.isSkinnedMesh&&(e.boneTransform(c,En),e.boneTransform(u,Tn),e.boneTransform(h,Cn));const p=function(e,t,n,i,r,o,s,a){let l;if(l=1===t.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,2!==t.side,a),null===l)return null;Bn.copy(a),Bn.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Bn);return c<n.near||c>n.far?null:{distance:c,point:Bn.clone(),object:e}}(e,t,n,i,En,Tn,Cn,In);if(p){a&&(On.fromBufferAttribute(a,c),Nn.fromBufferAttribute(a,u),Fn.fromBufferAttribute(a,h),p.uv=zt.getUV(In,En,Tn,Cn,On,Nn,Fn,new me)),l&&(On.fromBufferAttribute(l,c),Nn.fromBufferAttribute(l,u),Fn.fromBufferAttribute(l,h),p.uv2=zt.getUV(In,En,Tn,Cn,On,Nn,Fn,new me));const e=new Xt(c,u,h);zt.getNormal(En,Tn,Cn,e.normal),p.face=e}return p}zn.prototype=Object.assign(Object.create(Mt.prototype),{constructor:zn,isMesh:!0,copy:function(e){return Mt.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0===i)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Mn.copy(n.boundingSphere),Mn.applyMatrix4(r),!1===e.ray.intersectsSphere(Mn))return;if(wn.copy(r).invert(),Sn.copy(e.ray).applyMatrix4(wn),null!==n.boundingBox&&!1===Sn.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const r=n.index,s=n.attributes.position,a=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==r)if(Array.isArray(i))for(let n=0,p=h.length;n<p;n++){const p=h[n],f=i[p.materialIndex];for(let n=Math.max(p.start,d.start),i=Math.min(p.start+p.count,d.start+d.count);n<i;n+=3){const i=r.getX(n),h=r.getX(n+1),d=r.getX(n+2);o=jn(this,f,e,Sn,s,a,l,c,u,i,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=p.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),h=Math.min(r.count,d.start+d.count);n<h;n+=3){const h=r.getX(n),d=r.getX(n+1),p=r.getX(n+2);o=jn(this,i,e,Sn,s,a,l,c,u,h,d,p),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}else if(void 0!==s)if(Array.isArray(i))for(let n=0,p=h.length;n<p;n++){const r=h[n],p=i[r.materialIndex];for(let n=Math.max(r.start,d.start),i=Math.min(r.start+r.count,d.start+d.count);n<i;n+=3){o=jn(this,p,e,Sn,s,a,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=r.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),r=Math.min(s.count,d.start+d.count);n<r;n+=3){o=jn(this,i,e,Sn,s,a,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class Un extends _n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,d=0;function p(e,t,n,i,r,o,p,f,m,g,v){const y=o/m,b=p/g,x=o/2,_=p/2,w=f/2,S=m+1,M=g+1;let E=0,T=0;const C=new Ee;for(let s=0;s<M;s++){const o=s*b-_;for(let a=0;a<S;a++){const h=a*y-x;C[e]=h*i,C[t]=o*r,C[n]=w,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=f>0?1:-1,c.push(C.x,C.y,C.z),u.push(a/m),u.push(1-s/g),E+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+S*s,n=h+e+S*(s+1),i=h+(e+1)+S*(s+1),r=h+(e+1)+S*s;a.push(t,n,r),a.push(n,i,r),T+=6}s.addGroup(d,T,v),d+=T,h+=E}p("z","y","x",-1,-1,n,t,e,o,r,0),p("z","y","x",1,-1,n,t,-e,o,r,1),p("x","z","y",1,1,e,n,t,i,o,2),p("x","z","y",1,-1,e,n,-t,i,o,3),p("x","y","z",1,-1,e,t,n,i,r,4),p("x","y","z",-1,-1,e,t,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new cn(l,3)),this.setAttribute("normal",new cn(c,3)),this.setAttribute("uv",new cn(u,2))}}function Hn(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Vn(e){const t={};for(let n=0;n<e.length;n++){const i=Hn(e[n]);for(const e in i)t[e]=i[e]}return t}const Wn={clone:Hn,merge:Vn};function Gn(e){$t.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function qn(){Mt.call(this),this.type="Camera",this.matrixWorldInverse=new Qe,this.projectionMatrix=new Qe,this.projectionMatrixInverse=new Qe}function Xn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;qn.call(this),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Gn.prototype=Object.create($t.prototype),Gn.prototype.constructor=Gn,Gn.prototype.isShaderMaterial=!0,Gn.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Hn(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Gn.prototype.toJSON=function(e){const t=$t.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},qn.prototype=Object.assign(Object.create(Mt.prototype),{constructor:qn,isCamera:!0,copy:function(e,t){return Mt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ee),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Mt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(e,t){Mt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),Xn.prototype=Object.assign(Object.create(qn.prototype),{constructor:Xn,isPerspectiveCamera:!0,copy:function(e,t){return qn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*fe.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*fe.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*fe.RAD2DEG*Math.atan(Math.tan(.5*fe.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(.5*fe.DEG2RAD*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/e,t-=o.offsetY*n/s,i*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Mt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const Yn=90;function $n(e,t,n){if(Mt.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const i=new Xn(Yn,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Ee(1,0,0)),this.add(i);const r=new Xn(Yn,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ee(-1,0,0)),this.add(r);const o=new Xn(Yn,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Ee(0,1,0)),this.add(o);const s=new Xn(Yn,1,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new Ee(0,-1,0)),this.add(s);const a=new Xn(Yn,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Ee(0,0,1)),this.add(a);const l=new Xn(Yn,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ee(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();const c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,r),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,a),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c}}function Zn(e,t,n,i,r,o,s,a,l,c){e=void 0!==e?e:[],t=void 0!==t?t:C,s=void 0!==s?s:q,xe.call(this,e,t,n,i,r,o,s,a,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}$n.prototype=Object.create(Mt.prototype),$n.prototype.constructor=$n,Zn.prototype=Object.create(xe.prototype),Zn.prototype.constructor=Zn,Zn.prototype.isCubeTexture=!0,Object.defineProperty(Zn.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});class Jn extends Se{constructor(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),super(e,e,t),Object.defineProperty(this,"isWebGLCubeRenderTarget",{value:!0}),t=t||{},this.texture=new Zn(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=X,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new Un(5,5,5),r=new Gn({name:"CubemapFromEquirect",uniforms:Hn(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=t;const o=new zn(i,r),s=t.minFilter;t.minFilter===z&&(t.minFilter=I);return new $n(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,i){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,i);e.setRenderTarget(r)}}function Kn(e,t,n,i,r,o,s,a,l,c,u,h){xe.call(this,null,o,s,a,l,c,i,r,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:O,this.minFilter=void 0!==c?c:O,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Kn.prototype=Object.create(xe.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isDataTexture=!0;const Qn=new We,ei=new Ee;class ti{constructor(e,t,n,i,r,o){this.planes=[void 0!==e?e:new Lt,void 0!==t?t:new Lt,void 0!==n?n:new Lt,void 0!==i?i:new Lt,void 0!==r?r:new Lt,void 0!==o?o:new Lt]}set(e,t,n,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(s-i,u-a,f-h,y-m).normalize(),t[1].setComponents(s+i,u+a,f+h,y+m).normalize(),t[2].setComponents(s+r,u+l,f+d,y+g).normalize(),t[3].setComponents(s-r,u-l,f-d,y-g).normalize(),t[4].setComponents(s-o,u-c,f-p,y-v).normalize(),t[5].setComponents(s+o,u+c,f+p,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Qn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Qn)}intersectsSprite(e){return Qn.center.set(0,0,0),Qn.radius=.7071067811865476,Qn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qn)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++){if(t[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(ei.x=i.normal.x>0?e.max.x:e.min.x,ei.y=i.normal.y>0?e.max.y:e.min.y,ei.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ei)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}function ni(){let e=null,t=!1,n=null,i=null;function r(t,o){n(t,o),i=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==n&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function ii(e,t){const n=t.isWebGL2,i=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),i.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=i.get(t);n&&(e.deleteBuffer(n.buffer),i.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){const e=i.get(t);return void((!e||e.version<t.version)&&i.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=i.get(t);void 0===o?i.set(t,function(t,i){const r=t.array,o=t.usage,s=e.createBuffer();e.bindBuffer(i,s),e.bufferData(i,r,o),t.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?t.isFloat16BufferAttribute?n?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):o.version<t.version&&(!function(t,i,r){const o=i.array,s=i.updateRange;e.bindBuffer(r,t),-1===s.count?e.bufferSubData(r,0,o):(n?e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}(o.buffer,t,r),o.version=t.version)}}}class ri extends _n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const r=e/2,o=t/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=e/s,h=t/a,d=[],p=[],f=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-r;p.push(n,-e,0),f.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),i=e+1+l*(g+1),r=e+1+l*g;d.push(t,n,r),d.push(n,i,r)}this.setIndex(d),this.setAttribute("position",new cn(p,3)),this.setAttribute("normal",new cn(f,3)),this.setAttribute("uv",new cn(m,2))}}const oi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},si={common:{diffuse:{value:new qt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ge},uv2Transform:{value:new ge},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new me(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ge}},sprite:{diffuse:{value:new qt(15658734)},opacity:{value:1},center:{value:new me(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ge}}},ai={basic:{uniforms:Vn([si.common,si.specularmap,si.envmap,si.aomap,si.lightmap,si.fog]),vertexShader:oi.meshbasic_vert,fragmentShader:oi.meshbasic_frag},lambert:{uniforms:Vn([si.common,si.specularmap,si.envmap,si.aomap,si.lightmap,si.emissivemap,si.fog,si.lights,{emissive:{value:new qt(0)}}]),vertexShader:oi.meshlambert_vert,fragmentShader:oi.meshlambert_frag},phong:{uniforms:Vn([si.common,si.specularmap,si.envmap,si.aomap,si.lightmap,si.emissivemap,si.bumpmap,si.normalmap,si.displacementmap,si.fog,si.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30}}]),vertexShader:oi.meshphong_vert,fragmentShader:oi.meshphong_frag},standard:{uniforms:Vn([si.common,si.envmap,si.aomap,si.lightmap,si.emissivemap,si.bumpmap,si.normalmap,si.displacementmap,si.roughnessmap,si.metalnessmap,si.fog,si.lights,{emissive:{value:new qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:oi.meshphysical_vert,fragmentShader:oi.meshphysical_frag},toon:{uniforms:Vn([si.common,si.aomap,si.lightmap,si.emissivemap,si.bumpmap,si.normalmap,si.displacementmap,si.gradientmap,si.fog,si.lights,{emissive:{value:new qt(0)}}]),vertexShader:oi.meshtoon_vert,fragmentShader:oi.meshtoon_frag},matcap:{uniforms:Vn([si.common,si.bumpmap,si.normalmap,si.displacementmap,si.fog,{matcap:{value:null}}]),vertexShader:oi.meshmatcap_vert,fragmentShader:oi.meshmatcap_frag},points:{uniforms:Vn([si.points,si.fog]),vertexShader:oi.points_vert,fragmentShader:oi.points_frag},dashed:{uniforms:Vn([si.common,si.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:oi.linedashed_vert,fragmentShader:oi.linedashed_frag},depth:{uniforms:Vn([si.common,si.displacementmap]),vertexShader:oi.depth_vert,fragmentShader:oi.depth_frag},normal:{uniforms:Vn([si.common,si.bumpmap,si.normalmap,si.displacementmap,{opacity:{value:1}}]),vertexShader:oi.normal_vert,fragmentShader:oi.normal_frag},sprite:{uniforms:Vn([si.sprite,si.fog]),vertexShader:oi.sprite_vert,fragmentShader:oi.sprite_frag},background:{uniforms:{uvTransform:{value:new ge},t2D:{value:null}},vertexShader:oi.background_vert,fragmentShader:oi.background_frag},cube:{uniforms:Vn([si.envmap,{opacity:{value:1}}]),vertexShader:oi.cube_vert,fragmentShader:oi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:oi.equirect_vert,fragmentShader:oi.equirect_frag},distanceRGBA:{uniforms:Vn([si.common,si.displacementmap,{referencePosition:{value:new Ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:oi.distanceRGBA_vert,fragmentShader:oi.distanceRGBA_frag},shadow:{uniforms:Vn([si.lights,si.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:oi.shadow_vert,fragmentShader:oi.shadow_frag}};function li(e,t,n,i,r){const o=new qt(0);let s,a,l=0,c=null,u=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,r)}return{getClearColor:function(){return o},setClearColor:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o.set(e),l=t,d(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,d(o,l)},render:function(n,r,p,f){let m=!0===r.isScene?r.background:null;m&&m.isTexture&&(m=t.get(m));const g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?d(o,l):m&&m.isColor&&(d(m,1),f=!0),(e.autoClear||f)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||m.mapping===A)?(void 0===a&&(a=new zn(new Un(1,1,1),new Gn({name:"BackgroundCubeMaterial",uniforms:Hn(ai.cube.uniforms),vertexShader:ai.cube.vertexShader,fragmentShader:ai.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a)),m.isWebGLCubeRenderTarget&&(m=m.texture),a.material.uniforms.envMap.value=m,a.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,c===m&&u===m.version&&h===e.toneMapping||(a.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null)):m&&m.isTexture&&(void 0===s&&(s=new zn(new ri(2,2),new Gn({name:"BackgroundMaterial",uniforms:Hn(ai.background.uniforms),vertexShader:ai.background.vertexShader,fragmentShader:ai.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&u===m.version&&h===e.toneMapping||(s.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}}}function ci(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},l=d(null);let c=l;function u(t){return i.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return i.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function d(e){const t=[],n=[],i=[];for(let o=0;o<r;o++)t[o]=0,n[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:i,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function f(e){m(e,0)}function m(n,r){const o=c.newAttributes,s=c.enabledAttributes,a=c.attributeDivisors;if(o[n]=1,0===s[n]&&(e.enableVertexAttribArray(n),s[n]=1),a[n]!==r){(i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),a[n]=r}}function g(){const t=c.newAttributes,n=c.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==t[i]&&(e.disableVertexAttribArray(i),n[i]=0)}function v(t,n,r,o,s,a){!0!==i.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,n,r,o,s,a):e.vertexAttribIPointer(t,n,r,s,a)}function y(){b(),c!==l&&(c=l,u(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,y,b){let x=!1;if(s){const t=function(t,n,r){const s=!0===r.wireframe;let l=a[t.id];void 0===l&&(l={},a[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[s];void 0===u&&(u=d(i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[s]=u);return u}(y,h,l);c!==t&&(c=t,u(c.object)),x=function(e,t){const n=c.attributes,i=e.attributes;let r=0;for(const o in i){const e=n[o],t=i[o];if(void 0===e)return!0;if(e.attribute!==t)return!0;if(e.data!==t.data)return!0;r++}return c.attributesNum!==r||c.index!==t}(y,b),x&&function(e,t){const n={},i=e.attributes;let r=0;for(const o in i){const e=i[o],t={};t.attribute=e,e.data&&(t.data=e.data),n[o]=t,r++}c.attributes=n,c.attributesNum=r,c.index=t}(y,b)}else{const e=!0===l.wireframe;c.geometry===y.id&&c.program===h.id&&c.wireframe===e||(c.geometry=y.id,c.program=h.id,c.wireframe=e,x=!0)}!0===r.isInstancedMesh&&(x=!0),null!==b&&n.update(b,34963),x&&(!function(r,o,s,a){if(!1===i.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=a.attributes,c=s.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const i=c[t];if(i>=0){const o=l[t];if(void 0!==o){const t=o.normalized,r=o.itemSize,s=n.get(o);if(void 0===s)continue;const l=s.buffer,c=s.type,u=s.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,s=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(m(i,n.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=n.meshPerAttribute*n.count)):f(i),e.bindBuffer(34962,l),v(i,r,c,t,s*u,h*u)}else o.isInstancedBufferAttribute?(m(i,o.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=o.meshPerAttribute*o.count)):f(i),e.bindBuffer(34962,l),v(i,r,c,t,0,0)}else if("instanceMatrix"===t){const t=n.get(r.instanceMatrix);if(void 0===t)continue;const o=t.buffer,s=t.type;m(i+0,1),m(i+1,1),m(i+2,1),m(i+3,1),e.bindBuffer(34962,o),e.vertexAttribPointer(i+0,4,s,!1,64,0),e.vertexAttribPointer(i+1,4,s,!1,64,16),e.vertexAttribPointer(i+2,4,s,!1,64,32),e.vertexAttribPointer(i+3,4,s,!1,64,48)}else if("instanceColor"===t){const t=n.get(r.instanceColor);if(void 0===t)continue;const o=t.buffer,s=t.type;m(i,1),e.bindBuffer(34962,o),e.vertexAttribPointer(i,3,s,!1,12,0)}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(i,n);break;case 3:e.vertexAttrib3fv(i,n);break;case 4:e.vertexAttrib4fv(i,n);break;default:e.vertexAttrib1fv(i,n)}}}}g()}(r,l,h,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){y();for(const e in a){const t=a[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete a[e]}},releaseStatesOfGeometry:function(e){if(void 0===a[e.id])return;const t=a[e.id];for(const n in t){const e=t[n];for(const t in e)h(e[t].object),delete e[t];delete t[n]}delete a[e.id]},releaseStatesOfProgram:function(e){for(const t in a){const n=a[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)h(i[e].object),delete i[e];delete n[e.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:g}}function ui(e,t,n,i){const r=i.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,i){e.drawArrays(o,t,i),n.update(i,o,1)},this.renderInstances=function(i,s,a){if(0===a)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,i,s,a),n.update(s,o,a)}}function hi(e,t,n){let i;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let s=void 0!==n.precision?n.precision:"highp";const a=r(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),f=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;const n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision:r,precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function di(e){const t=this;let n=null,i=0,r=!1,o=!1;const s=new Lt,a=new ge,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(e,n,i,r){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const t=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=i;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(r,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){const s=0!==e.length||t||0!==i||r;return r=t,n=u(e,o,0),i=e.length,s},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(t,s,a){const h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!r||null===h||0===h.length||o&&!p)o?u(null):c();else{const e=o?0:i,t=4*e;let r=f.clippingState||null;l.value=r,r=u(h,s,t,a);for(let i=0;i!==t;++i)r[i]=n[i];f.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function pi(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=C:304===t&&(e.mapping=L),e}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(303===o||304===o){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const o=r.image;if(o&&o.height>0){const s=e.getRenderList(),a=e.getRenderTarget(),l=new Jn(o.height/2);return l.fromEquirectangularTexture(e,r),t.set(r,l),e.setRenderTarget(a),e.setRenderList(s),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}function fi(e){const t={};function n(n){if(void 0!==t[n])return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function mi(e,t,n,i){const r={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);a.removeEventListener("dispose",s),delete r[a.id];const l=o.get(a);l&&(t.remove(l),o.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e){const n=[],i=e.index,r=e.attributes.position;let s=0;if(null!==i){const e=i.array;s=i.version;for(let t=0,i=e.length;t<i;t+=3){const i=e[t+0],r=e[t+1],o=e[t+2];n.push(i,r,r,o,o,i)}}else{const e=r.array;s=r.version;for(let t=0,i=e.length/3-1;t<i;t+=3){const e=t+0,i=t+1,r=t+2;n.push(e,i,i,r,r,e)}}const a=new(hn(n)>65535?an:on)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",s),r[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const r in n)t.update(n[r],34962);const i=e.morphAttributes;for(const r in i){const e=i[r];for(let n=0,i=e.length;n<i;n++)t.update(e[n],34962)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return o.get(e)}}}function gi(e,t,n,i){const r=i.isWebGL2;let o,s,a;this.setMode=function(e){o=e},this.setIndex=function(e){s=e.type,a=e.bytesPerElement},this.render=function(t,i){e.drawElements(o,i,s,t*a),n.update(i,o,1)},this.renderInstances=function(i,l,c){if(0===c)return;let u,h;if(r)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,s,i*a,c),n.update(l,o,c)}}function vi(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,i){switch(t.calls++,n){case 4:t.triangles+=i*(e/3);break;case 1:t.lines+=i*(e/2);break;case 3:t.lines+=i*(e-1);break;case 2:t.lines+=i*e;break;case 0:t.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function yi(e,t){return e[0]-t[0]}function bi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function xi(e){const t={},n=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];return{update:function(r,o,s,a){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let u=t[o.id];if(void 0===u){u=[];for(let e=0;e<c;e++)u[e]=[e,0];t[o.id]=u}for(let e=0;e<c;e++){const t=u[e];t[0]=e,t[1]=l[e]}u.sort(bi);for(let e=0;e<8;e++)e<c&&u[e][1]?(i[e][0]=u[e][0],i[e][1]=u[e][1]):(i[e][0]=Number.MAX_SAFE_INTEGER,i[e][1]=0);i.sort(yi);const h=s.morphTargets&&o.morphAttributes.position,d=s.morphNormals&&o.morphAttributes.normal;let p=0;for(let e=0;e<8;e++){const t=i[e],r=t[0],s=t[1];r!==Number.MAX_SAFE_INTEGER&&s?(h&&o.getAttribute("morphTarget"+e)!==h[r]&&o.setAttribute("morphTarget"+e,h[r]),d&&o.getAttribute("morphNormal"+e)!==d[r]&&o.setAttribute("morphNormal"+e,d[r]),n[e]=s,p+=s):(h&&!0===o.hasAttribute("morphTarget"+e)&&o.deleteAttribute("morphTarget"+e),d&&!0===o.hasAttribute("morphNormal"+e)&&o.deleteAttribute("morphNormal"+e),n[e]=0)}const f=o.morphTargetsRelative?1:1-p;a.getUniforms().setValue(e,"morphTargetBaseInfluence",f),a.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function _i(e,t,n,i){let r=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const s=i.render.frame,a=e.geometry,l=t.get(e,a);return r.get(l)!==s&&(t.update(l),r.set(l,s)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}function wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;xe.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=O,this.minFilter=O,this.wrapR=D,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Si(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;xe.call(this,null),this.image={data:e,width:t,height:n,depth:i},this.magFilter=O,this.minFilter=O,this.wrapR=D,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}ai.physical={uniforms:Vn([ai.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new me(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new qt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:oi.meshphysical_vert,fragmentShader:oi.meshphysical_frag},wi.prototype=Object.create(xe.prototype),wi.prototype.constructor=wi,wi.prototype.isDataTexture2DArray=!0,Si.prototype=Object.create(xe.prototype),Si.prototype.constructor=Si,Si.prototype.isDataTexture3D=!0;const Mi=new xe,Ei=new wi,Ti=new Si,Ci=new Zn,Li=[],Ai=[],Pi=new Float32Array(16),Ri=new Float32Array(9),Di=new Float32Array(4);function ki(e,t,n){const i=e[0];if(i<=0||i>0)return e;const r=t*n;let o=Li[r];if(void 0===o&&(o=new Float32Array(r),Li[r]=o),0!==t){i.toArray(o,0);for(let i=1,r=0;i!==t;++i)r+=n,e[i].toArray(o,r)}return o}function Oi(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Ni(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function Fi(e,t){let n=Ai[t];void 0===n&&(n=new Int32Array(t),Ai[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function Ii(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Bi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Oi(n,t))return;e.uniform2fv(this.addr,t),Ni(n,t)}}function zi(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Oi(n,t))return;e.uniform3fv(this.addr,t),Ni(n,t)}}function ji(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Oi(n,t))return;e.uniform4fv(this.addr,t),Ni(n,t)}}function Ui(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Oi(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ni(n,t)}else{if(Oi(n,i))return;Di.set(i),e.uniformMatrix2fv(this.addr,!1,Di),Ni(n,i)}}function Hi(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Oi(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ni(n,t)}else{if(Oi(n,i))return;Ri.set(i),e.uniformMatrix3fv(this.addr,!1,Ri),Ni(n,i)}}function Vi(e,t){const n=this.cache,i=t.elements;if(void 0===i){if(Oi(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ni(n,t)}else{if(Oi(n,i))return;Pi.set(i),e.uniformMatrix4fv(this.addr,!1,Pi),Ni(n,i)}}function Wi(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||Mi,r)}function Gi(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||Ei,r)}function qi(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||Ti,r)}function Xi(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||Ci,r)}function Yi(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function $i(e,t){const n=this.cache;Oi(n,t)||(e.uniform2iv(this.addr,t),Ni(n,t))}function Zi(e,t){const n=this.cache;Oi(n,t)||(e.uniform3iv(this.addr,t),Ni(n,t))}function Ji(e,t){const n=this.cache;Oi(n,t)||(e.uniform4iv(this.addr,t),Ni(n,t))}function Ki(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Qi(e,t){e.uniform1fv(this.addr,t)}function er(e,t){e.uniform1iv(this.addr,t)}function tr(e,t){e.uniform2iv(this.addr,t)}function nr(e,t){e.uniform3iv(this.addr,t)}function ir(e,t){e.uniform4iv(this.addr,t)}function rr(e,t){const n=ki(t,this.size,2);e.uniform2fv(this.addr,n)}function or(e,t){const n=ki(t,this.size,3);e.uniform3fv(this.addr,n)}function sr(e,t){const n=ki(t,this.size,4);e.uniform4fv(this.addr,n)}function ar(e,t){const n=ki(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function lr(e,t){const n=ki(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function cr(e,t){const n=ki(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function ur(e,t,n){const i=t.length,r=Fi(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||Mi,r[o])}function hr(e,t,n){const i=t.length,r=Fi(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||Ci,r[o])}function dr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Ii;case 35664:return Bi;case 35665:return zi;case 35666:return ji;case 35674:return Ui;case 35675:return Hi;case 35676:return Vi;case 5124:case 35670:return Yi;case 35667:case 35671:return $i;case 35668:case 35672:return Zi;case 35669:case 35673:return Ji;case 5125:return Ki;case 35678:case 36198:case 36298:case 36306:case 35682:return Wi;case 35679:case 36299:case 36307:return qi;case 35680:case 36300:case 36308:case 36293:return Xi;case 36289:case 36303:case 36311:case 36292:return Gi}}(t.type)}function pr(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Qi;case 35664:return rr;case 35665:return or;case 35666:return sr;case 35674:return ar;case 35675:return lr;case 35676:return cr;case 5124:case 35670:return er;case 35667:case 35671:return tr;case 35668:case 35672:return nr;case 35669:case 35673:return ir;case 35678:case 36198:case 36298:case 36306:case 35682:return ur;case 35680:case 36300:case 36308:case 36293:return hr}}(t.type)}function fr(e){this.id=e,this.seq=[],this.map={}}pr.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ni(t,e)},fr.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(e,t[o.id],n)}};const mr=/(\w+)(\])?(\[|\.)?/g;function gr(e,t){e.seq.push(t),e.map[t.id]=t}function vr(e,t,n){const i=e.name,r=i.length;for(mr.lastIndex=0;;){const o=mr.exec(i),s=mr.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){gr(n,void 0===c?new dr(a,e,t):new pr(a,e,t));break}{let e=n.map[a];void 0===e&&(e=new fr(a),gr(n,e)),n=e}}}function yr(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const n=e.getActiveUniform(t,i);vr(n,e.getUniformLocation(t,n.name),this)}}function br(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}yr.prototype.setValue=function(e,t,n,i){const r=this.map[t];void 0!==r&&r.setValue(e,n,i)},yr.prototype.setOptional=function(e,t,n){const i=t[n];void 0!==i&&this.setValue(e,n,i)},yr.upload=function(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const o=t[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,i)}},yr.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const r=e[i];r.id in t&&n.push(r)}return n};let xr=0;function _r(e){switch(e){case ie:return["Linear","( value )"];case re:return["sRGB","( value )"];case se:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case oe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function wr(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&""===r)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(e){const t=e.split("\n");for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function Sr(e,t){const n=_r(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Mr(e,t){const n=_r(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Er(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Tr(e){return""!==e}function Cr(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Lr(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Ar=/^[ \t]*#include +<([\w\d./]+)>/gm;function Pr(e){return e.replace(Ar,Rr)}function Rr(e,t){const n=oi[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Pr(n)}const Dr=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,kr=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Or(e){return e.replace(kr,Fr).replace(Dr,Nr)}function Nr(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Fr(e,t,n,i)}function Fr(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Ir(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Br(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case C:case L:t="ENVMAP_TYPE_CUBE";break;case A:case P:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case L:case P:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=e.gammaFactor>0?e.gammaFactor:1,p=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Tr).join("\n")}(n),f=function(e){const t=[];for(const n in e){const i=e[n];!1!==i&&t.push("#define "+n+" "+i)}return t.join("\n")}(o),m=r.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[f].filter(Tr).join("\n"),g.length>0&&(g+="\n"),v=[p,f].filter(Tr).join("\n"),v.length>0&&(v+="\n")):(g=[Ir(n),"#define SHADER_NAME "+n.shaderName,f,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Tr).join("\n"),v=[p,Ir(n),"#define SHADER_NAME "+n.shaderName,f,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?oi.tonemapping_pars_fragment:"",0!==n.toneMapping?Er("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",oi.encodings_pars_fragment,n.map?Sr("mapTexelToLinear",n.mapEncoding):"",n.matcap?Sr("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Sr("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Sr("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Sr("lightMapTexelToLinear",n.lightMapEncoding):"",Mr("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Tr).join("\n")),s=Pr(s),s=Cr(s,n),s=Lr(s,n),a=Pr(a),a=Cr(a,n),a=Lr(a,n),s=Or(s),a=Or(a),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===ue?"":"out highp vec4 pc_fragColor;",n.glslVersion===ue?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+v+a,x=br(r,35633,y+g+s),_=br(r,35632,b);if(r.attachShader(m,x),r.attachShader(m,_),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),e.debug.checkShaderErrors){const e=r.getProgramInfoLog(m).trim(),t=r.getShaderInfoLog(x).trim(),n=r.getShaderInfoLog(_).trim();let i=!0,o=!0;if(!1===r.getProgramParameter(m,35714)){i=!1;const t=wr(r,x,"vertex"),n=wr(r,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,n)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:i,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let w,S;return r.deleteShader(x),r.deleteShader(_),this.getUniforms=function(){return void 0===w&&(w=new yr(r,m)),w},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const i=e.getActiveAttrib(t,r).name;n[i]=e.getAttribLocation(t,i)}return n}(r,m)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=xr++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=_,this}function zr(e,t,n,i,r,o){const s=[],a=i.isWebGL2,l=i.logarithmicDepthBuffer,c=i.floatVertexTextures,u=i.maxVertexUniforms,h=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){let t;return e&&e.isTexture?t=e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=ie,t}return{getParameters:function(r,s,f,g,v){const y=g.fog,b=r.isMeshStandardMaterial?g.environment:null,x=t.get(r.envMap||b),_=p[r.type],w=v.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(c)return 1024;{const e=u,n=Math.floor((e-20)/4),i=Math.min(n,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}}(v):0;let S,M;if(null!==r.precision&&(d=i.getMaxPrecision(r.precision),d!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),_){const e=ai[_];S=e.vertexShader,M=e.fragmentShader}else S=r.vertexShader,M=r.fragmentShader;const E=e.getRenderTarget();return{isWebGL2:a,shaderID:_,shaderName:r.type,vertexShader:S,fragmentShader:M,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null!==E?m(E.texture):e.outputEncoding,map:!!r.map,mapEncoding:m(r.map),matcap:!!r.matcap,matcapEncoding:m(r.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:m(x),envMapCubeUV:!!x&&(x.mapping===A||x.mapping===P),lightMap:!!r.lightMap,lightMapEncoding:m(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:m(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap||!!r.transmissionMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap)&&!!r.displacementMap,fog:!!y,useFog:r.fog,fogExp2:y&&y.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&w>0,maxBones:w,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&f.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<f.length;e++)n.push(t[f[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=ai[t];n=Wn.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let i;for(let e=0,r=s.length;e<r;e++){const t=s[e];if(t.cacheKey===n){i=t,++i.usedTimes;break}}return void 0===i&&(i=new Br(e,n,t,r),s.push(i)),i},releaseProgram:function(e){if(0===--e.usedTimes){const t=s.indexOf(e);s[t]=s[s.length-1],s.pop(),e.destroy()}},programs:s}}function jr(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,i){e.get(t)[n]=i},dispose:function(){e=new WeakMap}}}function Ur(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Hr(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Vr(e){const t=[];let n=0;const i=[],r=[],o={id:-1};function s(i,r,s,a,l,c){let u=t[n];const h=e.get(s);return void 0===u?(u={id:i.id,object:i,geometry:r,material:s,program:h.program||o,groupOrder:a,renderOrder:i.renderOrder,z:l,group:c},t[n]=u):(u.id=i.id,u.object=i,u.geometry=r,u.material=s,u.program=h.program||o,u.groupOrder=a,u.renderOrder=i.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(e,t,n,o,a,l){const c=s(e,t,n,o,a,l);(!0===n.transparent?r:i).push(c)},unshift:function(e,t,n,o,a,l){const c=s(e,t,n,o,a,l);(!0===n.transparent?r:i).unshift(c)},finish:function(){for(let e=n,i=t.length;e<i;e++){const n=t[e];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(e,t){i.length>1&&i.sort(e||Ur),r.length>1&&r.sort(t||Hr)}}}function Wr(e){let t=new WeakMap;return{get:function(n,i){const r=t.get(n);let o;return void 0===r?(o=new Vr(e),t.set(n,new WeakMap),t.get(n).set(i,o)):(o=r.get(i),void 0===o&&(o=new Vr(e),r.set(i,o))),o},dispose:function(){t=new WeakMap}}}function Gr(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Ee,color:new qt};break;case"SpotLight":n={position:new Ee,direction:new Ee,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ee,color:new qt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ee,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":n={color:new qt,position:new Ee,halfWidth:new Ee,halfHeight:new Ee}}return e[t.id]=n,n}}}let qr=0;function Xr(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Yr(e,t){const n=new Gr,i=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new me,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)r.probe.push(new Ee);const o=new Ee,s=new Qe,a=new Qe;return{setup:function(o){let s=0,a=0,l=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let c=0,u=0,h=0,d=0,p=0,f=0,m=0,g=0;o.sort(Xr);for(let e=0,t=o.length;e<t;e++){const t=o[e],v=t.color,y=t.intensity,b=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=v.r*y,a+=v.g*y,l+=v.b*y;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],y);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.directionalShadow[c]=n,r.directionalShadowMap[c]=x,r.directionalShadowMatrix[c]=t.shadow.matrix,f++}r.directional[c]=e,c++}else if(t.isSpotLight){const e=n.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(v).multiplyScalar(y),e.distance=b,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,r.spotShadow[h]=n,r.spotShadowMap[h]=x,r.spotShadowMatrix[h]=t.shadow.matrix,g++}r.spot[h]=e,h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(v).multiplyScalar(y),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[d]=e,d++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=i.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,r.pointShadow[u]=n,r.pointShadowMap[u]=x,r.pointShadowMatrix[u]=t.shadow.matrix,m++}r.point[u]=e,u++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(y),e.groundColor.copy(t.groundColor).multiplyScalar(y),r.hemi[p]=e,p++}}d>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=si.LTC_FLOAT_1,r.rectAreaLTC2=si.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=si.LTC_HALF_1,r.rectAreaLTC2=si.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=s,r.ambient[1]=a,r.ambient[2]=l;const v=r.hash;v.directionalLength===c&&v.pointLength===u&&v.spotLength===h&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===f&&v.numPointShadows===m&&v.numSpotShadows===g||(r.directional.length=c,r.spot.length=h,r.rectArea.length=d,r.point.length=u,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=m,r.pointShadowMap.length=m,r.spotShadow.length=g,r.spotShadowMap.length=g,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=m,r.spotShadowMatrix.length=g,v.directionalLength=c,v.pointLength=u,v.spotLength=h,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=f,v.numPointShadows=m,v.numSpotShadows=g,r.version=qr++)},setupView:function(e,t){let n=0,i=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let d=0,p=e.length;d<p;d++){const t=e[d];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),s.copy(t.matrixWorld),s.premultiply(h),a.extractRotation(s),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[i];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),i++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),e.direction.normalize(),u++}}},state:r}}function $r(e,t){const n=new Yr(e,t),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(e){n.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){r.push(e)}}}function Zr(e,t){let n=new WeakMap;return{get:function(i){let r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new $r(e,t),n.set(i,[]),n.get(i).push(r)):o>=n.get(i).length?(r=new $r(e,t),n.get(i).push(r)):r=n.get(i)[o],r},dispose:function(){n=new WeakMap}}}function Jr(e){$t.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Kr(e){$t.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ee,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Jr.prototype=Object.create($t.prototype),Jr.prototype.constructor=Jr,Jr.prototype.isMeshDepthMaterial=!0,Jr.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Kr.prototype=Object.create($t.prototype),Kr.prototype.constructor=Kr,Kr.prototype.isMeshDistanceMaterial=!0,Kr.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Qr(e,t,n){let i=new ti;const r=new me,o=new me,s=new we,a=[],l=[],c={},u={0:1,1:0,2:2},h=new Gn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new me},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new _n;p.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new zn(p,h),m=this;function g(n,i){const r=t.update(f);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(i,null,r,h,f,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(i,null,r,d,f,null)}function v(e,t,n){const i=e|t<<1|n<<2;let r=a[i];return void 0===r&&(r=new Jr({depthPacking:3201,morphTargets:e,skinning:t}),a[i]=r),r}function y(e,t,n){const i=e|t<<1|n<<2;let r=l[i];return void 0===r&&(r=new Kr({morphTargets:e,skinning:t}),l[i]=r),r}function b(t,n,i,r,o,s,a){let l=null,h=v,d=t.customDepthMaterial;if(!0===r.isPointLight&&(h=y,d=t.customDistanceMaterial),void 0===d){let e=!1;!0===i.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let r=!1;!0===t.isSkinnedMesh&&(!0===i.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));l=h(e,r,!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const e=l.uuid,t=i.uuid;let n=c[e];void 0===n&&(n={},c[e]=n);let r=n[t];void 0===r&&(r=l.clone(),n[t]=r),l=r}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=3===a?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:u[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=o,l.farDistance=s),l}function x(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=t.update(n),r=n.material;if(Array.isArray(r)){const t=i.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=r[c.materialIndex];if(u&&u.visible){const t=b(n,i,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,c)}}}else if(r.visible){const t=b(n,i,r,s,o.near,o.far,a);e.renderBufferDirect(o,null,i,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],r,o,s,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,a,l){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,f=t.length;p<f;p++){const c=t[p],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const h=u.getFrameExtents();if(r.multiply(h),o.copy(u.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/h.x),r.x=o.x*h.x,u.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/h.y),r.y=o.y*h.y,u.mapSize.y=o.y)),null===u.map&&!u.isPointLightShadow&&3===this.type){const e={minFilter:I,magFilter:I,format:X};u.map=new Se(r.x,r.y,e),u.map.texture.name=c.name+".shadowMap",u.mapPass=new Se(r.x,r.y,e),u.camera.updateProjectionMatrix()}if(null===u.map){const e={minFilter:O,magFilter:O,format:X};u.map=new Se(r.x,r.y,e),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}e.setRenderTarget(u.map),e.clear();const f=u.getViewportCount();for(let e=0;e<f;e++){const t=u.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(s),u.updateMatrices(c,e),i=u.getFrustum(),x(a,l,u.camera,c,this.type)}u.isPointLightShadow||3!==this.type||g(u,l),u.needsUpdate=!1}m.needsUpdate=!1,e.setRenderTarget(c,u,h)}}function eo(e,t,n){const i=n.isWebGL2;const r=new function(){let t=!1;const n=new we;let i=null;const r=new we(0,0,0,0);return{setMask:function(n){i===n||t||(e.colorMask(n,n,n,n),i=n)},setLocked:function(e){t=e},setClear:function(t,i,o,s,a){!0===a&&(t*=s,i*=s,o*=s),n.set(t,i,o,s),!1===r.equals(n)&&(e.clearColor(t,i,o,s),r.copy(n))},reset:function(){t=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,i=null,r=null;return{setTest:function(e){e?X(2929):Y(2929)},setMask:function(i){n===i||t||(e.depthMask(i),n=i)},setFunc:function(t){if(i!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}else e.depthFunc(515);i=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,n=null,i=null,r=null}}},s=new function(){let t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(e){t||(e?X(2960):Y(2960))},setMask:function(i){n===i||t||(e.stencilMask(i),n=i)},setFunc:function(t,n,s){i===t&&r===n&&o===s||(e.stencilFunc(t,n,s),i=t,r=n,o=s)},setOp:function(t,n,i){s===t&&a===n&&l===i||(e.stencilOp(t,n,i),s=t,a=n,l=i)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}};let a={},l=null,c=null,u=null,h=null,d=null,C=null,L=null,A=null,P=null,R=!1,D=null,k=null,O=null,N=null,F=null;const I=e.getParameter(35661);let B=!1,z=0;const j=e.getParameter(7938);-1!==j.indexOf("WebGL")?(z=parseFloat(/^WebGL (\d)/.exec(j)[1]),B=z>=1):-1!==j.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),B=z>=2);let U=null,H={};const V=new we,W=new we;function G(t,n,i){const r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let s=0;s<i;s++)e.texImage2D(n+s,0,6408,1,1,0,6408,5121,r);return o}const q={};function X(t){!0!==a[t]&&(e.enable(t),a[t]=!0)}function Y(t){!1!==a[t]&&(e.disable(t),a[t]=!1)}q[3553]=G(3553,3553,1),q[34067]=G(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),s.setClear(0),X(2929),o.setFunc(3),K(!1),Q(1),X(2884),J(0);const $={[p]:32774,[f]:32778,[m]:32779};if(i)$[103]=32775,$[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&($[103]=e.MIN_EXT,$[104]=e.MAX_EXT)}const Z={[g]:0,[v]:1,[y]:768,[x]:770,[T]:776,[M]:774,[w]:772,[b]:769,[_]:771,[E]:775,[S]:773};function J(t,n,i,r,o,s,a,l){if(0!==t){if(c||(X(3042),c=!0),5===t)o=o||n,s=s||i,a=a||r,n===h&&o===L||(e.blendEquationSeparate($[n],$[o]),h=n,L=o),i===d&&r===C&&s===A&&a===P||(e.blendFuncSeparate(Z[i],Z[r],Z[s],Z[a]),d=i,C=r,A=s,P=a),u=t,R=null;else if(t!==u||l!==R){if(h===p&&L===p||(e.blendEquation(32774),h=p,L=p),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}d=null,C=null,A=null,P=null,u=t,R=l}}else c&&(Y(3042),c=!1)}function K(t){D!==t&&(t?e.frontFace(2304):e.frontFace(2305),D=t)}function Q(t){0!==t?(X(2884),t!==k&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):Y(2884),k=t}function ee(t,n,i){t?(X(32823),N===n&&F===i||(e.polygonOffset(n,i),N=n,F=i)):Y(32823)}function te(t){void 0===t&&(t=33984+I-1),U!==t&&(e.activeTexture(t),U=t)}return{buffers:{color:r,depth:o,stencil:s},enable:X,disable:Y,useProgram:function(t){return l!==t&&(e.useProgram(t),l=t,!0)},setBlending:J,setMaterial:function(e,t){2===e.side?Y(2884):X(2884);let n=1===e.side;t&&(n=!n),K(n),1===e.blending&&!1===e.transparent?J(0):J(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),r.setMask(e.colorWrite);const i=e.stencilWrite;s.setTest(i),i&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),ee(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:K,setCullFace:Q,setLineWidth:function(t){t!==O&&(B&&e.lineWidth(t),O=t)},setPolygonOffset:ee,setScissorTest:function(e){e?X(3089):Y(3089)},activeTexture:te,bindTexture:function(t,n){null===U&&te();let i=H[U];void 0===i&&(i={type:void 0,texture:void 0},H[U]=i),i.type===t&&i.texture===n||(e.bindTexture(t,n||q[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=H[U];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===V.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),V.copy(t))},viewport:function(t){!1===W.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),W.copy(t))},reset:function(){a={},U=null,H={},l=null,c=null,u=null,h=null,d=null,C=null,L=null,A=null,P=null,R=!1,D=null,k=null,O=null,N=null,F=null,r.reset(),o.reset(),s.reset()}}}function to(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ne){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,i){let r=1;if((e.width>i||e.height>i)&&(r=i/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const i=t?fe.floorPowerOfTwo:Math.floor,o=i(r*e.width),s=i(r*e.height);void 0===p&&(p=m(o,s));const a=n?m(o,s):p;a.width=o,a.height=s;return a.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),a}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return fe.isPowerOfTwo(e.width)&&fe.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&e.minFilter!==O&&e.minFilter!==I}function b(t,n,r,o){e.generateMipmap(t);i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function x(n,i,r){if(!1===a)return i;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=i;return 6403===i&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===i&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===i&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function _(e){return e===O||e===N||e===F?9728:9729}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=i.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),i.remove(t)}(n),n.isVideoTexture&&d.delete(n),s.memory.textures--}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=i.get(t),r=i.get(t.texture);if(!t)return;void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);i.remove(t.texture),i.remove(t)}(n),s.memory.textures--}let M=0;function E(e,t){const r=i.get(e);if(e.isVideoTexture&&function(e){const t=s.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}(e),e.version>0&&r.__version!==e.version){const n=e.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void j(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,r.__webglTexture)}function T(t,r){const s=i.get(t);t.version>0&&s.__version!==t.version?function(t,i,r){if(6!==i.image.length)return;P(t,i),n.activeTexture(33984+r),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);const s=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),l=i.image[0]&&i.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=s||l?l?i.image[e].image:i.image[e]:g(i.image[e],!1,!0,c);const h=u[0],d=v(h)||a,p=o.convert(i.format),f=o.convert(i.type),m=x(i.internalFormat,p,f);let _;if(A(34067,i,d),s){for(let e=0;e<6;e++){_=u[e].mipmaps;for(let t=0;t<_.length;t++){const r=_[t];i.format!==X&&i.format!==q?null!==p?n.compressedTexImage2D(34069+e,t,m,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,t,m,r.width,r.height,0,p,f,r.data)}}t.__maxMipLevel=_.length-1}else{_=i.mipmaps;for(let e=0;e<6;e++)if(l){n.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,p,f,u[e].data);for(let t=0;t<_.length;t++){const i=_[t].image[e].image;n.texImage2D(34069+e,t+1,m,i.width,i.height,0,p,f,i.data)}}else{n.texImage2D(34069+e,0,m,p,f,u[e]);for(let t=0;t<_.length;t++){const i=_[t];n.texImage2D(34069+e,t+1,m,p,f,i.image[e])}}t.__maxMipLevel=_.length}y(i,d)&&b(34067,i,h.width,h.height);t.__version=i.version,i.onUpdate&&i.onUpdate(i)}(s,t,r):(n.activeTexture(33984+r),n.bindTexture(34067,s.__webglTexture))}const C={[R]:10497,[D]:33071,[k]:33648},L={[O]:9728,[N]:9984,[F]:9986,[I]:9729,[B]:9985,[z]:9987};function A(n,o,s){s?(e.texParameteri(n,10242,C[o.wrapS]),e.texParameteri(n,10243,C[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,C[o.wrapR]),e.texParameteri(n,10240,L[o.magFilter]),e.texParameteri(n,10241,L[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===D&&o.wrapT===D||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,_(o.magFilter)),e.texParameteri(n,10241,_(o.minFilter)),o.minFilter!==O&&o.minFilter!==I&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const l=t.get("EXT_texture_filter_anisotropic");if(l){if(o.type===V&&null===t.get("OES_texture_float_linear"))return;if(o.type===W&&null===(a||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||i.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).__currentAnisotropy=o.anisotropy)}}function P(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w),t.__webglTexture=e.createTexture(),s.memory.textures++)}function j(t,i,r){let s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),P(t,i),n.activeTexture(33984+r),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment);const l=function(e){return!a&&(e.wrapS!==D||e.wrapT!==D||e.minFilter!==O&&e.minFilter!==I)}(i)&&!1===v(i.image),c=g(i.image,l,!1,u),h=v(c)||a,d=o.convert(i.format);let p,f=o.convert(i.type),m=x(i.internalFormat,d,f);A(s,i,h);const _=i.mipmaps;if(i.isDepthTexture)m=6402,a?m=i.type===V?36012:i.type===H?33190:i.type===G?35056:33189:i.type===V&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Y&&6402===m&&i.type!==U&&i.type!==H&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=U,f=o.convert(i.type)),i.format===$&&6402===m&&(m=34041,i.type!==G&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=G,f=o.convert(i.type))),n.texImage2D(3553,0,m,c.width,c.height,0,d,f,null);else if(i.isDataTexture)if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)p=_[e],n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);i.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,d,f,c.data),t.__maxMipLevel=0;else if(i.isCompressedTexture){for(let e=0,t=_.length;e<t;e++)p=_[e],i.format!==X&&i.format!==q?null!==d?n.compressedTexImage2D(3553,e,m,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,m,p.width,p.height,0,d,f,p.data);t.__maxMipLevel=_.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,f,c.data),t.__maxMipLevel=0;else if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)p=_[e],n.texImage2D(3553,e,m,d,f,p);i.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,d,f,c),t.__maxMipLevel=0;y(i,h)&&b(s,i,c.width,c.height),t.__version=i.version,i.onUpdate&&i.onUpdate(i)}function Z(t,r,s,a){const l=o.convert(r.texture.format),c=o.convert(r.texture.type),u=x(r.texture.internalFormat,l,c);n.texImage2D(a,0,u,r.width,r.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,a,i.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function J(t,n,i){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(i){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===V?r=36012:t.type===H&&(r=33190));const i=Q(n);e.renderbufferStorageMultisample(36161,i,r,n.width,n.height)}else e.renderbufferStorage(36161,r,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(i){const t=Q(n);e.renderbufferStorageMultisample(36161,t,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=o.convert(n.texture.format),r=o.convert(n.texture.type),s=x(n.texture.internalFormat,t,r);if(i){const t=Q(n);e.renderbufferStorageMultisample(36161,t,s,n.width,n.height)}else e.renderbufferStorage(36161,s,n.width,n.height)}e.bindRenderbuffer(36161,null)}function K(t){const n=i.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),E(n.depthTexture,0);const r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Y)e.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==$)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,t)}else if(r){n.__webglDepthbuffer=[];for(let i=0;i<6;i++)e.bindFramebuffer(36160,n.__webglFramebuffer[i]),n.__webglDepthbuffer[i]=e.createRenderbuffer(),J(n.__webglDepthbuffer[i],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),J(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function Q(e){return a&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}let ee=!1,te=!1;this.allocateTextureUnit=function(){const e=M;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=E,this.setTexture2DArray=function(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?j(r,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){const r=i.get(e);e.version>0&&r.__version!==e.version?j(r,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){const r=i.get(t),l=i.get(t.texture);t.addEventListener("dispose",S),l.__webglTexture=e.createTexture(),s.memory.textures++;const c=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,h=v(t)||a;if(!a||t.texture.format!==q||t.texture.type!==V&&t.texture.type!==W||(t.texture.format=X,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){r.__webglFramebuffer=[];for(let t=0;t<6;t++)r.__webglFramebuffer[t]=e.createFramebuffer()}else if(r.__webglFramebuffer=e.createFramebuffer(),u)if(a){r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const n=o.convert(t.texture.format),i=o.convert(t.texture.type),s=x(t.texture.internalFormat,n,i),a=Q(t);e.renderbufferStorageMultisample(36161,a,s,t.width,t.height),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),J(r.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,l.__webglTexture),A(34067,t.texture,h);for(let e=0;e<6;e++)Z(r.__webglFramebuffer[e],t,36064,34069+e);y(t.texture,h)&&b(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),A(3553,t.texture,h),Z(r.__webglFramebuffer,t,36064,3553),y(t.texture,h)&&b(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&K(t)},this.updateRenderTargetMipmap=function(e){const t=e.texture;if(y(t,v(e)||a)){const r=e.isWebGLCubeRenderTarget?34067:3553,o=i.get(t).__webglTexture;n.bindTexture(r,o),b(r,t,e.width,e.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(a){const n=i.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);const r=t.width,o=t.height;let s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===ee&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),ee=!0),e=e.texture),E(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===te&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),te=!0),e=e.texture),T(e,t)}}function no(e,t,n){const i=n.isWebGL2;return{convert:function(e){let n;if(e===j)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===U)return 5123;if(1013===e)return 5124;if(e===H)return 5125;if(e===V)return 5126;if(e===W)return i?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===e)return 6406;if(e===q)return 6407;if(e===X)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===Y)return 6402;if(e===$)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(n=t.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):36492===e?(n=t.get("EXT_texture_compression_bptc"),null!==n?e:null):e===G?i?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Xn.call(this),this.cameras=e}function ro(){Mt.call(this),this.type="Group"}function oo(){this._targetRay=null,this._grip=null,this._hand=null}function so(e,t){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const l=[],c=new Map,u=new Xn;u.layers.enable(1),u.viewport=new we;const h=new Xn;h.layers.enable(2),h.viewport=new we;const d=[u,h],p=new io;p.layers.enable(1),p.layers.enable(2);let f=null,m=null;function g(e){const t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function v(){c.forEach(function(e,t){e.disconnect(t)}),c.clear(),f=null,m=null,e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){const t=i.inputSources;for(let n=0;n<l.length;n++)c.set(t[n],l[n]);for(let n=0;n<e.removed.length;n++){const t=e.removed[n],i=c.get(t);i&&(i.dispatchEvent({type:"disconnected",data:t}),c.delete(t))}for(let n=0;n<e.added.length;n++){const t=e.added[n],i=c.get(t);i&&i.dispatchEvent({type:"connected",data:t})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=l[e];return void 0===t&&(t=new oo,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=l[e];return void 0===t&&(t=new oo,l[e]=t),t.getGripSpace()},this.getHand=function(e){let t=l[e];return void 0===t&&(t=new oo,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=async function(e){if(i=e,null!==i){i.addEventListener("select",g),i.addEventListener("selectstart",g),i.addEventListener("selectend",g),i.addEventListener("squeeze",g),i.addEventListener("squeezestart",g),i.addEventListener("squeezeend",g),i.addEventListener("end",v),i.addEventListener("inputsourceschange",y);const e=t.getContextAttributes();!0!==e.xrCompatible&&await t.makeXRCompatible();const a={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:r},l=new XRWebGLLayer(i,t,a);i.updateRenderState({baseLayer:l}),o=await i.requestReferenceSpace(s),S.setContext(i),S.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const b=new Ee,x=new Ee;function _(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){p.near=h.near=u.near=e.near,p.far=h.far=u.far=e.far,f===p.near&&m===p.far||(i.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);const t=e.parent,n=p.cameras;_(p,t);for(let i=0;i<n.length;i++)_(n[i],t);e.matrixWorld.copy(p.matrixWorld),e.matrix.copy(p.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){b.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(n.matrixWorld);const i=b.distanceTo(x),r=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],d=s*u,p=s*h,f=i/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+f,v=a+f,y=d-m,_=p+(i-m),w=l*a/v*g,S=c*a/v*g;e.projectionMatrix.makePerspective(y,_,w,S,g,v)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};let w=null;const S=new ni;S.setAnimationLoop(function(t,n){if(a=n.getViewerPose(o),null!==a){const t=a.views,n=i.renderState.baseLayer;e.setFramebuffer(n.framebuffer);let r=!1;t.length!==p.cameras.length&&(p.cameras.length=0,r=!0);for(let e=0;e<t.length;e++){const i=t[e],o=n.getViewport(i),s=d[e];s.matrix.fromArray(i.transform.matrix),s.projectionMatrix.fromArray(i.projectionMatrix),s.viewport.set(o.x,o.y,o.width,o.height),0===e&&p.matrix.copy(s.matrix),!0===r&&p.cameras.push(s)}}const r=i.inputSources;for(let e=0;e<l.length;e++){const t=l[e],i=r[e];t.update(i,n,o)}w&&w(t,n)}),this.setAnimationLoop=function(e){w=e},this.dispose=function(){}}function ao(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);const i=e.get(n).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;const r=e.get(i).__maxMipLevel;void 0!==r&&(t.maxMipLevel.value=r)}let r,o;n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?r=n.map:n.specularMap?r=n.specularMap:n.displacementMap?r=n.displacementMap:n.normalMap?r=n.normalMap:n.bumpMap?r=n.bumpMap:n.roughnessMap?r=n.roughnessMap:n.metalnessMap?r=n.metalnessMap:n.alphaMap?r=n.alphaMap:n.emissiveMap?r=n.emissiveMap:n.clearcoatMap?r=n.clearcoatMap:n.clearcoatNormalMap?r=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(r=n.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias);e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,i,r,o){i.isMeshBasicMaterial?t(e,i):i.isMeshLambertMaterial?(t(e,i),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,i)):i.isMeshToonMaterial?(t(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshPhongMaterial?(t(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshStandardMaterial?(t(e,i),i.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,i):n(e,i)):i.isMeshMatcapMaterial?(t(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDepthMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isMeshDistanceMaterial?(t(e,i),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,i)):i.isMeshNormalMaterial?(t(e,i),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,i)):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,n,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*i,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,i,r,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function lo(e){const t=void 0!==(e=e||{}).canvas?e.canvas:function(){const e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,d=null;const p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=ie,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const f=this;let m=!1,g=null,v=0,y=0,b=null,x=null,_=-1,w=null;const S=new we,M=new we;let E=null,T=t.width,C=t.height,L=1,A=null,P=null;const R=new we(0,0,T,C),D=new we(0,0,T,C);let k=!1;const O=new ti;let N=!1,F=!1;const I=new Qe,B=new Ee,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function U(){return null===b?L:1}let H,G,q,Y,$,Z,J,K,Q,ee,te,ne,re,oe,se,ae,le,ce,ue,he,de,pe=n;function ge(e,n){for(let i=0;i<e.length;i++){const r=e[i],o=t.getContext(r,n);if(null!==o)return o}return null}try{const e={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",_e,!1),null===pe){const t=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&t.shift(),pe=ge(t,e),null===pe)throw ge(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===pe.getShaderPrecisionFormat&&(pe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ke){throw console.error("THREE.WebGLRenderer: "+ke.message),ke}function ve(){H=new fi(pe),G=new hi(pe,H,e),H.init(G),he=new no(pe,H,G),q=new eo(pe,H,G),q.scissor(M.copy(D).multiplyScalar(L).floor()),q.viewport(S.copy(R).multiplyScalar(L).floor()),Y=new vi(pe),$=new jr,Z=new to(pe,H,q,$,G,he,Y),J=new pi(f),K=new ii(pe,G),de=new ci(pe,H,K,G),Q=new mi(pe,K,Y,de),ee=new _i(pe,Q,K,Y),le=new xi(pe),se=new di($),te=new zr(f,J,H,G,de,se),ne=new ao($),re=new Wr($),oe=new Zr(H,G),ae=new li(f,J,q,ee,a),ce=new ui(pe,H,Y,G),ue=new gi(pe,H,Y,G),Y.programs=te.programs,f.capabilities=G,f.extensions=H,f.properties=$,f.renderLists=re,f.state=q,f.info=Y}ve();const ye=new so(f,pe);this.xr=ye;const be=new Qr(f,ee,G.maxTextureSize);function xe(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function _e(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,ve()}function Se(e){const t=e.target;t.removeEventListener("dispose",Se),function(e){Me(e),$.remove(e)}(t)}function Me(e){const t=$.get(e).program;void 0!==t&&te.releaseProgram(t)}this.shadowMap=be,this.getContext=function(){return pe},this.getContextAttributes=function(){return pe.getContextAttributes()},this.forceContextLoss=function(){const e=H.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=H.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(e){void 0!==e&&(L=e,this.setSize(T,C,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new me),e.set(T,C)},this.setSize=function(e,n,i){ye.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,C=n,t.width=Math.floor(e*L),t.height=Math.floor(n*L),!1!==i&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new me),e.set(T*L,C*L).floor()},this.setDrawingBufferSize=function(e,n,i){T=e,C=n,L=i,t.width=Math.floor(e*i),t.height=Math.floor(n*i),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new we),e.copy(S)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,n,i){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,i),q.viewport(S.copy(R).multiplyScalar(L).floor())},this.getScissor=function(e){return e.copy(D)},this.setScissor=function(e,t,n,i){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,i),q.scissor(M.copy(D).multiplyScalar(L).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(e){q.setScissorTest(k=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new qt),e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(e,t,n){let i=0;(void 0===e||e)&&(i|=16384),(void 0===t||t)&&(i|=256),(void 0===n||n)&&(i|=1024),pe.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",_e,!1),re.dispose(),oe.dispose(),$.dispose(),J.dispose(),ee.dispose(),de.dispose(),ye.dispose(),Ce.stop()},this.renderBufferImmediate=function(e,t){de.initAttributes();const n=$.get(e);e.hasPositions&&!n.position&&(n.position=pe.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=pe.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=pe.createBuffer()),e.hasColors&&!n.color&&(n.color=pe.createBuffer());const i=t.getAttributes();e.hasPositions&&(pe.bindBuffer(34962,n.position),pe.bufferData(34962,e.positionArray,35048),de.enableAttribute(i.position),pe.vertexAttribPointer(i.position,3,5126,!1,0,0)),e.hasNormals&&(pe.bindBuffer(34962,n.normal),pe.bufferData(34962,e.normalArray,35048),de.enableAttribute(i.normal),pe.vertexAttribPointer(i.normal,3,5126,!1,0,0)),e.hasUvs&&(pe.bindBuffer(34962,n.uv),pe.bufferData(34962,e.uvArray,35048),de.enableAttribute(i.uv),pe.vertexAttribPointer(i.uv,2,5126,!1,0,0)),e.hasColors&&(pe.bindBuffer(34962,n.color),pe.bufferData(34962,e.colorArray,35048),de.enableAttribute(i.color),pe.vertexAttribPointer(i.color,3,5126,!1,0,0)),de.disableUnusedAttributes(),pe.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,i,r,o){null===t&&(t=z);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=De(e,t,i,r);q.setMaterial(i,s);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,h=1;!0===i.wireframe&&(l=Q.getWireframeAttribute(n),h=2),(i.morphTargets||i.morphNormals)&&le.update(r,n,i,a),de.setup(r,i,a,n,l);let d=ce;null!==l&&(u=K.get(l),d=ue,d.setIndex(u));const p=null!==l?l.count:c.count,f=n.drawRange.start*h,m=n.drawRange.count*h,g=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(f,g),b=Math.min(p,f+m,g+v)-1,x=Math.max(0,b-y+1);if(0!==x){if(r.isMesh)!0===i.wireframe?(q.setLineWidth(i.wireframeLinewidth*U()),d.setMode(1)):d.setMode(4);else if(r.isLine){let e=i.linewidth;void 0===e&&(e=1),q.setLineWidth(e*U()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(y,x,r.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,x,e)}else d.render(y,x)}},this.compile=function(e,t){d=oe.get(e),d.init(),e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))}),d.setupLights();const n=new WeakMap;e.traverse(function(t){const i=t.material;if(i)if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];!1===n.has(o)&&(Re(o,e,t),n.set(o))}else!1===n.has(i)&&(Re(i,e,t),n.set(i))})};let Te=null;const Ce=new ni;function Le(e,t,n,i){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||O.intersectsSprite(e)){i&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);const t=ee.update(e),r=e.material;r.visible&&h.push(e,t,r,n,B.z,null)}}else if(e.isImmediateRenderObject)i&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I),h.push(e,null,e.material,n,B.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==Y.render.frame&&(e.skeleton.update(),e.skeleton.frame=Y.render.frame),!e.frustumCulled||O.intersectsObject(e))){i&&B.setFromMatrixPosition(e.matrixWorld).applyMatrix4(I);const t=ee.update(e),r=e.material;if(Array.isArray(r)){const i=t.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&h.push(e,t,a,n,B.z,s)}}else r.visible&&h.push(e,t,r,n,B.z,null)}const r=e.children;for(let o=0,s=r.length;o<s;o++)Le(r[o],t,n,i)}function Ae(e,t,n){const i=!0===t.isScene?t.overrideMaterial:null;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=null===i?o.material:i,c=o.group;if(n.isArrayCamera){const e=n.cameras;for(let n=0,i=e.length;n<i;n++){const i=e[n];s.layers.test(i.layers)&&(q.viewport(S.copy(i.viewport)),d.setupLightsView(i),Pe(s,t,i,a,l,c))}}else Pe(s,t,n,a,l,c)}}function Pe(e,t,n,i,r,o){if(e.onBeforeRender(f,t,n,i,r,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const i=De(n,t,r,e);q.setMaterial(r),de.reset(),function(e,t){e.render(function(e){f.renderBufferImmediate(e,t)})}(e,i)}else f.renderBufferDirect(n,t,i,r,e,o);e.onAfterRender(f,t,n,i,r,o)}function Re(e,t,n){!0!==t.isScene&&(t=z);const i=$.get(e),r=d.state.lights,o=d.state.shadowsArray,s=r.state.version,a=te.getParameters(e,r.state,o,t,n),l=te.getProgramCacheKey(a);let c=i.program,u=!0;if(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=J.get(e.envMap||i.environment),void 0===c)e.addEventListener("dispose",Se);else if(c.cacheKey!==l)Me(e);else if(i.lightsStateVersion!==s)u=!1;else{if(void 0!==a.shaderID)return;u=!1}u&&(a.uniforms=te.getUniforms(e),e.onBeforeCompile(a,f),c=te.acquireProgram(a,l),i.program=c,i.uniforms=a.uniforms,i.outputEncoding=a.outputEncoding);const h=i.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(i.numClippingPlanes=se.numPlanes,i.numIntersection=se.numIntersection,h.clippingPlanes=se.uniform),i.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),i.lightsStateVersion=s,i.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const p=i.program.getUniforms(),m=yr.seqWithValue(p.seq,h);i.uniformsList=m}function De(e,t,n,i){!0!==t.isScene&&(t=z),Z.resetTextureUnits();const r=t.fog,o=n.isMeshStandardMaterial?t.environment:null,s=null===b?f.outputEncoding:b.texture.encoding,a=J.get(n.envMap||o),l=$.get(n),c=d.state.lights;if(!0===N&&(!0===F||e!==w)){const t=e===w&&n.id===_;se.setState(n,e,t)}n.version===l.__version?n.fog&&l.fog!==r||l.environment!==o||l.needsLights&&l.lightsStateVersion!==c.state.version?Re(n,t,i):void 0===l.numClippingPlanes||l.numClippingPlanes===se.numPlanes&&l.numIntersection===se.numIntersection?(l.outputEncoding!==s||l.envMap!==a)&&Re(n,t,i):Re(n,t,i):(Re(n,t,i),l.__version=n.version);let u=!1,h=!1,p=!1;const m=l.program,g=m.getUniforms(),v=l.uniforms;if(q.useProgram(m.program)&&(u=!0,h=!0,p=!0),n.id!==_&&(_=n.id,h=!0),u||w!==e){if(g.setValue(pe,"projectionMatrix",e.projectionMatrix),G.logarithmicDepthBuffer&&g.setValue(pe,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,h=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=g.map.cameraPosition;void 0!==t&&t.setValue(pe,B.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(pe,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(pe,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){g.setOptional(pe,i,"bindMatrix"),g.setOptional(pe,i,"bindMatrixInverse");const e=i.skeleton;if(e){const t=e.bones;if(G.floatVertexTextures){if(null===e.boneTexture){let n=Math.sqrt(4*t.length);n=fe.ceilPowerOfTwo(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(e.boneMatrices);const r=new Kn(i,n,n,X,V);e.boneMatrices=i,e.boneTexture=r,e.boneTextureSize=n}g.setValue(pe,"boneTexture",e.boneTexture,Z),g.setValue(pe,"boneTextureSize",e.boneTextureSize)}else g.setOptional(pe,e,"boneMatrices")}}var y,x;return(h||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,g.setValue(pe,"receiveShadow",i.receiveShadow)),h&&(g.setValue(pe,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(x=p,(y=v).ambientLightColor.needsUpdate=x,y.lightProbe.needsUpdate=x,y.directionalLights.needsUpdate=x,y.directionalLightShadows.needsUpdate=x,y.pointLights.needsUpdate=x,y.pointLightShadows.needsUpdate=x,y.spotLights.needsUpdate=x,y.spotLightShadows.needsUpdate=x,y.rectAreaLights.needsUpdate=x,y.hemisphereLights.needsUpdate=x),r&&n.fog&&ne.refreshFogUniforms(v,r),ne.refreshMaterialUniforms(v,n,L,C),yr.upload(pe,l.uniformsList,v,Z)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(yr.upload(pe,l.uniformsList,v,Z),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(pe,"center",i.center),g.setValue(pe,"modelViewMatrix",i.modelViewMatrix),g.setValue(pe,"normalMatrix",i.normalMatrix),g.setValue(pe,"modelMatrix",i.matrixWorld),m}Ce.setAnimationLoop(function(e){ye.isPresenting||Te&&Te(e)}),"undefined"!==typeof window&&Ce.setContext(window),this.setAnimationLoop=function(e){Te=e,ye.setAnimationLoop(e),null===e?Ce.stop():Ce.start()},this.render=function(e,t){let n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===m)return;de.resetDefaultState(),_=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===ye.enabled&&!0===ye.isPresenting&&(t=ye.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,n||b),d=oe.get(e,p.length),d.init(),p.push(d),I.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(I),F=this.localClippingEnabled,N=se.init(this.clippingPlanes,F,t),h=re.get(e,t),h.init(),Le(e,t,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(A,P),!0===N&&se.beginShadows();const r=d.state.shadowsArray;be.render(r,e,t),d.setupLights(),d.setupLightsView(t),!0===N&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ae.render(h,e,t,i);const o=h.opaque,s=h.transparent;o.length>0&&Ae(o,e,t),s.length>0&&Ae(s,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==b&&(Z.updateRenderTargetMipmap(b),Z.updateMultisampleRenderTarget(b)),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,h=null},this.setFramebuffer=function(e){g!==e&&null===b&&pe.bindFramebuffer(36160,e),g=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderList=function(){return h},this.setRenderList=function(e){h=e},this.getRenderTarget=function(){return b},this.setRenderTarget=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,v=t,y=n,e&&void 0===$.get(e).__webglFramebuffer&&Z.setupRenderTarget(e);let i=g,r=!1;if(e){const n=$.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=n[t],r=!0):i=e.isWebGLMultisampleRenderTarget?$.get(e).__webglMultisampledFramebuffer:n,S.copy(e.viewport),M.copy(e.scissor),E=e.scissorTest}else S.copy(R).multiplyScalar(L).floor(),M.copy(D).multiplyScalar(L).floor(),E=k;if(x!==i&&(pe.bindFramebuffer(36160,i),x=i),q.viewport(S),q.scissor(M),q.setScissorTest(E),r){const i=$.get(e.texture);pe.framebufferTexture2D(36160,36064,34069+t,i.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,i,r,o,s){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=$.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){let s=!1;a!==x&&(pe.bindFramebuffer(36160,a),s=!0);try{const s=e.texture,a=s.format,l=s.type;if(a!==X&&he.convert(a)!==pe.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===W&&(H.has("EXT_color_buffer_half_float")||G.isWebGL2&&H.has("EXT_color_buffer_float"));if(l!==j&&he.convert(l)!==pe.getParameter(35738)&&(l!==V||!(G.isWebGL2||H.has("OES_texture_float")||H.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===pe.checkFramebufferStatus(36160)?t>=0&&t<=e.width-i&&n>=0&&n<=e.height-r&&pe.readPixels(t,n,i,r,he.convert(a),he.convert(l),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&pe.bindFramebuffer(36160,x)}}},this.copyFramebufferToTexture=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i),s=he.convert(t.format);Z.setTexture2D(t,0),pe.copyTexImage2D(3553,n,s,e.x,e.y,r,o,0),q.unbindTexture()},this.copyTextureToTexture=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=t.image.width,o=t.image.height,s=he.convert(n.format),a=he.convert(n.type);Z.setTexture2D(n,0),pe.pixelStorei(37440,n.flipY),pe.pixelStorei(37441,n.premultiplyAlpha),pe.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?pe.texSubImage2D(3553,i,e.x,e.y,r,o,s,a,t.image.data):t.isCompressedTexture?pe.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):pe.texSubImage2D(3553,i,e.x,e.y,s,a,t.image),0===i&&n.generateMipmaps&&pe.generateMipmap(3553),q.unbindTexture()},this.initTexture=function(e){Z.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){q.reset(),de.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function co(e){lo.call(this,e)}io.prototype=Object.assign(Object.create(Xn.prototype),{constructor:io,isArrayCamera:!0}),ro.prototype=Object.assign(Object.create(Mt.prototype),{constructor:ro,isGroup:!0}),Object.assign(oo.prototype,{constructor:oo,getHandSpace:function(){return null===this._hand&&(this._hand=new ro,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ro,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ro,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){let i=null,r=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n);if(void 0===l.joints[o.jointName]){const e=new ro;e.matrixAutoUpdate=!1,e.visible=!1,l.joints[o.jointName]=e,l.add(e)}const i=l.joints[o.jointName];null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&(i=t.getPose(e.targetRaySpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale))),null!==a&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}}),Object.assign(so.prototype,he.prototype),co.prototype=Object.assign(Object.create(lo.prototype),{constructor:co,isWebGL1Renderer:!0});class uo extends Mt{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}function ho(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=le,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=fe.generateUUID()}Object.defineProperty(ho.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ho.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=fe.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new ho(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=fe.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const po=new Ee;function fo(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===i}function mo(e){$t.call(this),this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}let go;Object.defineProperties(fo.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(fo.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)po.x=this.getX(t),po.y=this.getY(t),po.z=this.getZ(t),po.applyMatrix4(e),this.setXYZ(t,po.x,po.y,po.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Qt(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),mo.prototype=Object.create($t.prototype),mo.prototype.constructor=mo,mo.prototype.isSpriteMaterial=!0,mo.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};const vo=new Ee,yo=new Ee,bo=new Ee,xo=new me,_o=new me,wo=new Qe,So=new Ee,Mo=new Ee,Eo=new Ee,To=new me,Co=new me,Lo=new me;function Ao(e){if(Mt.call(this),this.type="Sprite",void 0===go){go=new _n;const e=new ho(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);go.setIndex([0,1,2,0,2,3]),go.setAttribute("position",new fo(e,3,0,!1)),go.setAttribute("uv",new fo(e,2,3,!1))}this.geometry=go,this.material=void 0!==e?e:new mo,this.center=new me(.5,.5)}function Po(e,t,n,i,r,o){xo.subVectors(e,n).addScalar(.5).multiply(i),void 0!==r?(_o.x=o*xo.x-r*xo.y,_o.y=r*xo.x+o*xo.y):_o.copy(xo),e.copy(t),e.x+=_o.x,e.y+=_o.y,e.applyMatrix4(wo)}Ao.prototype=Object.assign(Object.create(Mt.prototype),{constructor:Ao,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yo.setFromMatrixScale(this.matrixWorld),wo.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bo.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&yo.multiplyScalar(-bo.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Po(So.set(-.5,-.5,0),bo,o,yo,i,r),Po(Mo.set(.5,-.5,0),bo,o,yo,i,r),Po(Eo.set(.5,.5,0),bo,o,yo,i,r),To.set(0,0),Co.set(1,0),Lo.set(1,1);let s=e.ray.intersectTriangle(So,Mo,Eo,!1,vo);if(null===s&&(Po(Mo.set(-.5,.5,0),bo,o,yo,i,r),Co.set(0,1),s=e.ray.intersectTriangle(So,Eo,Mo,!1,vo),null===s))return;const a=e.ray.origin.distanceTo(vo);a<e.near||a>e.far||t.push({distance:a,point:vo.clone(),uv:zt.getUV(vo,So,Mo,Eo,To,Co,Lo,new me),face:null,object:this})},copy:function(e){return Mt.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});const Ro=new Ee,Do=new Ee;function ko(){Mt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}ko.prototype=Object.assign(Object.create(Mt.prototype),{constructor:ko,isLOD:!0,copy:function(e){Mt.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Ro.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Ro);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){Ro.setFromMatrixPosition(e.matrixWorld),Do.setFromMatrixPosition(this.matrixWorld);const n=Ro.distanceTo(Do)/e.zoom;let i,r;for(t[0].object.visible=!0,i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=Mt.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const e=n[i];t.object.levels.push({object:e.object.uuid,distance:e.distance})}return t}});const Oo=new Ee,No=new we,Fo=new we,Io=new Ee,Bo=new Qe;function zo(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),zn.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Qe,this.bindMatrixInverse=new Qe}function jo(){Mt.call(this),this.type="Bone"}zo.prototype=Object.assign(Object.create(zn.prototype),{constructor:zo,isSkinnedMesh:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new we,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){zn.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(e,t){const n=this.skeleton,i=this.geometry;No.fromBufferAttribute(i.attributes.skinIndex,e),Fo.fromBufferAttribute(i.attributes.skinWeight,e),Oo.fromBufferAttribute(i.attributes.position,e).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const e=Fo.getComponent(r);if(0!==e){const i=No.getComponent(r);Bo.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(Io.copy(Oo).applyMatrix4(Bo),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}),jo.prototype=Object.assign(Object.create(Mt.prototype),{constructor:jo,isBone:!0});const Uo=new Qe,Ho=new Qe;function Vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.uuid=fe.generateUUID(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Vo.prototype,{init:function(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Qe)}},calculateInverses:function(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Qe;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const i=e[r]?e[r].matrixWorld:Ho;Uo.multiplyMatrices(i,t[r]),Uo.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)},clone:function(){return new Vo(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const i=e.bones[n];let r=t[i];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),r=new jo),this.bones.push(r),this.boneInverses.push((new Qe).fromArray(e.boneInverses[n]))}return this.init(),this},toJSON:function(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,r=t.length;i<r;i++){const r=t[i];e.bones.push(r.uuid);const o=n[i];e.boneInverses.push(o.toArray())}return e}});const Wo=new Qe,Go=new Qe,qo=[],Xo=new zn;function Yo(e,t,n){zn.call(this,e,t),this.instanceMatrix=new Qt(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function $o(e){$t.call(this),this.type="LineBasicMaterial",this.color=new qt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Yo.prototype=Object.assign(Object.create(zn.prototype),{constructor:Yo,isInstancedMesh:!0,copy:function(e){return zn.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this},getColorAt:function(e,t){t.fromArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Xo.geometry=this.geometry,Xo.material=this.material,void 0!==Xo.material)for(let r=0;r<i;r++){this.getMatrixAt(r,Wo),Go.multiplyMatrices(n,Wo),Xo.matrixWorld=Go,Xo.raycast(e,qo);for(let e=0,n=qo.length;e<n;e++){const n=qo[e];n.instanceId=r,n.object=this,t.push(n)}qo.length=0}},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Qt(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),$o.prototype=Object.create($t.prototype),$o.prototype.constructor=$o,$o.prototype.isLineBasicMaterial=!0,$o.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Zo=new Ee,Jo=new Ee,Ko=new Qe,Qo=new Ke,es=new We;function ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $o;Mt.call(this),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}ts.prototype=Object.assign(Object.create(Mt.prototype),{constructor:ts,isLine:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,i=t.count;e<i;e++)Zo.fromBufferAttribute(t,e-1),Jo.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Zo.distanceTo(Jo);e.setAttribute("lineDistance",new cn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),es.copy(n.boundingSphere),es.applyMatrix4(i),es.radius+=r,!1===e.ray.intersectsSphere(es))return;Ko.copy(i).invert(),Qo.copy(e.ray).applyMatrix4(Ko);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new Ee,l=new Ee,c=new Ee,u=new Ee,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const i=n.index,r=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,o=n.length-1;i<o;i+=h){const o=n[i],h=n[i+1];a.fromBufferAttribute(r,o),l.fromBufferAttribute(r,h);if(Qo.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(u);d<e.near||d>e.far||t.push({distance:d,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let n=0,o=r.count-1;n<o;n+=h){a.fromBufferAttribute(r,n),l.fromBufferAttribute(r,n+1);if(Qo.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(u);i<e.near||i>e.far||t.push({distance:i,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const ns=new Ee,is=new Ee;function rs(e,t){ts.call(this,e,t),this.type="LineSegments"}function os(e,t){ts.call(this,e,t),this.type="LineLoop"}function ss(e){$t.call(this),this.type="PointsMaterial",this.color=new qt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}rs.prototype=Object.assign(Object.create(ts.prototype),{constructor:rs,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,i=t.count;e<i;e+=2)ns.fromBufferAttribute(t,e),is.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+ns.distanceTo(is);e.setAttribute("lineDistance",new cn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),os.prototype=Object.assign(Object.create(ts.prototype),{constructor:os,isLineLoop:!0}),ss.prototype=Object.create($t.prototype),ss.prototype.constructor=ss,ss.prototype.isPointsMaterial=!0,ss.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const as=new Qe,ls=new Ke,cs=new We,us=new Ee;function hs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ss;Mt.call(this),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}function ds(e,t,n,i,r,o,s){const a=ls.distanceSqToPoint(e);if(a<n){const n=new Ee;ls.closestPointToPoint(e,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}function ps(e,t,n,i,r,o,s,a,l){xe.call(this,e,t,n,i,r,o,s,a,l),this.format=void 0!==s?s:q,this.minFilter=void 0!==o?o:I,this.magFilter=void 0!==r?r:I,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}function fs(e,t,n,i,r,o,s,a,l,c,u,h){xe.call(this,null,o,s,a,l,c,i,r,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function ms(e,t,n,i,r,o,s,a,l){xe.call(this,e,t,n,i,r,o,s,a,l),this.needsUpdate=!0}function gs(e,t,n,i,r,o,s,a,l,c){if((c=void 0!==c?c:Y)!==Y&&c!==$)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Y&&(n=U),void 0===n&&c===$&&(n=G),xe.call(this,null,i,r,o,s,a,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==s?s:O,this.minFilter=void 0!==a?a:O,this.flipY=!1,this.generateMipmaps=!1}hs.prototype=Object.assign(Object.create(Mt.prototype),{constructor:hs,isPoints:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),cs.copy(n.boundingSphere),cs.applyMatrix4(i),cs.radius+=r,!1===e.ray.intersectsSphere(cs))return;as.copy(i).invert(),ls.copy(e.ray).applyMatrix4(as);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,a=n.length;r<a;r++){const a=n[r];us.fromBufferAttribute(o,a),ds(us,a,s,i,e,t,this)}}else for(let n=0,a=o.count;n<a;n++)us.fromBufferAttribute(o,n),ds(us,n,s,i,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),ps.prototype=Object.assign(Object.create(xe.prototype),{constructor:ps,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),fs.prototype=Object.create(xe.prototype),fs.prototype.constructor=fs,fs.prototype.isCompressedTexture=!0,ms.prototype=Object.create(xe.prototype),ms.prototype.constructor=ms,ms.prototype.isCanvasTexture=!0,gs.prototype=Object.create(xe.prototype),gs.prototype.constructor=gs,gs.prototype.isDepthTexture=!0;const vs=new Ee,ys=new Ee,bs=new Ee,xs=new zt;class _s extends _n{constructor(e,t){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1,!0===e.isGeometry)return void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");const n=Math.pow(10,4),i=Math.cos(fe.DEG2RAD*t),r=e.getIndex(),o=e.getAttribute("position"),s=r?r.count:o.count,a=[0,0,0],l=["a","b","c"],c=new Array(3),u={},h=[];for(let d=0;d<s;d+=3){r?(a[0]=r.getX(d),a[1]=r.getX(d+1),a[2]=r.getX(d+2)):(a[0]=d,a[1]=d+1,a[2]=d+2);const{a:e,b:t,c:s}=xs;if(e.fromBufferAttribute(o,a[0]),t.fromBufferAttribute(o,a[1]),s.fromBufferAttribute(o,a[2]),xs.getNormal(bs),c[0]=`${Math.round(e.x*n)},${Math.round(e.y*n)},${Math.round(e.z*n)}`,c[1]=`${Math.round(t.x*n)},${Math.round(t.y*n)},${Math.round(t.z*n)}`,c[2]=`${Math.round(s.x*n)},${Math.round(s.y*n)},${Math.round(s.z*n)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let n=0;n<3;n++){const e=(n+1)%3,t=c[n],r=c[e],o=xs[l[n]],s=xs[l[e]],d=`${t}_${r}`,p=`${r}_${t}`;p in u&&u[p]?(bs.dot(u[p].normal)<=i&&(h.push(o.x,o.y,o.z),h.push(s.x,s.y,s.z)),u[p]=null):d in u||(u[d]={index0:a[n],index1:a[e],normal:bs.clone()})}}for(const d in u)if(u[d]){const{index0:e,index1:t}=u[d];vs.fromBufferAttribute(o,e),ys.fromBufferAttribute(o,t),h.push(vs.x,vs.y,vs.z),h.push(ys.x,ys.y,ys.z)}this.setAttribute("position",new cn(h,3))}}const ws=function(e,t,n){n=n||2;const i=t&&t.length,r=i?t[0]*n:e.length;let o=Ss(e,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,d,p;if(i&&(o=function(e,t,n,i){const r=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=Ss(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(Os(c));for(r.sort(Ps),o=0;o<r.length;o++)Rs(r[o],n),n=Ms(n,n.next);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let t=n;t<r;t+=n)h=e[t],d=e[t+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=0!==p?1/p:0}return Es(o,s,n,a,l,p),s};function Ss(e,t,n,i,r){let o,s;if(r===function(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}(e,t,n,i)>0)for(o=t;o<n;o+=i)s=Ws(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=Ws(o,e[o],e[o+1],s);return s&&Bs(s,s.next)&&(Gs(s),s=s.next),s}function Ms(e,t){if(!e)return e;t||(t=e);let n,i=e;do{if(n=!1,i.steiner||!Bs(i,i.next)&&0!==Is(i.prev,i,i.next))i=i.next;else{if(Gs(i),i=t=i.prev,i===i.next)break;n=!0}}while(n||i!==t);return t}function Es(e,t,n,i,r,o,s){if(!e)return;!s&&o&&function(e,t,n,i){let r=e;do{null===r.z&&(r.z=ks(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1)}(r)}(e,i,r,o);let a,l,c=e;for(;e.prev!==e.next;)if(a=e.prev,l=e.next,o?Cs(e,i,r,o):Ts(e))t.push(a.i/n),t.push(e.i/n),t.push(l.i/n),Gs(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?Es(e=Ls(Ms(e),t,n),t,n,i,r,o,2):2===s&&As(e,t,n,i,r,o):Es(Ms(e),t,n,i,r,o,1);break}}function Ts(e){const t=e.prev,n=e,i=e.next;if(Is(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(Ns(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Is(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Cs(e,t,n,i){const r=e.prev,o=e,s=e.next;if(Is(r,o,s)>=0)return!1;const a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,c=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=ks(a,l,t,n,i),d=ks(c,u,t,n,i);let p=e.prevZ,f=e.nextZ;for(;p&&p.z>=h&&f&&f.z<=d;){if(p!==e.prev&&p!==e.next&&Ns(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Is(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&Ns(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Is(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&Ns(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Is(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==e.prev&&f!==e.next&&Ns(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Is(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Ls(e,t,n){let i=e;do{const r=i.prev,o=i.next.next;!Bs(r,o)&&zs(r,i,i.next,o)&&Hs(r,o)&&Hs(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),Gs(i),Gs(i.next),i=e=o),i=i.next}while(i!==e);return Ms(i)}function As(e,t,n,i,r,o){let s=e;do{let e=s.next.next;for(;e!==s.prev;){if(s.i!==e.i&&Fs(s,e)){let a=Vs(s,e);return s=Ms(s,s.next),a=Ms(a,a.next),Es(s,t,n,i,r,o),void Es(a,t,n,i,r,o)}e=e.next}s=s.next}while(s!==e)}function Ps(e,t){return e.x-t.x}function Rs(e,t){if(t=function(e,t){let n=t;const i=e.x,r=e.y;let o,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const e=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=i&&e>s){if(s=e,e===i){if(r===n.y)return n;if(r===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(i===s)return o;const a=o,l=o.x,c=o.y;let u,h=1/0;n=o;do{i>=n.x&&n.x>=l&&i!==n.x&&Ns(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)&&(u=Math.abs(r-n.y)/(i-n.x),Hs(n,e)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&Ds(o,n)))&&(o=n,h=u)),n=n.next}while(n!==a);return o}(e,t),t){const n=Vs(t,e);Ms(t,t.next),Ms(n,n.next)}}function Ds(e,t){return Is(e.prev,e,t.prev)<0&&Is(t.next,e,e.next)<0}function ks(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Os(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ns(e,t,n,i,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function Fs(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&zs(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Hs(e,t)&&Hs(t,e)&&function(e,t){let n=e,i=!1;const r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Is(e.prev,e,t.prev)||Is(e,t.prev,t))||Bs(e,t)&&Is(e.prev,e,e.next)>0&&Is(t.prev,t,t.next)>0)}function Is(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Bs(e,t){return e.x===t.x&&e.y===t.y}function zs(e,t,n,i){const r=Us(Is(e,t,n)),o=Us(Is(e,t,i)),s=Us(Is(n,i,e)),a=Us(Is(n,i,t));return r!==o&&s!==a||(!(0!==r||!js(e,n,t))||(!(0!==o||!js(e,i,t))||(!(0!==s||!js(n,e,i))||!(0!==a||!js(n,t,i)))))}function js(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Us(e){return e>0?1:e<0?-1:0}function Hs(e,t){return Is(e.prev,e,e.next)<0?Is(e,t,e.next)>=0&&Is(e,e.prev,t)>=0:Is(e,t,e.prev)<0||Is(e,e.next,t)<0}function Vs(e,t){const n=new qs(e.i,e.x,e.y),i=new qs(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ws(e,t,n,i){const r=new qs(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Gs(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function qs(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Xs={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return.5*n},isClockWise:function(e){return Xs.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];Ys(e),$s(n,e);let o=e.length;t.forEach(Ys);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,$s(n,t[a]);const s=ws(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Ys(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function $s(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Zs extends _n{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,a=e.length;s<a;s++){o(e[s])}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Js;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let g,v,y,b,x,_=!1;f&&(g=f.getSpacedPoints(a),_=!0,c=!1,v=f.computeFrenetFrames(a,!1),y=new Ee,b=new Ee,x=new Ee),c||(p=0,u=0,h=0,d=0);const w=e.extractPoints(s);let S=w.shape;const M=w.holes;if(!Xs.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];Xs.isClockWise(t)&&(M[e]=t.reverse())}}const E=Xs.triangulateShape(S,M),T=S;for(let t=0,n=M.length;t<n;t++){const e=M[t];S=S.concat(e)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const L=S.length,A=E.length;function P(e,t,n){let i,r,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+a*a,h=s*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-a/h,f=t.y+s/h,m=((n.x-c/d-p)*c-(n.y+l/d-f)*l)/(s*c-a*l);i=p+s*m-e.x,r=f+a*m-e.y;const g=i*i+r*r;if(g<=2)return new me(i,r);o=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new me(i/o,r/o)}const R=[];for(let t=0,n=T.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),R[t]=P(T[t],T[i],T[r]);const D=[];let k,O=R.concat();for(let t=0,n=M.length;t<n;t++){const e=M[t];k=[];for(let t=0,n=e.length,i=n-1,r=t+1;t<n;t++,i++,r++)i===n&&(i=0),r===n&&(r=0),k[t]=P(e[t],e[i],e[r]);D.push(k),O=O.concat(k)}for(let t=0;t<p;t++){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=T.length;t<r;t++){const e=C(T[t],R[t],i);I(e.x,e.y,-n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];k=D[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],k[t],i);I(r.x,r.y,-n)}}}const N=h+d;for(let t=0;t<L;t++){const e=c?C(S[t],O[t],N):S[t];_?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),I(x.x,x.y,x.z)):I(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<L;e++){const n=c?C(S[e],O[e],N):S[e];_?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),I(x.x,x.y,x.z)):I(n.x,n.y,l/a*t)}for(let t=p-1;t>=0;t--){const e=t/p,n=u*Math.cos(e*Math.PI/2),i=h*Math.sin(e*Math.PI/2)+d;for(let t=0,r=T.length;t<r;t++){const e=C(T[t],R[t],i);I(e.x,e.y,l+n)}for(let t=0,r=M.length;t<r;t++){const e=M[t];k=D[t];for(let t=0,r=e.length;t<r;t++){const r=C(e[t],k[t],i);_?I(r.x,r.y+g[a-1].y,g[a-1].x+n):I(r.x,r.y,l+n)}}}function F(e,t){let n=e.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=e.length-1);for(let e=0,n=a+2*p;e<n;e++){const n=L*e,o=L*(e+1);z(t+i+n,t+r+n,t+r+o,t+i+o)}}}function I(e,t,n){o.push(e),o.push(t),o.push(n)}function B(e,t,r){j(e),j(t),j(r);const o=i.length/3,s=m.generateTopUV(n,i,o-3,o-2,o-1);U(s[0]),U(s[1]),U(s[2])}function z(e,t,r,o){j(e),j(t),j(o),j(t),j(r),j(o);const s=i.length/3,a=m.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);U(a[0]),U(a[1]),U(a[3]),U(a[1]),U(a[2]),U(a[3])}function j(e){i.push(o[3*e+0]),i.push(o[3*e+1]),i.push(o[3*e+2])}function U(e){r.push(e.x),r.push(e.y)}!function(){const e=i.length/3;if(c){let e=0,t=L*e;for(let n=0;n<A;n++){const e=E[n];B(e[2]+t,e[1]+t,e[0]+t)}e=a+2*p,t=L*e;for(let n=0;n<A;n++){const e=E[n];B(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<A;e++){const t=E[e];B(t[2],t[1],t[0])}for(let e=0;e<A;e++){const t=E[e];B(t[0]+L*a,t[1]+L*a,t[2]+L*a)}}n.addGroup(e,i.length/3-e,0)}(),function(){const e=i.length/3;let t=0;F(T,t),t+=T.length;for(let n=0,i=M.length;n<i;n++){const e=M[n];F(e,t),t+=e.length}n.addGroup(e,i.length/3-e,1)}()}this.setAttribute("position",new cn(i,3)),this.setAttribute("uv",new cn(r,2)),this.computeVertexNormals()}toJSON(){const e=_n.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const t=e[i];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}const Js={generateTopUV:function(e,t,n,i,r){const o=t[3*n],s=t[3*n+1],a=t[3*i],l=t[3*i+1],c=t[3*r],u=t[3*r+1];return[new me(o,s),new me(a,l),new me(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],c=t[3*i],u=t[3*i+1],h=t[3*i+2],d=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(a-u)<.01?[new me(s,1-l),new me(c,1-h),new me(d,1-f),new me(m,1-v)]:[new me(a,1-l),new me(u,1-h),new me(p,1-f),new me(g,1-v)]}};function Ks(e,t,n){_n.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,l=new Ee,c=new Ee,u=new Ee,h=new Ee,d=new Ee;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=t+1;for(let f=0;f<=n;f++){const i=f/n;for(let n=0;n<=t;n++){const p=n/t;e(p,i,c),r.push(c.x,c.y,c.z),p-a>=0?(e(p-a,i,u),h.subVectors(c,u)):(e(p+a,i,u),h.subVectors(u,c)),i-a>=0?(e(p,i-a,u),d.subVectors(c,u)):(e(p,i+a,u),d.subVectors(u,c)),l.crossVectors(h,d).normalize(),o.push(l.x,l.y,l.z),s.push(p,i)}}for(let f=0;f<n;f++)for(let e=0;e<t;e++){const t=f*p+e,n=f*p+e+1,r=(f+1)*p+e+1,o=(f+1)*p+e;i.push(t,n,o),i.push(n,r,o)}this.setIndex(i),this.setAttribute("position",new cn(r,3)),this.setAttribute("normal",new cn(o,3)),this.setAttribute("uv",new cn(s,2))}Ks.prototype=Object.create(_n.prototype),Ks.prototype.constructor=Ks;class Qs extends _n{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){const s=i.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Xs.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Xs.isClockWise(e)&&(u[t]=e.reverse())}const h=Xs.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];i.push(e.x,e.y,0),r.push(0,0,1),o.push(e.x,e.y)}for(let t=0,i=h.length;t<i;t++){const e=h[t],i=e[0]+s,r=e[1]+s,o=e[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new cn(i,3)),this.setAttribute("normal",new cn(r,3)),this.setAttribute("uv",new cn(o,2))}toJSON(){const e=_n.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}function ea(e){$t.call(this),this.type="ShadowMaterial",this.color=new qt(0),this.transparent=!0,this.setValues(e)}function ta(e){Gn.call(this,e),this.type="RawShaderMaterial"}function na(e){$t.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function ia(e){na.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new me(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=fe.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function ra(e){$t.call(this),this.type="MeshPhongMaterial",this.color=new qt(16777215),this.specular=new qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function oa(e){$t.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function sa(e){$t.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function aa(e){$t.call(this),this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function la(e){$t.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new me(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ca(e){$o.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ea.prototype=Object.create($t.prototype),ea.prototype.constructor=ea,ea.prototype.isShadowMaterial=!0,ea.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this},ta.prototype=Object.create(Gn.prototype),ta.prototype.constructor=ta,ta.prototype.isRawShaderMaterial=!0,na.prototype=Object.create($t.prototype),na.prototype.constructor=na,na.prototype.isMeshStandardMaterial=!0,na.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},ia.prototype=Object.create(na.prototype),ia.prototype.constructor=ia,ia.prototype.isMeshPhysicalMaterial=!0,ia.prototype.copy=function(e){return na.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new qt).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},ra.prototype=Object.create($t.prototype),ra.prototype.constructor=ra,ra.prototype.isMeshPhongMaterial=!0,ra.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},oa.prototype=Object.create($t.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshToonMaterial=!0,oa.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},sa.prototype=Object.create($t.prototype),sa.prototype.constructor=sa,sa.prototype.isMeshNormalMaterial=!0,sa.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},aa.prototype=Object.create($t.prototype),aa.prototype.constructor=aa,aa.prototype.isMeshLambertMaterial=!0,aa.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},la.prototype=Object.create($t.prototype),la.prototype.constructor=la,la.prototype.isMeshMatcapMaterial=!0,la.prototype.copy=function(e){return $t.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ca.prototype=Object.create($o.prototype),ca.prototype.constructor=ca,ca.prototype.isLineDashedMaterial=!0,ca.prototype.copy=function(e){return $o.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var ua=Object.freeze({__proto__:null,ShadowMaterial:ea,SpriteMaterial:mo,RawShaderMaterial:ta,ShaderMaterial:Gn,PointsMaterial:ss,MeshPhysicalMaterial:ia,MeshStandardMaterial:na,MeshPhongMaterial:ra,MeshToonMaterial:oa,MeshNormalMaterial:sa,MeshLambertMaterial:aa,MeshDepthMaterial:Jr,MeshDistanceMaterial:Kr,MeshBasicMaterial:Zt,MeshMatcapMaterial:la,LineDashedMaterial:ca,LineBasicMaterial:$o,Material:$t});const ha={arraySlice:function(e,t,n){return ha.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(function(t,n){return e[t]-e[n]}),n},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*t;for(let n=0;n!==t;++n)r[s++]=e[i+n]}return r},flattenJSON:function(e,t,n,i){let r=1,o=e[0];for(;void 0!==o&&void 0===o[i];)o=e[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(t.push(o.time),n.push(s)),o=e[r++]}while(void 0!==o)},subclip:function(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],c=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*r;if(!(s<n||s>=i)){a.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==a.length&&(e.times=ha.convertArray(a,e.times.constructor),e.values=ha.convertArray(c,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);const r=n.tracks.length,o=t/i;for(let s=0;s<r;++s){const t=n.tracks[s],i=t.ValueTypeName;if("bool"===i||"string"===i)continue;const r=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===i});if(void 0===r)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let d;if(o<=t.times[0]){const e=a,n=l-a;d=ha.arraySlice(t.values,e,n)}else if(o>=t.times[h]){const e=h*l+a,n=e+l-a;d=ha.arraySlice(t.values,e,n)}else{const e=t.createInterpolant(),n=a,i=l-a;e.evaluate(o),d=ha.arraySlice(e.resultBuffer,n,i)}if("quaternion"===i){(new Me).fromArray(d).normalize().conjugate().toArray(d)}const p=r.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===i)Me.multiplyQuaternionsFlat(r.values,t,d,0,r.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)r.values[t+n]-=d[n]}}}return e.blendMode=2501,e}};function da(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function pa(e,t,n,i){da.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function fa(e,t,n,i){da.call(this,e,t,n,i)}function ma(e,t,n,i){da.call(this,e,t,n,i)}function ga(e,t,n,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ha.convertArray(t,this.TimeBufferType),this.values=ha.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function va(e,t,n){ga.call(this,e,t,n)}function ya(e,t,n,i){ga.call(this,e,t,n,i)}function ba(e,t,n,i){ga.call(this,e,t,n,i)}function xa(e,t,n,i){da.call(this,e,t,n,i)}function _a(e,t,n,i){ga.call(this,e,t,n,i)}function wa(e,t,n,i){ga.call(this,e,t,n,i)}function Sa(e,t,n,i){ga.call(this,e,t,n,i)}function Ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne;this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=fe.generateUUID(),this.duration<0&&this.resetDuration()}function Ea(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ba;case"vector":case"vector2":case"vector3":case"vector4":return Sa;case"color":return ya;case"quaternion":return _a;case"bool":case"boolean":return va;case"string":return wa}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];ha.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(da.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let o=n+2;;){if(void 0===i){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===o)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=r)){const s=t[1];e<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===o)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const i=n+o>>>1;e<t[i]?o=i:n=i+1}if(i=t[n],r=t[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(void 0===i)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(da.prototype,{beforeStart_:da.prototype.copySampleValue_,afterEnd_:da.prototype.copySampleValue_}),pa.prototype=Object.assign(Object.create(da.prototype),{constructor:pa,DefaultSettings_:{endingStart:Q,endingEnd:Q},intervalChanged_:function(e,t,n){const i=this.parameterPositions;let r=e-2,o=e+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case ee:r=e,s=2*t-n;break;case te:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case ee:o=e,a=2*n-t;break;case te:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(i-t),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,b=d*m-d*f;for(let x=0;x!==s;++x)r[x]=g*o[c+x]+v*o[l+x]+y*o[a+x]+b*o[u+x];return r}}),fa.prototype=Object.assign(Object.create(da.prototype),{constructor:fa,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let h=0;h!==s;++h)r[h]=o[l+h]*u+o[a+h]*c;return r}}),ma.prototype=Object.assign(Object.create(da.prototype),{constructor:ma,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(ga,{toJSON:function(e){const t=e.constructor;let n;if(void 0!==t.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ha.convertArray(e.times,Array),values:ha.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}}),Object.assign(ga.prototype,{constructor:ga,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:J,InterpolantFactoryMethodDiscrete:function(e){return new ma(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new fa(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new pa(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case Z:t=this.InterpolantFactoryMethodDiscrete;break;case J:t=this.InterpolantFactoryMethodLinear;break;case K:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Z;case this.InterpolantFactoryMethodLinear:return J;case this.InterpolantFactoryMethodSmooth:return K}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(1!==e){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const e=this.getValueSize();this.times=ha.arraySlice(n,r,o),this.values=ha.arraySlice(this.values,r*e,o*e)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const t=n[s];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,t,o),e=!1;break}o=t}if(void 0!==i&&ha.isTypedArray(i))for(let s=0,a=i.length;s!==a;++s){const t=i[s];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,t),e=!1;break}}return e},optimize:function(){const e=ha.arraySlice(this.times),t=ha.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===K,r=e.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=e[s];if(a!==e[s+1]&&(1!==s||a!==e[0]))if(i)r=!0;else{const e=s*n,i=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[i+s]||n!==t[o+s]){r=!0;break}}}if(r){if(s!==o){e[o]=e[s];const i=s*n,r=o*n;for(let e=0;e!==n;++e)t[r+e]=t[i+e]}++o}}if(r>0){e[o]=e[r];for(let e=r*n,i=o*n,s=0;s!==n;++s)t[i+s]=t[e+s];++o}return o!==e.length?(this.times=ha.arraySlice(e,0,o),this.values=ha.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=ha.arraySlice(this.times,0),t=ha.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),va.prototype=Object.assign(Object.create(ga.prototype),{constructor:va,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Z,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ya.prototype=Object.assign(Object.create(ga.prototype),{constructor:ya,ValueTypeName:"color"}),ba.prototype=Object.assign(Object.create(ga.prototype),{constructor:ba,ValueTypeName:"number"}),xa.prototype=Object.assign(Object.create(da.prototype),{constructor:xa,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)Me.slerpFlat(r,0,o,l-s,o,l,a);return r}}),_a.prototype=Object.assign(Object.create(ga.prototype),{constructor:_a,ValueTypeName:"quaternion",DefaultInterpolation:J,InterpolantFactoryMethodLinear:function(e){return new xa(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),wa.prototype=Object.assign(Object.create(ga.prototype),{constructor:wa,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Z,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Sa.prototype=Object.assign(Object.create(ga.prototype),{constructor:Sa,ValueTypeName:"vector"}),Object.assign(Ma,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(Ea(n[o]).scale(i));const r=new Ma(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(ga.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let e=[],a=[];e.push((s+r-1)%r,s,(s+1)%r),a.push(0,1,0);const l=ha.getKeyframeOrder(e);e=ha.sortedArray(e,1,l),a=ha.sortedArray(a,1,l),i||0!==e[0]||(e.push(r),a.push(a[0])),o.push(new ba(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new Ma(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(r);if(n&&n.length>1){const e=n[1];let r=i[e];r||(i[e]=r=[]),r.push(t)}}const o=[];for(const s in i)o.push(Ma.CreateFromMorphTargetSequence(s,i[s],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,i,r){if(0!==n.length){const o=[],s=[];ha.flattenJSON(n,o,s,i),0!==o.length&&r.push(new e(t,o,s))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let i=0;i<e[n].morphTargets.length;i++)t[e[n].morphTargets[i]]=-1;for(const r in t){const t=[],o=[];for(let i=0;i!==e[n].morphTargets.length;++i){const i=e[n];t.push(i.time),o.push(i.morphTarget===r?1:0)}i.push(new ba(".morphTargetInfluence["+r+"]",t,o))}a=t.length*(o||1)}else{const r=".bones["+t[c].name+"]";n(Sa,r+".position",e,"pos",i),n(_a,r+".quaternion",e,"rot",i),n(Sa,r+".scale",e,"scl",i)}}if(0===i.length)return null;return new Ma(r,a,i,s)}}),Object.assign(Ma.prototype,{resetDuration:function(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Ma(this.name,this.duration,e,this.blendMode)},toJSON:function(){return Ma.toJSON(this)}});const Ta={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ca(e,t,n){const i=this;let r,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===o&&void 0!==i.onStart&&i.onStart(e,s,a),o=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],i=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return i}return null}}const La=new Ca;function Aa(e){this.manager=void 0!==e?e:La,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Aa.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const Pa={};function Ra(e){Aa.call(this,e)}function Da(e){Aa.call(this,e)}function ka(e){Aa.call(this,e)}function Oa(e){Aa.call(this,e)}function Na(e){Aa.call(this,e)}function Fa(e){Aa.call(this,e)}function Ia(e){Aa.call(this,e)}function Ba(){this.type="Curve",this.arcLengthDivisions=200}function za(e,t,n,i,r,o,s,a){Ba.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function ja(e,t,n,i,r,o){za.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}function Ua(){let e=0,t=0,n=0,i=0;function r(r,o,s,a){e=r,t=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(e,t,n,i,o){r(t,n,o*(n-e),o*(i-t))},initNonuniformCatmullRom:function(e,t,n,i,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,c=(n-t)/s-(i-t)/(s+a)+(i-n)/a;l*=s,c*=s,r(t,n,l,c)},calc:function(r){const o=r*r;return e+t*r+n*o+i*(o*r)}}}Ra.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Ra,load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ta.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(void 0!==Pa[e])return void Pa[e].push({onLoad:t,onProgress:n,onError:i});const s=e.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(s){const n=s[1],o=!!s[2];let a=s[3];a=decodeURIComponent(a),o&&(a=atob(a));try{let i;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const e=new Uint8Array(a.length);for(let n=0;n<a.length;n++)e[n]=a.charCodeAt(n);i="blob"===o?new Blob([e.buffer],{type:n}):e.buffer;break;case"document":const t=new DOMParser;i=t.parseFromString(a,n);break;case"json":i=JSON.parse(a);break;default:i=a}setTimeout(function(){t&&t(i),r.manager.itemEnd(e)},0)}catch(l){setTimeout(function(){i&&i(l),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{Pa[e]=[],Pa[e].push({onLoad:t,onProgress:n,onError:i}),a=new XMLHttpRequest,a.open("GET",e,!0),a.addEventListener("load",function(t){const n=this.response,i=Pa[e];if(delete Pa[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ta.add(e,n);for(let e=0,t=i.length;e<t;e++){const t=i[e];t.onLoad&&t.onLoad(n)}r.manager.itemEnd(e)}else{for(let e=0,n=i.length;e<n;e++){const n=i[e];n.onError&&n.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),a.addEventListener("progress",function(t){const n=Pa[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onProgress&&i.onProgress(t)}},!1),a.addEventListener("error",function(t){const n=Pa[e];delete Pa[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),a.addEventListener("abort",function(t){const n=Pa[e];delete Pa[e];for(let e=0,i=n.length;e<i;e++){const i=n[e];i.onError&&i.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)a.setRequestHeader(e,this.requestHeader[e]);a.send(null)}return r.manager.itemStart(e),a},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Da.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Da,load:function(e,t,n,i){const r=this,o=new Ra(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=Ma.parse(e[n]);t.push(i)}return t}}),ka.prototype=Object.assign(Object.create(Aa.prototype),{constructor:ka,load:function(e,t,n,i){const r=this,o=[],s=new fs,a=new Ra(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(e[c],function(e){const n=r.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=I),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,i)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,function(e){const n=r.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=I),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,i);return s}}),Oa.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Oa,load:function(e,t,n,i){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ta.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),Ta.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}),Na.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Na,load:function(e,t,n,i){const r=new Zn,o=new Oa(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],function(e){r.images[n]=e,s++,6===s&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}}),Fa.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Fa,load:function(e,t,n,i){const r=this,o=new Kn,s=new Ra(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(e,function(e){const n=r.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:D,o.wrapT=void 0!==n.wrapT?n.wrapT:D,o.magFilter=void 0!==n.magFilter?n.magFilter:I,o.minFilter=void 0!==n.minFilter?n.minFilter:I,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=z),1===n.mipmapCount&&(o.minFilter=I),o.needsUpdate=!0,t&&t(o,n))},n,i),o}}),Ia.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Ia,load:function(e,t,n,i){const r=new xe,o=new Oa(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(n){r.image=n;const i=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=i?q:X,r.needsUpdate=!0,void 0!==t&&t(r)},n,i),r}}),Object.assign(Ba.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0;const r=n.length;let o;o=t||e*n[r-1];let s,a=0,l=r-1;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)},getTangent:function(e,t){const n=1e-4;let i=e-n,r=e+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new me:new Ee);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new Ee,i=[],r=[],o=[],s=new Ee,a=new Qe;for(let d=0;d<=e;d++){const t=d/e;i[d]=this.getTangentAt(t,new Ee),i[d].normalize()}r[0]=new Ee,o[0]=new Ee;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let d=1;d<=e;d++){if(r[d]=r[d-1].clone(),o[d]=o[d-1].clone(),s.crossVectors(i[d-1],i[d]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(fe.clamp(i[d-1].dot(i[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(s,e))}o[d].crossVectors(i[d],r[d])}if(!0===t){let t=Math.acos(fe.clamp(r[0].dot(r[e]),-1,1));t/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(t=-t);for(let n=1;n<=e;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],t*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),za.prototype=Object.create(Ba.prototype),za.prototype.constructor=za,za.prototype.isEllipseCurve=!0,za.prototype.getPoint=function(e,t){const n=t||new me,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*e-i*t+this.aX,l=n*t+i*e+this.aY}return n.set(a,l)},za.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},za.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},za.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ja.prototype=Object.create(za.prototype),ja.prototype.constructor=ja,ja.prototype.isArcCurve=!0;const Ha=new Ee,Va=new Ua,Wa=new Ua,Ga=new Ua;function qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;Ba.call(this),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}function Xa(e,t,n,i,r){const o=.5*(i-t),s=.5*(r-n),a=e*e;return(2*n-2*i+o+s)*(e*a)+(-3*n+3*i-2*o-s)*a+o*e+n}function Ya(e,t,n,i){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,i)}function $a(e,t,n,i,r){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,r)}function Za(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new me,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new me;Ba.call(this),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function Ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ee,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ee;Ba.call(this),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}function Ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me;Ba.call(this),this.type="LineCurve",this.v1=e,this.v2=t}function Qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee;Ba.call(this),this.type="LineCurve3",this.v1=e,this.v2=t}function el(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new me,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new me;Ba.call(this),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}function tl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ee,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ee;Ba.call(this),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}function nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ba.call(this),this.type="SplineCurve",this.points=e}qa.prototype=Object.create(Ba.prototype),qa.prototype.constructor=qa,qa.prototype.isCatmullRomCurve3=!0,qa.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee,n=this.points,i=n.length,r=(i-(this.closed?0:1))*e;let o,s,a=Math.floor(r),l=r-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/i)+1)*i:0===l&&a===i-1&&(a=i-2,l=1),this.closed||a>0?o=n[(a-1)%i]:(Ha.subVectors(n[0],n[1]).add(n[0]),o=Ha);const c=n[a%i],u=n[(a+1)%i];if(this.closed||a+2<i?s=n[(a+2)%i]:(Ha.subVectors(n[i-1],n[i-2]).add(n[i-1]),s=Ha),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(c),e),n=Math.pow(c.distanceToSquared(u),e),i=Math.pow(u.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),i<1e-4&&(i=n),Va.initNonuniformCatmullRom(o.x,c.x,u.x,s.x,t,n,i),Wa.initNonuniformCatmullRom(o.y,c.y,u.y,s.y,t,n,i),Ga.initNonuniformCatmullRom(o.z,c.z,u.z,s.z,t,n,i)}else"catmullrom"===this.curveType&&(Va.initCatmullRom(o.x,c.x,u.x,s.x,this.tension),Wa.initCatmullRom(o.y,c.y,u.y,s.y,this.tension),Ga.initCatmullRom(o.z,c.z,u.z,s.z,this.tension));return t.set(Va.calc(l),Wa.calc(l),Ga.calc(l)),t},qa.prototype.copy=function(e){Ba.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},qa.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},qa.prototype.fromJSON=function(e){Ba.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Ee).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},Za.prototype=Object.create(Ba.prototype),Za.prototype.constructor=Za,Za.prototype.isCubicBezierCurve=!0,Za.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set($a(e,n.x,i.x,r.x,o.x),$a(e,n.y,i.y,r.y,o.y)),t},Za.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Za.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Za.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ja.prototype=Object.create(Ba.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isCubicBezierCurve3=!0,Ja.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee,n=this.v0,i=this.v1,r=this.v2,o=this.v3;return t.set($a(e,n.x,i.x,r.x,o.x),$a(e,n.y,i.y,r.y,o.y),$a(e,n.z,i.z,r.z,o.z)),t},Ja.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ja.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ja.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ka.prototype=Object.create(Ba.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isLineCurve=!0,Ka.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Ka.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Ka.prototype.getTangent=function(e,t){const n=t||new me;return n.copy(this.v2).sub(this.v1).normalize(),n},Ka.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Ka.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Ka.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Qa.prototype=Object.create(Ba.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isLineCurve3=!0,Qa.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t},Qa.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Qa.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Qa.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Qa.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},el.prototype=Object.create(Ba.prototype),el.prototype.constructor=el,el.prototype.isQuadraticBezierCurve=!0,el.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me,n=this.v0,i=this.v1,r=this.v2;return t.set(Ya(e,n.x,i.x,r.x),Ya(e,n.y,i.y,r.y)),t},el.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},el.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},el.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},tl.prototype=Object.create(Ba.prototype),tl.prototype.constructor=tl,tl.prototype.isQuadraticBezierCurve3=!0,tl.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ee,n=this.v0,i=this.v1,r=this.v2;return t.set(Ya(e,n.x,i.x,r.x),Ya(e,n.y,i.y,r.y),Ya(e,n.z,i.z,r.z)),t},tl.prototype.copy=function(e){return Ba.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},tl.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},tl.prototype.fromJSON=function(e){return Ba.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},nl.prototype=Object.create(Ba.prototype),nl.prototype.constructor=nl,nl.prototype.isSplineCurve=!0,nl.prototype.getPoint=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new me,n=this.points,i=(n.length-1)*e,r=Math.floor(i),o=i-r,s=n[0===r?r:r-1],a=n[r],l=n[r>n.length-2?n.length-1:r+1],c=n[r>n.length-3?n.length-1:r+2];return t.set(Xa(o,s.x,a.x,l.x,c.x),Xa(o,s.y,a.y,l.y,c.y)),t},nl.prototype.copy=function(e){Ba.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this},nl.prototype.toJSON=function(){const e=Ba.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e},nl.prototype.fromJSON=function(e){Ba.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new me).fromArray(n))}return this};var il=Object.freeze({__proto__:null,ArcCurve:ja,CatmullRomCurve3:qa,CubicBezierCurve:Za,CubicBezierCurve3:Ja,EllipseCurve:za,LineCurve:Ka,LineCurve3:Qa,QuadraticBezierCurve:el,QuadraticBezierCurve3:tl,SplineCurve:nl});function rl(){Ba.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ol(e){rl.call(this),this.type="Path",this.currentPoint=new me,e&&this.setFromPoints(e)}function sl(e){ol.call(this,e),this.uuid=fe.generateUUID(),this.type="Shape",this.holes=[]}function al(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Mt.call(this),this.type="Light",this.color=new qt(e),this.intensity=t}function ll(e,t,n){al.call(this,e,n),this.type="HemisphereLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.groundColor=new qt(t)}function cl(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new me(512,512),this.map=null,this.mapPass=null,this.matrix=new Qe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ti,this._frameExtents=new me(1,1),this._viewportCount=1,this._viewports=[new we(0,0,1,1)]}function ul(){cl.call(this,new Xn(50,1,.5,500)),this.focus=1}function hl(e,t,n,i,r,o){al.call(this,e,t),this.type="SpotLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new ul}function dl(){cl.call(this,new Xn(90,1,.5,500)),this._frameExtents=new me(4,2),this._viewportCount=6,this._viewports=[new we(2,1,1,1),new we(0,1,1,1),new we(3,1,1,1),new we(1,1,1,1),new we(3,0,1,1),new we(1,0,1,1)],this._cubeDirections=[new Ee(1,0,0),new Ee(-1,0,0),new Ee(0,0,1),new Ee(0,0,-1),new Ee(0,1,0),new Ee(0,-1,0)],this._cubeUps=[new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,1,0),new Ee(0,0,1),new Ee(0,0,-1)]}function pl(e,t,n,i){al.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new dl}function fl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;qn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}function ml(){cl.call(this,new fl(-5,5,5,-5,.5,500))}function gl(e,t){al.call(this,e,t),this.type="DirectionalLight",this.position.copy(Mt.DefaultUp),this.updateMatrix(),this.target=new Mt,this.shadow=new ml}function vl(e,t){al.call(this,e,t),this.type="AmbientLight"}function yl(e,t,n,i){al.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}rl.prototype=Object.assign(Object.create(Ba.prototype),{constructor:rl,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ka(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const e=n[i]-t,r=this.curves[i],o=r.getLength(),s=0===o?0:1-e/o;return r.getPointAt(s)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const i=a[e];n&&n.equals(i)||(t.push(i),n=i)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ba.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Ba.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){Ba.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new il[n.type]).fromJSON(n))}return this}}),ol.prototype=Object.assign(Object.create(rl.prototype),{constructor:ol,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Ka(this.currentPoint.clone(),new me(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new el(this.currentPoint.clone(),new me(e,t),new me(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,o){const s=new Za(this.currentPoint.clone(),new me(e,t),new me(n,i),new me(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(e){const t=new nl([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this},absarc:function(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this},ellipse:function(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this},absellipse:function(e,t,n,i,r,o,s,a){const l=new za(e,t,n,i,r,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return rl.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=rl.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return rl.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),sl.prototype=Object.assign(Object.create(ol.prototype),{constructor:sl,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){ol.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){const e=ol.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){ol.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new ol).fromJSON(n))}return this}}),al.prototype=Object.assign(Object.create(Mt.prototype),{constructor:al,isLight:!0,copy:function(e){return Mt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=Mt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),ll.prototype=Object.assign(Object.create(al.prototype),{constructor:ll,isHemisphereLight:!0,copy:function(e){return al.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(cl.prototype,{_projScreenMatrix:new Qe,_lightPositionWorld:new Ee,_lookTarget:new Ee,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),ul.prototype=Object.assign(Object.create(cl.prototype),{constructor:ul,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=2*fe.RAD2DEG*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;n===t.fov&&i===t.aspect&&r===t.far||(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),cl.prototype.updateMatrices.call(this,e)}}),hl.prototype=Object.assign(Object.create(al.prototype),{constructor:hl,isSpotLight:!0,copy:function(e){return al.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),dl.prototype=Object.assign(Object.create(cl.prototype),{constructor:dl,isPointLightShadow:!0,updateMatrices:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),pl.prototype=Object.assign(Object.create(al.prototype),{constructor:pl,isPointLight:!0,copy:function(e){return al.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),fl.prototype=Object.assign(Object.create(qn.prototype),{constructor:fl,isOrthographicCamera:!0,copy:function(e,t){return qn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,o=r+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(e){const t=Mt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ml.prototype=Object.assign(Object.create(cl.prototype),{constructor:ml,isDirectionalLightShadow:!0,updateMatrices:function(e){cl.prototype.updateMatrices.call(this,e)}}),gl.prototype=Object.assign(Object.create(al.prototype),{constructor:gl,isDirectionalLight:!0,copy:function(e){return al.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),vl.prototype=Object.assign(Object.create(al.prototype),{constructor:vl,isAmbientLight:!0}),yl.prototype=Object.assign(Object.create(al.prototype),{constructor:yl,isRectAreaLight:!0,copy:function(e){return al.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=al.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class bl{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ee)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*i*1.092548),t.addScaledVector(o[5],i*r*1.092548),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],n*r*1.092548),t.addScaledVector(o[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*i),t.addScaledVector(o[2],1.023328*r),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*i),t.addScaledVector(o[5],.858086*i*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],.858086*n*r),t.addScaledVector(o[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+3*i);return this}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+3*i);return e}static getBasisAt(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}}function xl(e,t){al.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new bl}function _l(e){Aa.call(this,e),this.textures={}}xl.prototype=Object.assign(Object.create(al.prototype),{constructor:xl,isLightProbe:!0,copy:function(e){return al.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=al.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),_l.prototype=Object.assign(Object.create(Aa.prototype),{constructor:_l,load:function(e,t,n,i){const r=this,o=new Ra(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const i=new ua[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&void 0!==i.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.sheen&&(i.sheen=(new qt).setHex(e.sheen)),void 0!==e.emissive&&void 0!==i.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==i.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearcoat&&(i.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(i.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.flatShading&&(i.flatShading=e.flatShading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.combine&&(i.combine=e.combine),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(i.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(i.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(i.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(i.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(i.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(i.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(i.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(i.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(i.rotation=e.rotation),1!==e.linewidth&&(i.linewidth=e.linewidth),void 0!==e.dashSize&&(i.dashSize=e.dashSize),void 0!==e.gapSize&&(i.gapSize=e.gapSize),void 0!==e.scale&&(i.scale=e.scale),void 0!==e.polygonOffset&&(i.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(i.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(i.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(i.morphNormals=e.morphNormals),void 0!==e.dithering&&(i.dithering=e.dithering),void 0!==e.vertexTangents&&(i.vertexTangents=e.vertexTangents),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.toneMapped&&(i.toneMapped=e.toneMapped),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const r in e.uniforms){const t=e.uniforms[r];switch(i.uniforms[r]={},t.type){case"t":i.uniforms[r].value=n(t.value);break;case"c":i.uniforms[r].value=(new qt).setHex(t.value);break;case"v2":i.uniforms[r].value=(new me).fromArray(t.value);break;case"v3":i.uniforms[r].value=(new Ee).fromArray(t.value);break;case"v4":i.uniforms[r].value=(new we).fromArray(t.value);break;case"m3":i.uniforms[r].value=(new ge).fromArray(t.value);break;case"m4":i.uniforms[r].value=(new Qe).fromArray(t.value);break;default:i.uniforms[r].value=t.value}}if(void 0!==e.defines&&(i.defines=e.defines),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(void 0!==e.shading&&(i.flatShading=1===e.shading),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=n(e.map)),void 0!==e.matcap&&(i.matcap=n(e.matcap)),void 0!==e.alphaMap&&(i.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(i.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(i.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),i.normalScale=(new me).fromArray(t)}return void 0!==e.displacementMap&&(i.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=n(e.specularMap)),void 0!==e.envMap&&(i.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(i.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(i.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(i.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(i.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(i.clearcoatNormalScale=(new me).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(i.transmission=e.transmission),void 0!==e.transmissionMap&&(i.transmissionMap=n(e.transmissionMap)),i},setTextures:function(e){return this.textures=e,this}});const wl=function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)};function Sl(){_n.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Ml(e,t,n,i){"number"===typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Qt.call(this,e,t,n),this.meshPerAttribute=i||1}function El(e){Aa.call(this,e)}Sl.prototype=Object.assign(Object.create(_n.prototype),{constructor:Sl,isInstancedBufferGeometry:!0,copy:function(e){return _n.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=_n.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Ml.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Ml,isInstancedBufferAttribute:!0,copy:function(e){return Qt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Qt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),El.prototype=Object.assign(Object.create(Aa.prototype),{constructor:El,load:function(e,t,n,i){const r=this,o=new Ra(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(n){try{t(r.parse(JSON.parse(n)))}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(e,i){if(void 0!==t[i])return t[i];const r=e.interleavedBuffers[i],o=function(e,t){if(void 0!==n[t])return n[t];const i=e.arrayBuffers,r=i[t],o=new Uint32Array(r).buffer;return n[t]=o,o}(e,r.buffer),s=new ho(pn(r.type,o),r.stride);return s.uuid=r.uuid,t[i]=s,s}const r=e.isInstancedBufferGeometry?new Sl:new _n,o=e.data.index;if(void 0!==o){const e=pn(o.type,o.array);r.setIndex(new Qt(e,1))}const s=e.data.attributes;for(const u in s){const t=s[u];let n;if(t.isInterleavedBufferAttribute){n=new fo(i(e.data,t.data),t.itemSize,t.offset,t.normalized)}else{const e=pn(t.type,t.array);n=new(t.isInstancedBufferAttribute?Ml:Qt)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),r.setAttribute(u,n)}const a=e.data.morphAttributes;if(a)for(const u in a){const t=a[u],n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];let s;if(o.isInterleavedBufferAttribute){s=new fo(i(e.data,o.data),o.itemSize,o.offset,o.normalized)}else{s=new Qt(pn(o.type,o.array),o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}r.morphAttributes[u]=n}e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];r.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Ee;void 0!==c.center&&e.fromArray(c.center),r.boundingSphere=new We(e,c.radius)}return e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});function Tl(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Aa.call(this,e),this.options={premultiplyAlpha:"none"}}function Cl(){this.type="ShapePath",this.color=new qt,this.subPaths=[],this.currentPath=null}Tl.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Tl,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,i){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ta.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,s).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,r.options)}).then(function(n){Ta.add(e,n),t&&t(n),r.manager.itemEnd(e)}).catch(function(t){i&&i(t),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}}),Object.assign(Cl.prototype,{moveTo:function(e,t){return this.currentPath=new ol,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){const t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n],r=new sl;r.curves=i.curves,t.push(r)}return t}function i(e,t){const n=t.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=t[r],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[r],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;i=!i}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return i}const r=Xs.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);let s,a,l;const c=[];if(1===o.length)return a=o[0],l=new sl,l.curves=a.curves,c.push(l),c;let u=!r(o[0].getPoints());u=e?!u:u;const h=[],d=[];let p,f,m=[],g=0;d[g]=void 0,m[g]=[];for(let v=0,y=o.length;v<y;v++)a=o[v],p=a.getPoints(),s=r(p),s=e?!s:s,s?(!u&&d[g]&&g++,d[g]={s:new sl,p:p},d[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:p[0]});if(!d[0])return n(o);if(d.length>1){let e=!1;const t=[];for(let n=0,i=d.length;n<i;n++)h[n]=[];for(let n=0,r=d.length;n<r;n++){const r=m[n];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<d.length;r++)i(s.p,d[r].p)&&(n!==r&&t.push({froms:n,tos:r,hole:o}),a?(a=!1,h[r].push(s)):e=!0);a&&h[n].push(s)}}t.length>0&&(e||(m=h))}for(let v=0,y=d.length;v<y;v++){l=d[v].s,c.push(l),f=m[v];for(let e=0,t=f.length;e<t;e++)l.holes.push(f[e].h)}return c}});class Ll{constructor(e){Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=e}generateShapes(e){const t=[],n=function(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let c=0;c<i.length;c++){const e=i[c];if("\n"===e)a=0,l-=o;else{const t=Al(e,r,a,l,n);a+=t.offsetX,s.push(t.path)}}return s}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,this.data);for(let i=0,r=n.length;i<r;i++)Array.prototype.push.apply(t,n[i].toShapes());return t}}function Al(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");const s=new Cl;let a,l,c,u,h,d,p,f;if(o.o){const e=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let r=0,o=e.length;r<o;){switch(e[r++]){case"m":a=e[r++]*t+n,l=e[r++]*t+i,s.moveTo(a,l);break;case"l":a=e[r++]*t+n,l=e[r++]*t+i,s.lineTo(a,l);break;case"q":c=e[r++]*t+n,u=e[r++]*t+i,h=e[r++]*t+n,d=e[r++]*t+i,s.quadraticCurveTo(h,d,c,u);break;case"b":c=e[r++]*t+n,u=e[r++]*t+i,h=e[r++]*t+n,d=e[r++]*t+i,p=e[r++]*t+n,f=e[r++]*t+i,s.bezierCurveTo(h,d,p,f,c,u)}}}return{offsetX:o.ha*t,path:s}}function Pl(e){Aa.call(this,e)}let Rl;Pl.prototype=Object.assign(Object.create(Aa.prototype),{constructor:Pl,load:function(e,t,n,i){const r=this,o=new Ra(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(e){let n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}const i=r.parse(n);t&&t(i)},n,i)},parse:function(e){return new Ll(e)}});const Dl=function(){return void 0===Rl&&(Rl=new(window.AudioContext||window.webkitAudioContext)),Rl};function kl(e){Aa.call(this,e)}function Ol(e,t,n){xl.call(this,void 0,n);const i=(new qt).set(e),r=(new qt).set(t),o=new Ee(i.r,i.g,i.b),s=new Ee(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}function Nl(e,t){xl.call(this,void 0,t);const n=(new qt).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}kl.prototype=Object.assign(Object.create(Aa.prototype),{constructor:kl,load:function(e,t,n,i){const r=this,o=new Ra(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(n){try{const e=n.slice(0);Dl().decodeAudioData(e,function(e){t(e)})}catch(o){i?i(o):console.error(o),r.manager.itemError(e)}},n,i)}}),Ol.prototype=Object.assign(Object.create(xl.prototype),{constructor:Ol,isHemisphereLightProbe:!0,copy:function(e){return xl.prototype.copy.call(this,e),this},toJSON:function(e){return xl.prototype.toJSON.call(this,e)}}),Nl.prototype=Object.assign(Object.create(xl.prototype),{constructor:Nl,isAmbientLightProbe:!0,copy:function(e){return xl.prototype.copy.call(this,e),this},toJSON:function(e){return xl.prototype.toJSON.call(this,e)}});const Fl=new Qe,Il=new Qe;Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),i=t.eyeSep/2,r=i*t.near/t.focus,o=t.near*Math.tan(fe.DEG2RAD*t.fov*.5)/t.zoom;let s,a;Il.elements[12]=-i,Fl.elements[12]=i,s=-o*t.aspect+r,a=o*t.aspect+r,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraL.projectionMatrix.copy(n),s=-o*t.aspect-r,a=o*t.aspect-r,n.elements[0]=2*t.near/(a-s),n.elements[8]=(a+s)/(a-s),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Il),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Fl)}});class Bl extends Mt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}function zl(e,t,n){let i,r,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(zl.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==i;++e)n[r+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,r,0,e,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(n,i,e,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){Me.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const o=this._workIndex*r;Me.multiplyQuaternionsFlat(e,o,e,t,e,n),Me.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]*o+e[n+s]*i}},_lerpAdditive:function(e,t,n,i,r){for(let o=0;o!==r;++o){const r=t+o;e[r]=e[r]+e[n+o]*i}}});const jl="\\[\\]\\.:\\/",Ul=new RegExp("["+jl+"]","g"),Hl="[^"+jl+"]",Vl="[^"+jl.replace("\\.","")+"]",Wl=/((?:WC+[\/:])*)/.source.replace("WC",Hl),Gl=/(WCOD+)?/.source.replace("WCOD",Vl),ql=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Hl),Xl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Hl),Yl=new RegExp("^"+Wl+Gl+ql+Xl+"$"),$l=["material","materials","bones"];function Zl(e,t,n){const i=n||Jl.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}function Jl(e,t,n){this.path=t,this.parsedPath=n||Jl.parseTrackName(t),this.node=Jl.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(Zl.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Jl,{Composite:Zl,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Jl.Composite(e,t,n):new Jl(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Ul,"")},parseTrackName:function(e){const t=Yl.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const e=n.nodeName.substring(i+1);-1!==$l.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let i=0;i<e.length;i++){const r=e[i];if(r.name===t||r.uuid===t)return r;const o=n(r.children);if(o)return o}return null},i=n(e.children);if(i)return i}return null}}),Object.assign(Jl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)e[t++]=n[i]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++]},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let r=t.propertyIndex;if(e||(e=Jl.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let i=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===i){i=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==i){if(void 0===e[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[i]}}const o=e[i];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+i+" but it wasn't found.",e)}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Jl.prototype,{_getValue_unbound:Jl.prototype.getValue,_setValue_unbound:Jl.prototype.setValue}),Object.assign(function(){this.uuid=fe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=a++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)r[e].push(new Jl(u,n[e],i[e]))}else if(d<l){s=e[d];const a=--l,c=e[a];t[c.uuid]=d,e[d]=c,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=r[e],o=t[a];let s=t[d];t[d]=o,void 0===s&&(s=new Jl(u,n[e],i[e])),t[a]=s}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=r){const o=r++,c=e[o];t[c.uuid]=l,e[l]=c,t[a]=o,e[o]=s;for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[o],r=t[l];t[l]=i,t[o]=r}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,l=t[a];if(void 0!==l)if(delete t[a],l<r){const s=--r,a=e[s],c=--o,u=e[c];t[a.uuid]=l,e[l]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e],i=t[s],r=t[c];t[l]=i,t[s]=r,t.pop()}}else{const r=--o,s=e[r];r>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=i;e!==t;++e){const t=n[e];t[l]=t[r],t.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const r=this._bindings;if(void 0!==i)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(u);for(let h=c,d=a.length;h!==d;++h){const n=a[h];u[h]=new Jl(n,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];t[e[s]]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});class Kl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.blendMode;this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Q,endingEnd:Q};for(let l=0;l!==o;++l){const e=r[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,i=e._clip.duration,r=i/n,o=n/i;e.warp(1,r,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const i=(e-r)*n;if(i<0||0===n)return;this._startTime=null,t=n*i}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);else for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulate(i,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const o=2202===n;if(0===e)return-1===r?i:o&&1===(1&r)?t-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),i>=t||i<0){const n=Math.floor(i/t);i-=t*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&1===(1&r))return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=ee,i.endingEnd=ee):(i.endingStart=e?this.zeroSlopeAtStart?ee:Q:te,i.endingEnd=t?this.zeroSlopeAtEnd?ee:Q:te)}_scheduleFading(e,t,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}}function Ql(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Ql.prototype=Object.assign(Object.create(he.prototype),{constructor:Ql,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const e=i[u],r=e.name;let l=c[r];if(void 0!==l)o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}const i=t&&t._propertyBindings[u].binding.parsedPath;l=new zl(Jl.create(n,r,i),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),o[u]=l}s[u].resultBuffer=l.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];void 0===o&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new fa(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let o="string"===typeof e?Ma.findByName(i,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:ne),void 0!==a){const e=a.actionByRoot[r];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Kl(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r="string"===typeof e?Ma.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(i,e,r,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){const e=r.knownActions;for(let n=0,i=e.length;n!==i;++n){const i=e[n];this._deactivateAction(i);const r=i._cacheIndex,o=t[t.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,o._cacheIndex=r,t[r]=o,t.pop(),this._removeInactiveBindingsForAction(i)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const r in n){const e=n[r].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const i=this._bindingsByRootAndName[t];if(void 0!==i)for(const r in i){const e=i[r];e.restoreOriginalState(),this._removeInactiveBinding(e)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class ec{constructor(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new ec(void 0===this.value.clone?this.value:this.value.clone())}}function tc(e,t,n){ho.call(this,e,t),this.meshPerAttribute=n||1}function nc(e,t,n,i,r){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function ic(e,t,n,i){this.ray=new Ke(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new ut,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function rc(e,t){return e.distance-t.distance}function oc(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===i){const i=e.children;for(let e=0,r=i.length;e<r;e++)oc(i[e],t,n,!0)}}tc.prototype=Object.assign(Object.create(ho.prototype),{constructor:tc,isInstancedInterleavedBuffer:!0,copy:function(e){return ho.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=ho.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=ho.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(nc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(nc.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(ic.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)},intersectObject:function(e,t,n){const i=n||[];return oc(e,this,i,t),i.sort(rc),i},intersectObjects:function(e,t,n){const i=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,o=e.length;r<o;r++)oc(e[r],this,i,t);return i.sort(rc),i}});class sc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(fe.clamp(t/this.radius,-1,1))),this}}const ac=new me;function lc(e){Mt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}lc.prototype=Object.create(Mt.prototype),lc.prototype.constructor=lc,lc.prototype.isImmediateRenderObject=!0;const cc=new Ee,uc=new Qe,hc=new Qe;function dc(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,dc(e.children[n]));return t}const pc=new Float32Array(1),fc=(new Int32Array(pc.buffer),Math.pow(2,8),[.125,.215,.35,.446,.526,.582]),mc=5+fc.length,gc=new Zt({side:1,depthWrite:!1,depthTest:!1}),{_lodPlanes:vc,_sizeLods:yc,_sigmas:bc}=(new zn(new Un,gc),xc());Math.sqrt(5);function xc(){const e=[],t=[],n=[];let i=8;for(let r=0;r<mc;r++){const o=Math.pow(2,i);t.push(o);let s=1/o;r>4?s=fc[r-8+4-1]:0==r&&(s=0),n.push(s);const a=1/(o-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,d=6,p=3,f=2,m=1,g=new Float32Array(p*d*h),v=new Float32Array(f*d*h),y=new Float32Array(m*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,i=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(i,p*d*e),v.set(u,f*d*e);const r=[e,e,e,e,e,e];y.set(r,m*d*e)}const b=new _n;b.setAttribute("position",new Qt(g,p)),b.setAttribute("uv",new Qt(v,f)),b.setAttribute("faceIndex",new Qt(y,m)),e.push(b),i>4&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function _c(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),qa.call(this,e),this.type="catmullrom"}Ba.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ba.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(ol.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Object.create(qa.prototype),Object.create(qa.prototype),_c.prototype=Object.create(qa.prototype),Object.assign(_c.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),class extends rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;n=new qt(n),i=new qt(i);const r=t/2,o=e/t,s=e/2,a=[],l=[];for(let u=0,h=0,d=-s;u<=t;u++,d+=o){a.push(-s,0,d,s,0,d),a.push(d,0,-s,d,0,s);const e=u===r?n:i;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new _n;c.setAttribute("position",new cn(a,3)),c.setAttribute("color",new cn(l,3));super(c,new $o({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends rs{constructor(e){const t=dc(e),n=new _n,i=[],r=[],o=new qt(0,0,1),s=new qt(0,1,0);for(let a=0;a<t.length;a++){const e=t[a];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new cn(i,3)),n.setAttribute("color",new cn(r,3));super(n,new $o({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");hc.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const e=t[r];e.parent&&e.parent.isBone&&(uc.multiplyMatrices(hc,e.matrixWorld),cc.setFromMatrixPosition(uc),i.setXYZ(o,cc.x,cc.y,cc.z),uc.multiplyMatrices(hc,e.parent.matrixWorld),cc.setFromMatrixPosition(uc),i.setXYZ(o+1,cc.x,cc.y,cc.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Aa.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),wl(e)}}),Aa.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(e,t){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new me(1/0,1/0),this.max=void 0!==t?t:new me(-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=ac.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new me),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new me),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new me),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new me),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ac.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Le.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(We.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ti.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Object.assign(fe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),fe.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),fe.ceilPowerOfTwo(e)}}),Object.assign(ge.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Object.assign(Qe.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ee).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)},getInverse:function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()}}),Lt.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Object.assign(Me.prototype,{multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(Ke.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(zt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(zt,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),zt.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),zt.getNormal(e,t,n,i)}}),Object.assign(sl.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Zs(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Qs(this,e)}}),Object.assign(me.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ee.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(we.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Mt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Mt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(zn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(zn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(ko.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Vo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),zo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ba.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Xn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(al.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Qt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ce},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ce)}}}),Object.assign(Qt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ce:le),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(_n.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Qt(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(_n.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Sl.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(ic.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(ho.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ce},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(ho.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ce:le),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Zs.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(uo.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(ec.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties($t.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new qt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(ra.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ia.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Gn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(lo.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(lo.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?re:ie}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Qr.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Se.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(Bl.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new kl).load(e,function(e){t.setBuffer(e)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),$n.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},$n.prototype.clear=function(e,t,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,i)};ye.crossOrigin=void 0,ye.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Ia;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},ye.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Na;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o},ye.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ye.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125");var wc=n(579);const Sc=e=>{let{size:n}=e;const i=(0,t.useRef)(null);return(0,t.useEffect)(()=>{const e=i.current,t=new uo,r=new Xn(75,1,.1,1e3),o=new lo({alpha:!0,antialias:!0});o.setSize(25,25),o.setPixelRatio(window.devicePixelRatio),e.appendChild(o.domElement);const s=new vl(16777215,.7);t.add(s);const a=new gl(16777215,.5);a.position.set(1,1,1),t.add(a);const l=new ro,c=1/n,u=.05/(n/2),h=new na({color:1710618,roughness:.8}),d={right:new na({color:12852794,roughness:.8}),left:new na({color:16734208,roughness:.8}),top:new na({color:16777215,roughness:.8}),bottom:new na({color:16766208,roughness:.8}),front:new na({color:20922,roughness:.8}),back:new na({color:40544,roughness:.8})},p=new $o({color:0}),f=[p,h,...Object.values(d)],m=(n-1)/2;for(let i=0;i<n;i++)for(let e=0;e<n;e++)for(let t=0;t<n;t++){if(i>0&&i<n-1&&e>0&&e<n-1&&t>0&&t<n-1)continue;const r=new Un(c-u,c-u,c-u);f.push(r);const o=new zn(r,[i===n-1?d.right:h,0===i?d.left:h,e===n-1?d.top:h,0===e?d.bottom:h,t===n-1?d.front:h,0===t?d.back:h]);o.position.set((i-m)*c,(e-m)*c,(t-m)*c);const s=new _s(r),a=new rs(s,p);f.push(s),o.add(a),l.add(o)}t.add(l),r.position.z=1.6;const g=.04*(Math.random()-.5),v=.04*(Math.random()-.5);let y;const b=()=>{y=requestAnimationFrame(b),l.rotation.x+=g,l.rotation.y+=v,o.render(t,r)};return b(),()=>{cancelAnimationFrame(y),e.removeChild(o.domElement),f.forEach(e=>e.dispose())}},[n]),(0,wc.jsx)("div",{ref:i,style:{display:"inline-block",width:"25px",height:"25px",marginRight:"5px",verticalAlign:"text-bottom"}})},Mc=e=>{const t=[],n=[];function i(){setTimeout(function(){window.location.reload()},50)}for(let r=2;r<=10;r++){const e=(0,wc.jsx)("li",{className:"nav-item",children:(0,wc.jsx)("a",{className:"nav-link cube-link",href:`/RubiksProgram/#id=${r}`,onClick:i,children:(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)(Sc,{size:r})," ",r,"x",r]})})},r);r<=6?t.push(e):n.push(e)}return(0,wc.jsxs)("nav",{className:"navbar navbar-dark fixed-top justify-content-between",children:[(0,wc.jsx)("ul",{className:"nav",children:t}),(0,wc.jsx)("p",{className:"navbar-brand mx-auto",style:{fontSize:"1.7rem",fontFamily:"Bebas Neue",fontWeight:"bold",background:" #ffffffff",WebkitBackgroundClip:"text",backgroundClip:"text",color:"transparent",marginBottom:0,textShadow:"1px 1px 3px rgba(251, 249, 249, 0.5)"},children:e.title}),(0,wc.jsxs)("ul",{className:"nav align-items-center",children:[n,(0,wc.jsx)("li",{className:"nav-item",children:(0,wc.jsx)("button",{id:"fullscreenBtn",value:"true",children:"Fullscreen"})})]})]})};var Ec=n(4414),Tc=n(6731),Cc=n(2239),Lc=n(1912),Ac=n(6835),Pc=n(5173),Rc=n.n(Pc),Dc=n(6440),kc=n.n(Dc),Oc=n(1777);const Nc=function(e){var n,i,r=e.className,o=e.included,s=e.vertical,a=e.offset,l=e.length,c=e.style,u=e.reverse,h=s?(n={},(0,Oc.A)(n,u?"top":"bottom",a+"%"),(0,Oc.A)(n,u?"bottom":"top","auto"),(0,Oc.A)(n,"height",l+"%"),n):(i={},(0,Oc.A)(i,u?"right":"left",a+"%"),(0,Oc.A)(i,u?"left":"right","auto"),(0,Oc.A)(i,"width",l+"%"),i),d=(0,Ec.A)({},c,h);return o?t.createElement("div",{className:r,style:d}):null};var Fc=n(9939),Ic=n(4847),Bc=n(3694),zc=n.n(Bc);function jc(e,t,n,i){var o=r.unstable_batchedUpdates?function(e){r.unstable_batchedUpdates(n,e)}:n;return zc()(e,t,o,i)}var Uc=n(8139),Hc=n.n(Uc),Vc=function(e){var n=e.prefixCls,i=e.vertical,r=e.reverse,o=e.marks,s=e.dots,a=e.step,l=e.included,c=e.lowerBound,u=e.upperBound,h=e.max,d=e.min,p=e.dotStyle,f=e.activeDotStyle,m=h-d,g=function(e,t,n,i,r,o){kc()(!n||i>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var s=Object.keys(t).map(parseFloat).sort(function(e,t){return e-t});if(n&&i)for(var a=r;a<=o;a+=i)-1===s.indexOf(a)&&s.push(a);return s}(0,o,s,a,d,h).map(function(e){var o,s=Math.abs(e-d)/m*100+"%",a=!l&&e===u||l&&e<=u&&e>=c,h=i?(0,Ec.A)({},p,(0,Oc.A)({},r?"top":"bottom",s)):(0,Ec.A)({},p,(0,Oc.A)({},r?"right":"left",s));a&&(h=(0,Ec.A)({},h,f));var g=Hc()((o={},(0,Oc.A)(o,n+"-dot",!0),(0,Oc.A)(o,n+"-dot-active",a),(0,Oc.A)(o,n+"-dot-reverse",r),o));return t.createElement("span",{className:g,style:h,key:e})});return t.createElement("div",{className:n+"-step"},g)};Vc.propTypes={prefixCls:Rc().string,activeDotStyle:Rc().object,dotStyle:Rc().object,min:Rc().number,max:Rc().number,upperBound:Rc().number,lowerBound:Rc().number,included:Rc().bool,dots:Rc().bool,step:Rc().number,marks:Rc().object,vertical:Rc().bool,reverse:Rc().bool};const Wc=Vc;var Gc=function(e){var n=e.className,i=e.vertical,r=e.reverse,o=e.marks,s=e.included,a=e.upperBound,l=e.lowerBound,c=e.max,u=e.min,h=e.onClickLabel,d=Object.keys(o),p=c-u,f=d.map(parseFloat).sort(function(e,t){return e-t}).map(function(e){var c,d=o[e],f="object"===typeof d&&!t.isValidElement(d),m=f?d.label:d;if(!m&&0!==m)return null;var g=!s&&e===a||s&&e<=a&&e>=l,v=Hc()((c={},(0,Oc.A)(c,n+"-text",!0),(0,Oc.A)(c,n+"-text-active",g),c)),y=(0,Oc.A)({marginBottom:"-50%"},r?"top":"bottom",(e-u)/p*100+"%"),b=(0,Oc.A)({transform:"translateX(-50%)",msTransform:"translateX(-50%)"},r?"right":"left",r?(e-u/4)/p*100+"%":(e-u)/p*100+"%"),x=i?y:b,_=f?(0,Ec.A)({},x,d.style):x;return t.createElement("span",{className:v,style:_,key:e,onMouseDown:function(t){return h(t,e)},onTouchStart:function(t){return h(t,e)}},m)});return t.createElement("div",{className:n},f)};Gc.propTypes={className:Rc().string,vertical:Rc().bool,reverse:Rc().bool,marks:Rc().object,included:Rc().bool,upperBound:Rc().number,lowerBound:Rc().number,max:Rc().number,min:Rc().number,onClickLabel:Rc().func};const qc=Gc;var Xc=function(e){function n(){var e,t,i,r;(0,Tc.A)(this,n);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=i=(0,Lc.A)(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(s))),i.state={clickFocused:!1},i.setHandleRef=function(e){i.handle=e},i.handleMouseUp=function(){document.activeElement===i.handle&&i.setClickFocus(!0)},i.handleMouseDown=function(){i.focus()},i.handleBlur=function(){i.setClickFocus(!1)},i.handleKeyDown=function(){i.setClickFocus(!1)},r=t,(0,Lc.A)(i,r)}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidMount",value:function(){this.onMouseUpListener=jc(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(e){this.setState({clickFocused:e})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var e,n,i=this.props,r=i.prefixCls,o=i.vertical,s=i.reverse,a=i.offset,l=i.style,c=i.disabled,u=i.min,h=i.max,d=i.value,p=i.tabIndex,f=(0,Fc.A)(i,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex"]),m=Hc()(this.props.className,(0,Oc.A)({},r+"-handle-click-focused",this.state.clickFocused)),g=o?(e={},(0,Oc.A)(e,s?"top":"bottom",a+"%"),(0,Oc.A)(e,s?"bottom":"top","auto"),(0,Oc.A)(e,"transform","translateY(+50%)"),e):(n={},(0,Oc.A)(n,s?"right":"left",a+"%"),(0,Oc.A)(n,s?"left":"right","auto"),(0,Oc.A)(n,"transform","translateX("+(s?"+":"-")+"50%)"),n),v=(0,Ec.A)({},l,g),y=p||0;return(c||null===p)&&(y=null),t.createElement("div",(0,Ec.A)({ref:this.setHandleRef,tabIndex:y},f,{className:m,style:v,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":u,"aria-valuemax":h,"aria-valuenow":d,"aria-disabled":!!c}))}}]),n}(t.Component);const Yc=Xc;Xc.propTypes={prefixCls:Rc().string,className:Rc().string,vertical:Rc().bool,offset:Rc().number,style:Rc().object,disabled:Rc().bool,min:Rc().number,max:Rc().number,value:Rc().number,tabIndex:Rc().number,reverse:Rc().bool};var $c=n(5304),Zc={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Zc.F1&&t<=Zc.F12)return!1;switch(t){case Zc.ALT:case Zc.CAPS_LOCK:case Zc.CONTEXT_MENU:case Zc.CTRL:case Zc.DOWN:case Zc.END:case Zc.ESC:case Zc.HOME:case Zc.INSERT:case Zc.LEFT:case Zc.MAC_FF_META:case Zc.META:case Zc.NUMLOCK:case Zc.NUM_CENTER:case Zc.PAGE_DOWN:case Zc.PAGE_UP:case Zc.PAUSE:case Zc.PRINT_SCREEN:case Zc.RIGHT:case Zc.SHIFT:case Zc.UP:case Zc.WIN_KEY:case Zc.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Zc.ZERO&&e<=Zc.NINE)return!0;if(e>=Zc.NUM_ZERO&&e<=Zc.NUM_MULTIPLY)return!0;if(e>=Zc.A&&e<=Zc.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Zc.SPACE:case Zc.QUESTION_MARK:case Zc.NUM_PLUS:case Zc.NUM_MINUS:case Zc.NUM_PERIOD:case Zc.NUM_DIVISION:case Zc.SEMICOLON:case Zc.DASH:case Zc.EQUALS:case Zc.COMMA:case Zc.PERIOD:case Zc.SLASH:case Zc.APOSTROPHE:case Zc.SINGLE_QUOTE:case Zc.OPEN_SQUARE_BRACKET:case Zc.BACKSLASH:case Zc.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Jc=Zc;function Kc(e,t){try{return Object.keys(t).some(function(n){return e.target===(0,r.findDOMNode)(t[n])})}catch(n){return!1}}function Qc(e,t){var n=t.min,i=t.max;return e<n||e>i}function eu(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function tu(e,t){var n=t.marks,i=t.step,r=t.min,o=t.max,s=Object.keys(n).map(parseFloat);if(null!==i){var a=Math.floor((o-r)/i),l=Math.min((e-r)/i,a),c=Math.round(l)*i+r;s.push(c)}var u=s.map(function(t){return Math.abs(e-t)});return s[u.indexOf(Math.min.apply(Math,(0,$c.A)(u)))]}function nu(e,t){return e?t.clientY:t.pageX}function iu(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function ru(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:window.pageXOffset+n.left+.5*n.width}function ou(e,t){var n=t.max,i=t.min;return e<=i?i:e>=n?n:e}function su(e,t){var n=t.step,i=isFinite(tu(e,t))?tu(e,t):0;return null===n?i:parseFloat(i.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function au(e){e.stopPropagation(),e.preventDefault()}function lu(e,t,n){var i="increase",r="decrease",o=i;switch(e.keyCode){case Jc.UP:o=t&&n?r:i;break;case Jc.RIGHT:o=!t&&n?r:i;break;case Jc.DOWN:o=t&&n?i:r;break;case Jc.LEFT:o=!t&&n?i:r;break;case Jc.END:return function(e,t){return t.max};case Jc.HOME:return function(e,t){return t.min};case Jc.PAGE_UP:return function(e,t){return e+2*t.step};case Jc.PAGE_DOWN:return function(e,t){return e-2*t.step};default:return}return function(e,t){return function(e,t,n){var i={increase:function(e,t){return e+t},decrease:function(e,t){return e-t}},r=i[e](Object.keys(n.marks).indexOf(JSON.stringify(t)),1),o=Object.keys(n.marks)[r];return n.step?i[e](t,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:t}(o,e,t)}}function cu(){}function uu(e){var n,i;return i=n=function(e){function n(e){(0,Tc.A)(this,n);var t=(0,Lc.A)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onMouseDown=function(e){if(0===e.button){var n=t.props.vertical,i=nu(n,e);if(Kc(e,t.handlesRefs)){var r=ru(n,e.target);t.dragOffset=i-r,i=r}else t.dragOffset=0;t.removeDocumentEvents(),t.onStart(i),t.addDocumentMouseEvents()}},t.onTouchStart=function(e){if(!eu(e)){var n=t.props.vertical,i=iu(n,e);if(Kc(e,t.handlesRefs)){var r=ru(n,e.target);t.dragOffset=i-r,i=r}else t.dragOffset=0;t.onStart(i),t.addDocumentTouchEvents(),au(e)}},t.onFocus=function(e){var n=t.props,i=n.onFocus,r=n.vertical;if(Kc(e,t.handlesRefs)){var o=ru(r,e.target);t.dragOffset=0,t.onStart(o),au(e),i&&i(e)}},t.onBlur=function(e){var n=t.props.onBlur;t.onEnd(),n&&n(e)},t.onMouseUp=function(){t.handlesRefs[t.prevMovedHandleIndex]&&t.handlesRefs[t.prevMovedHandleIndex].clickFocus()},t.onMouseMove=function(e){if(t.sliderRef){var n=nu(t.props.vertical,e);t.onMove(e,n-t.dragOffset)}else t.onEnd()},t.onTouchMove=function(e){if(!eu(e)&&t.sliderRef){var n=iu(t.props.vertical,e);t.onMove(e,n-t.dragOffset)}else t.onEnd()},t.onKeyDown=function(e){t.sliderRef&&Kc(e,t.handlesRefs)&&t.onKeyboard(e)},t.onClickMarkLabel=function(e,n){e.stopPropagation(),t.onChange({value:n}),t.setState({value:n},function(){return t.onEnd(!0)})},t.saveSlider=function(e){t.sliderRef=e};var i=e.step,r=e.max,o=e.min,s=!isFinite(r-o)||(r-o)%i===0;return kc()(!i||Math.floor(i)!==i||s,"Slider[max] - Slider[min] (%s) should be a multiple of Slider[step] (%s)",r-o,i),t.handlesRefs={},t}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,t=e.autoFocus,n=e.disabled;t&&!n&&this.focus()}},{key:"componentWillUnmount",value:function(){(0,Ic.A)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentWillUnmount",this)&&(0,Ic.A)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,t=this.props,n=t.vertical,i=t.reverse,r=e.getBoundingClientRect();return n?i?r.bottom:r.top:window.pageXOffset+(i?r.right:r.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var t=e.getBoundingClientRect();return this.props.vertical?t.height:t.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=jc(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=jc(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=jc(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=jc(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){this.props.disabled||this.handlesRefs[0].focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(t){e.handlesRefs[t]&&e.handlesRefs[t].blur&&e.handlesRefs[t].blur()})}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,i=t.min,r=t.max,o=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-o)*(r-i)+i:o*(r-i)+i}},{key:"calcValueByPos",value:function(e){var t=(this.props.reverse?-1:1)*(e-this.getSliderStart());return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,i=this.props,r=i.prefixCls,o=i.className,s=i.marks,a=i.dots,l=i.step,c=i.included,u=i.disabled,h=i.vertical,d=i.reverse,p=i.min,f=i.max,m=i.children,g=i.maximumTrackStyle,v=i.style,y=i.railStyle,b=i.dotStyle,x=i.activeDotStyle,_=(0,Ic.A)(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this),w=_.tracks,S=_.handles,M=Hc()(r,(e={},(0,Oc.A)(e,r+"-with-marks",Object.keys(s).length),(0,Oc.A)(e,r+"-disabled",u),(0,Oc.A)(e,r+"-vertical",h),(0,Oc.A)(e,o,o),e));return t.createElement("div",{ref:this.saveSlider,className:M,onTouchStart:u?cu:this.onTouchStart,onMouseDown:u?cu:this.onMouseDown,onMouseUp:u?cu:this.onMouseUp,onKeyDown:u?cu:this.onKeyDown,onFocus:u?cu:this.onFocus,onBlur:u?cu:this.onBlur,style:v},t.createElement("div",{className:r+"-rail",style:(0,Ec.A)({},g,y)}),w,t.createElement(Wc,{prefixCls:r,vertical:h,reverse:d,marks:s,dots:a,step:l,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:p,dotStyle:b,activeDotStyle:x}),S,t.createElement(qc,{className:r+"-mark",onClickLabel:u?cu:this.onClickMarkLabel,vertical:h,marks:s,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:p,reverse:d}),m)}}]),n}(e),n.displayName="ComponentEnhancer("+e.displayName+")",n.propTypes=(0,Ec.A)({},e.propTypes,{min:Rc().number,max:Rc().number,step:Rc().number,marks:Rc().object,included:Rc().bool,className:Rc().string,prefixCls:Rc().string,disabled:Rc().bool,children:Rc().any,onBeforeChange:Rc().func,onChange:Rc().func,onAfterChange:Rc().func,handle:Rc().func,dots:Rc().bool,vertical:Rc().bool,style:Rc().object,reverse:Rc().bool,minimumTrackStyle:Rc().object,maximumTrackStyle:Rc().object,handleStyle:Rc().oneOfType([Rc().object,Rc().arrayOf(Rc().object)]),trackStyle:Rc().oneOfType([Rc().object,Rc().arrayOf(Rc().object)]),railStyle:Rc().object,dotStyle:Rc().object,activeDotStyle:Rc().object,autoFocus:Rc().bool,onFocus:Rc().func,onBlur:Rc().func}),n.defaultProps=(0,Ec.A)({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var n=e.index,i=(0,Fc.A)(e,["index"]);return delete i.dragging,null===i.value?null:t.createElement(Yc,(0,Ec.A)({},i,{key:n}))},onBeforeChange:cu,onChange:cu,onAfterChange:cu,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),i}var hu=function(e){function n(e){(0,Tc.A)(this,n);var t=(0,Lc.A)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onEnd=function(e){var n=t.state.dragging;t.removeDocumentEvents(),(n||e)&&t.props.onAfterChange(t.getValue()),t.setState({dragging:!1})};var i=void 0!==e.defaultValue?e.defaultValue:e.min,r=void 0!==e.value?e.value:i;return t.state={value:t.trimAlignValue(r),dragging:!1},kc()(!("minimumTrackStyle"in e),"minimumTrackStyle will be deprecated, please use trackStyle instead."),kc()(!("maximumTrackStyle"in e),"maximumTrackStyle will be deprecated, please use railStyle instead."),t}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidUpdate",value:function(e,t){if("value"in this.props||"min"in this.props||"max"in this.props){var n=this.props,i=n.value,r=n.onChange,o=void 0!==i?i:t.value,s=this.trimAlignValue(o,this.props);s!==t.value&&(this.setState({value:s}),Qc(o,this.props)&&r(s))}}},{key:"onChange",value:function(e){var t=this.props,n=!("value"in t),i=e.value>this.props.max?(0,Ec.A)({},e,{value:this.props.max}):e;n&&this.setState(i);var r=i.value;t.onChange(r)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e,i!==n&&(this.prevMovedHandleIndex=0,this.onChange({value:i}))}},{key:"onMove",value:function(e,t){au(e);var n=this.state.value,i=this.calcValueByPos(t);i!==n&&this.onChange({value:i})}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,i=lu(e,t.vertical,n);if(i){au(e);var r=this.state.value,o=i(r,this.props),s=this.trimAlignValue(o);if(s===r)return;this.onChange({value:s}),this.props.onAfterChange(s),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===e)return null;var n=(0,Ec.A)({},this.props,t);return su(ou(e,n),n)}},{key:"render",value:function(){var e=this,n=this.props,i=n.prefixCls,r=n.vertical,o=n.included,s=n.disabled,a=n.minimumTrackStyle,l=n.trackStyle,c=n.handleStyle,u=n.tabIndex,h=n.min,d=n.max,p=n.reverse,f=n.handle,m=this.state,g=m.value,v=m.dragging,y=this.calcOffset(g),b=f({className:i+"-handle",prefixCls:i,vertical:r,offset:y,value:g,dragging:v,disabled:s,min:h,max:d,reverse:p,index:0,tabIndex:u,style:c[0]||c,ref:function(t){return e.saveHandle(0,t)}}),x=l[0]||l;return{tracks:t.createElement(Nc,{className:i+"-track",vertical:r,included:o,offset:0,reverse:p,length:y,style:(0,Ec.A)({},a,x)}),handles:b}}}]),n}(t.Component);hu.propTypes={defaultValue:Rc().number,value:Rc().number,disabled:Rc().bool,autoFocus:Rc().bool,tabIndex:Rc().number,reverse:Rc().bool,min:Rc().number,max:Rc().number};const du=uu(hu);function pu(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function fu(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function mu(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function gu(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,r=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?r="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==r){var o=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=pu,t.componentWillReceiveProps=fu),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=mu;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,i)}}return e}pu.__suppressDeprecationWarning=!0,fu.__suppressDeprecationWarning=!0,mu.__suppressDeprecationWarning=!0;var vu=n(7324),yu=n.n(vu),bu=function(e){var t=e.value,n=e.handle,i=e.bounds,r=e.props,o=r.allowCross,s=r.pushable,a=Number(s),l=ou(t,r),c=l;return o||null==n||void 0===i||(n>0&&l<=i[n-1]+a&&(c=i[n-1]+a),n<i.length-1&&l>=i[n+1]-a&&(c=i[n+1]-a)),su(c,r)},xu=function(e){function n(e){(0,Tc.A)(this,n);var t=(0,Lc.A)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onEnd=function(e){var n=t.state.handle;t.removeDocumentEvents(),(null!==n||e)&&t.props.onAfterChange(t.getValue()),t.setState({handle:null})};var i=e.count,r=e.min,o=e.max,s=Array.apply(void 0,(0,$c.A)(Array(i+1))).map(function(){return r}),a="defaultValue"in e?e.defaultValue:s,l=(void 0!==e.value?e.value:a).map(function(t,n){return bu({value:t,handle:n,props:e})}),c=l[0]===o?0:l.length-1;return t.state={handle:null,recent:c,bounds:l},t}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(("value"in this.props||"min"in this.props||"max"in this.props)&&(this.props.min!==e.min||this.props.max!==e.max||!yu()(this.props.value,e.value))){var i=this.props,r=i.onChange,o=i.value||t.bounds;if(o.some(function(e){return Qc(e,n.props)}))r(o.map(function(e){return ou(e,n.props)}))}}},{key:"onChange",value:function(e){var t=this.props;if(!("value"in t))this.setState(e);else{var n={};["handle","recent"].forEach(function(t){void 0!==e[t]&&(n[t]=e[t])}),Object.keys(n).length&&this.setState(n)}var i=(0,Ec.A)({},this.state,e).bounds;t.onChange(i)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,i=this.getValue();t.onBeforeChange(i);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var o=this.getClosestBound(r);if(this.prevMovedHandleIndex=this.getBoundNeedMoving(r,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex}),r!==i[this.prevMovedHandleIndex]){var s=[].concat((0,$c.A)(n.bounds));s[this.prevMovedHandleIndex]=r,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t){au(e);var n=this.state,i=this.calcValueByPos(t);i!==n.bounds[n.handle]&&this.moveTo(i)}},{key:"onKeyboard",value:function(e){var t=this.props,n=t.reverse,i=lu(e,t.vertical,n);if(i){au(e);var r=this.state,o=this.props,s=r.bounds,a=r.handle,l=s[null===a?r.recent:a],c=i(l,o),u=bu({value:c,handle:a,bounds:r.bounds,props:o});if(u===l)return;this.moveTo(u,!0)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,i=1;i<t.length-1;++i)e>=t[i]&&(n=i);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,i=n.bounds,r=n.recent,o=t,s=i[t+1]===i[t];return s&&i[r]===i[t]&&(o=r),s&&e!==i[t+1]&&(o=e<i[t+1]?t:t+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,i=e.min,r=e.max,o=this._getPointsCache;if(!o||o.marks!==t||o.step!==n){var s=(0,Ec.A)({},t);if(null!==n)for(var a=i;a<=r;a+=n)s[a]=a;var l=Object.keys(s).map(parseFloat);l.sort(function(e,t){return e-t}),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"moveTo",value:function(e,t){var n=this,i=this.state,r=this.props,o=[].concat((0,$c.A)(i.bounds)),s=null===i.handle?i.recent:i.handle;o[s]=e;var a=s;!1!==r.pushable?this.pushSurroundingHandles(o,a):r.allowCross&&(o.sort(function(e,t){return e-t}),a=o.indexOf(e)),this.onChange({recent:a,handle:a,bounds:o}),t&&(this.props.onAfterChange(o),this.setState({},function(){n.handlesRefs[a].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(e,t){var n=e[t],i=this.props.pushable;i=Number(i);var r=0;if(e[t+1]-n<i&&(r=1),n-e[t-1]<i&&(r=-1),0!==r){var o=t+r,s=r*(e[o]-n);this.pushHandle(e,o,r,i-s)||(e[t]=e[o]-r*i)}}},{key:"pushHandle",value:function(e,t,n,i){for(var r=e[t],o=e[t];n*(o-r)<i;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=r,!1;o=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var i=this.getPoints(),r=i.indexOf(e[t])+n;if(r>=i.length||r<0)return!1;var o=t+n,s=i[r],a=this.props.pushable,l=n*(e[o]-s);return!!this.pushHandle(e,o,n,a-l)&&(e[t]=s,!0)}},{key:"trimAlignValue",value:function(e){var t=this.state,n=t.handle,i=t.bounds;return bu({value:e,handle:n,bounds:i,props:this.props})}},{key:"render",value:function(){var e=this,n=this.state,i=n.handle,r=n.bounds,o=this.props,s=o.prefixCls,a=o.vertical,l=o.included,c=o.disabled,u=o.min,h=o.max,d=o.reverse,p=o.handle,f=o.trackStyle,m=o.handleStyle,g=o.tabIndex,v=r.map(function(t){return e.calcOffset(t)}),y=s+"-handle",b=r.map(function(t,n){var r,o=g[n]||0;return(c||null===g[n])&&(o=null),p({className:Hc()((r={},(0,Oc.A)(r,y,!0),(0,Oc.A)(r,y+"-"+(n+1),!0),r)),prefixCls:s,vertical:a,offset:v[n],value:t,dragging:i===n,index:n,tabIndex:o,min:u,max:h,reverse:d,disabled:c,style:m[n],ref:function(t){return e.saveHandle(n,t)}})});return{tracks:r.slice(0,-1).map(function(e,n){var i,r=n+1,o=Hc()((i={},(0,Oc.A)(i,s+"-track",!0),(0,Oc.A)(i,s+"-track-"+r,!0),i));return t.createElement(Nc,{className:o,vertical:a,reverse:d,included:l,offset:v[r-1],length:v[r]-v[r-1],style:f[n],key:r})}),handles:b}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if("value"in e||"min"in e||"max"in e){var n=(e.value||t.bounds).map(function(n,i){return bu({value:n,handle:i,bounds:t.bounds,props:e})});return n.length===t.bounds.length&&n.every(function(e,n){return e===t.bounds[n]})?null:(0,Ec.A)({},t,{bounds:n})}return null}}]),n}(t.Component);xu.displayName="Range",xu.propTypes={autoFocus:Rc().bool,defaultValue:Rc().arrayOf(Rc().number),value:Rc().arrayOf(Rc().number),count:Rc().number,pushable:Rc().oneOfType([Rc().bool,Rc().number]),allowCross:Rc().bool,disabled:Rc().bool,reverse:Rc().bool,tabIndex:Rc().arrayOf(Rc().number),min:Rc().number,max:Rc().number},xu.defaultProps={count:1,allowCross:!0,pushable:!1,tabIndex:[]},gu(xu);const _u=uu(xu);function wu(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}function Su(e){return Su="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Su(e)}function Mu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Eu(e,t){return Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Eu(e,t)}function Tu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Cu(e);if(t){var r=Cu(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Su(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Cu(e){return Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Cu(e)}var Lu=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(s,e);var t,n,i,o=Tu(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))).removeContainer=function(){e.container&&(r.unmountComponentAtNode(e.container),e.container.parentNode.removeChild(e.container),e.container=null)},e.renderComponent=function(t,n){var i=e.props,o=i.visible,s=i.getComponent,a=i.forceRender,l=i.getContainer,c=i.parent;(o||c._component||a)&&(e.container||(e.container=l()),r.unstable_renderSubtreeIntoContainer(c,s(t),e.container,function(){n&&n.call(this)}))},e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}])&&Mu(t.prototype,n),i&&Mu(t,i),s}(t.Component);function Au(e){return Au="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Au(e)}function Pu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ru(e,t){return Ru=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ru(e,t)}function Du(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=ku(e);if(t){var r=ku(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Au(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ku(e)}Lu.propTypes={autoMount:Rc().bool,autoDestroy:Rc().bool,visible:Rc().bool,forceRender:Rc().bool,parent:Rc().any,getComponent:Rc().func.isRequired,getContainer:Rc().func.isRequired,children:Rc().func.isRequired},Lu.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var Ou,Nu=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ru(e,t)}(s,e);var t,n,i,o=Du(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?r.createPortal(this.props.children,this._container):null}}])&&Pu(t.prototype,n),i&&Pu(t,i),s}(t.Component);function Fu(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Iu(e,t){this[e]=t}function Bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bu(Object(n),!0).forEach(function(t){Uu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Nu.propTypes={getContainer:Rc().func.isRequired,children:Rc().node.isRequired,didUpdate:Rc().func};var Hu={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Vu(){if(void 0!==Ou)return Ou;Ou="";var e=document.createElement("p").style;for(var t in Hu)t+"Transform"in e&&(Ou=t);return Ou}function Wu(){return Vu()?"".concat(Vu(),"TransitionProperty"):"transitionProperty"}function Gu(){return Vu()?"".concat(Vu(),"Transform"):"transform"}function qu(e,t){var n=Wu();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function Xu(e,t){var n=Gu();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Yu,$u=/matrix\((.*)\)/,Zu=/matrix3d\((.*)\)/;function Ju(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Ku(e,t,n){var i=n;if("object"!==ju(t))return"undefined"!==typeof i?("number"===typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):Yu(e,t);for(var r in t)t.hasOwnProperty(r)&&Ku(e,r,t[r])}function Qu(e,t){var n=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var r=e.document;"number"!==typeof(n=r.documentElement[i])&&(n=r.body[i])}return n}function eh(e){return Qu(e)}function th(e){return Qu(e,!0)}function nh(e){var t=function(e){var t,n,i,r=e.ownerDocument,o=r.body,s=r&&r.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),i=Math.floor(t.top),{left:n-=s.clientLeft||o.clientLeft||0,top:i-=s.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,i=n.defaultView||n.parentWindow;return t.left+=eh(i),t.top+=th(i),t}function ih(e){return null!==e&&void 0!==e&&e==e.window}function rh(e){return ih(e)?e.document:9===e.nodeType?e:e.ownerDocument}var oh=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),sh=/^(top|right|bottom|left)$/,ah="currentStyle",lh="runtimeStyle",ch="left";function uh(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function hh(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function dh(e,t,n){"static"===Ku(e,"position")&&(e.style.position="relative");var i=-999,r=-999,o=uh("left",n),s=uh("top",n),a=hh(o),l=hh(s);"left"!==o&&(i=999),"top"!==s&&(r=999);var c,u="",h=nh(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[Wu()]||"",qu(e,"none")),"left"in t&&(e.style[a]="",e.style[o]="".concat(i,"px")),"top"in t&&(e.style[l]="",e.style[s]="".concat(r,"px")),Ju(e);var d=nh(e),p={};for(var f in t)if(t.hasOwnProperty(f)){var m=uh(f,n),g="left"===f?i:r,v=h[f]-d[f];p[m]=m===f?g+v:g-v}Ku(e,p),Ju(e),("left"in t||"top"in t)&&qu(e,u);var y={};for(var b in t)if(t.hasOwnProperty(b)){var x=uh(b,n),_=t[b]-h[b];y[x]=b===x?p[x]+_:p[x]-_}Ku(e,y)}function ph(e,t){var n=nh(e),i=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Gu());if(n&&"none"!==n){var i=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}(e),r={x:i.x,y:i.y};"left"in t&&(r.x=i.x+t.left-n.left),"top"in t&&(r.y=i.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),i=n.getPropertyValue("transform")||n.getPropertyValue(Gu());if(i&&"none"!==i){var r,o=i.match($u);o?((r=(o=o[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,r[5]=t.y,Xu(e,"matrix(".concat(r.join(","),")"))):((r=i.match(Zu)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,r[13]=t.y,Xu(e,"matrix3d(".concat(r.join(","),")")))}else Xu(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,r)}function fh(e,t){for(var n=0;n<e.length;n++)t(e[n])}function mh(e){return"border-box"===Yu(e,"boxSizing")}"undefined"!==typeof window&&(Yu=window.getComputedStyle?function(e,t,n){var i=n,r="",o=rh(e);return(i=i||o.defaultView.getComputedStyle(e,null))&&(r=i.getPropertyValue(t)||i[t]),r}:function(e,t){var n=e[ah]&&e[ah][t];if(oh.test(n)&&!sh.test(t)){var i=e.style,r=i[ch],o=e[lh][ch];e[lh][ch]=e[ah][ch],i[ch]="fontSize"===t?"1em":n||0,n=i.pixelLeft+"px",i[ch]=r,e[lh][ch]=o}return""===n?"auto":n});var gh=["margin","border","padding"];function vh(e,t,n){var i,r,o,s=0;for(r=0;r<t.length;r++)if(i=t[r])for(o=0;o<n.length;o++){var a=void 0;a="border"===i?"".concat(i).concat(n[o],"Width"):i+n[o],s+=parseFloat(Yu(e,a))||0}return s}var yh={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function bh(e,t,n){var i=n;if(ih(e))return"width"===t?yh.viewportWidth(e):yh.viewportHeight(e);if(9===e.nodeType)return"width"===t?yh.docWidth(e):yh.docHeight(e);var r="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),s=mh(e),a=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(a=Yu(e,t))||void 0===a||Number(a)<0)&&(a=e.style[t]||0),a=Math.floor(parseFloat(a))||0),void 0===i&&(i=s?1:-1);var l=void 0!==o||s,c=o||a;return-1===i?l?c-vh(e,["border","padding"],r):a:l?1===i?c:c+(2===i?-vh(e,["border"],r):vh(e,["margin"],r)):a+vh(e,gh.slice(i),r)}fh(["Width","Height"],function(e){yh["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],yh["viewport".concat(e)](n))},yh["viewport".concat(e)]=function(t){var n="client".concat(e),i=t.document,r=i.body,o=i.documentElement[n];return"CSS1Compat"===i.compatMode&&o||r&&r[n]||o}});var xh={position:"absolute",visibility:"hidden",display:"block"};function _h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0];return 0!==r.offsetWidth?i=bh.apply(void 0,t):function(e,t,n){var i,r={},o=e.style;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}(r,xh,function(){i=bh.apply(void 0,t)}),i}function wh(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}fh(["width","height"],function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);yh["outer".concat(t)]=function(t,n){return t&&_h(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];yh[e]=function(t,i){var r=i;return void 0!==r?t?(mh(t)&&(r+=vh(t,["padding","border"],n)),Ku(t,e,r)):void 0:t&&_h(t,e,-1)}});var Sh={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:rh,offset:function(e,t,n){if("undefined"===typeof t)return nh(e);!function(e,t,n){if(n.ignoreShake){var i=nh(e),r=i.left.toFixed(0),o=i.top.toFixed(0),s=t.left.toFixed(0),a=t.top.toFixed(0);if(r===s&&o===a)return}n.useCssRight||n.useCssBottom?dh(e,t,n):n.useCssTransform&&Gu()in document.body.style?ph(e,t):dh(e,t,n)}(e,t,n||{})},isWindow:ih,each:fh,css:Ku,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:wh,getWindowScrollLeft:function(e){return eh(e)},getWindowScrollTop:function(e){return th(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Sh.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};wh(Sh,yh);var Mh=Sh.getParent;function Eh(e){if(Sh.isWindow(e)||9===e.nodeType)return null;var t,n=Sh.getDocument(e).body,i=Sh.css(e,"position");if(!("fixed"===i||"absolute"===i))return"html"===e.nodeName.toLowerCase()?null:Mh(e);for(t=Mh(e);t&&t!==n&&9!==t.nodeType;t=Mh(t))if("static"!==(i=Sh.css(t,"position")))return t;return null}var Th=Sh.getParent;function Ch(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},i=Eh(e),r=Sh.getDocument(e),o=r.defaultView||r.parentWindow,s=r.body,a=r.documentElement;i;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===i.clientWidth||i===s||i===a||"visible"===Sh.css(i,"overflow")){if(i===s||i===a)break}else{var l=Sh.offset(i);l.left+=i.clientLeft,l.top+=i.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+i.clientWidth),n.bottom=Math.min(n.bottom,l.top+i.clientHeight),n.left=Math.max(n.left,l.left)}i=Eh(i)}var c=null;Sh.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Sh.css(e,"position")&&(e.style.position="fixed"));var u=Sh.getWindowScrollLeft(o),h=Sh.getWindowScrollTop(o),d=Sh.viewportWidth(o),p=Sh.viewportHeight(o),f=a.scrollWidth,m=a.scrollHeight,g=window.getComputedStyle(s);if("hidden"===g.overflowX&&(f=o.innerWidth),"hidden"===g.overflowY&&(m=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Sh.isWindow(e)||9===e.nodeType)return!1;var t=Sh.getDocument(e),n=t.body,i=null;for(i=Th(e);i&&i!==n&&i!==t;i=Th(i))if("fixed"===Sh.css(i,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,h),n.right=Math.min(n.right,u+d),n.bottom=Math.min(n.bottom,h+p);else{var v=Math.max(f,u+d);n.right=Math.min(n.right,v);var y=Math.max(m,h+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Lh(e){var t,n,i;if(Sh.isWindow(e)||9===e.nodeType){var r=Sh.getWindow(e);t={left:Sh.getWindowScrollLeft(r),top:Sh.getWindowScrollTop(r)},n=Sh.viewportWidth(r),i=Sh.viewportHeight(r)}else t=Sh.offset(e),n=Sh.outerWidth(e),i=Sh.outerHeight(e);return t.width=n,t.height=i,t}function Ah(e,t){var n=t.charAt(0),i=t.charAt(1),r=e.width,o=e.height,s=e.left,a=e.top;return"c"===n?a+=o/2:"b"===n&&(a+=o),"c"===i?s+=r/2:"r"===i&&(s+=r),{left:s,top:a}}function Ph(e,t,n,i,r){var o=Ah(t,n[1]),s=Ah(e,n[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(e.left-a[0]+i[0]-r[0]),top:Math.round(e.top-a[1]+i[1]-r[1])}}function Rh(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Dh(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function kh(e,t,n){var i=[];return Sh.each(e,function(e){i.push(e.replace(t,function(e){return n[e]}))}),i}function Oh(e,t){return e[t]=-e[t],e}function Nh(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Fh(e,t){e[0]=Nh(e[0],t.width),e[1]=Nh(e[1],t.height)}function Ih(e,t,n,i){var r=n.points,o=n.offset||[0,0],s=n.targetOffset||[0,0],a=n.overflow,l=n.source||e;o=[].concat(o),s=[].concat(s);var c={},u=0,h=Ch(l,!(!(a=a||{})||!a.alwaysByViewport)),d=Lh(l);Fh(o,d),Fh(s,t);var p=Ph(d,t,r,o,s),f=Sh.merge(d,p);if(h&&(a.adjustX||a.adjustY)&&i){if(a.adjustX&&Rh(p,d,h)){var m=kh(r,/[lr]/gi,{l:"r",r:"l"}),g=Oh(o,0),v=Oh(s,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Ph(d,t,m,g,v),d,h)||(u=1,r=m,o=g,s=v)}if(a.adjustY&&Dh(p,d,h)){var y=kh(r,/[tb]/gi,{t:"b",b:"t"}),b=Oh(o,1),x=Oh(s,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Ph(d,t,y,b,x),d,h)||(u=1,r=y,o=b,s=x)}u&&(p=Ph(d,t,r,o,s),Sh.mix(f,p));var _=Rh(p,d,h),w=Dh(p,d,h);if(_||w){var S=r;_&&(S=kh(r,/[lr]/gi,{l:"r",r:"l"})),w&&(S=kh(r,/[tb]/gi,{t:"b",b:"t"})),r=S,o=n.offset||[0,0],s=n.targetOffset||[0,0]}c.adjustX=a.adjustX&&_,c.adjustY=a.adjustY&&w,(c.adjustX||c.adjustY)&&(f=function(e,t,n,i){var r=Sh.clone(e),o={width:t.width,height:t.height};return i.adjustX&&r.left<n.left&&(r.left=n.left),i.resizeWidth&&r.left>=n.left&&r.left+o.width>n.right&&(o.width-=r.left+o.width-n.right),i.adjustX&&r.left+o.width>n.right&&(r.left=Math.max(n.right-o.width,n.left)),i.adjustY&&r.top<n.top&&(r.top=n.top),i.resizeHeight&&r.top>=n.top&&r.top+o.height>n.bottom&&(o.height-=r.top+o.height-n.bottom),i.adjustY&&r.top+o.height>n.bottom&&(r.top=Math.max(n.bottom-o.height,n.top)),Sh.mix(r,o)}(p,d,h,c))}return f.width!==d.width&&Sh.css(l,"width",Sh.width(l)+f.width-d.width),f.height!==d.height&&Sh.css(l,"height",Sh.height(l)+f.height-d.height),Sh.offset(l,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:r,offset:o,targetOffset:s,overflow:c}}function Bh(e,t,n){var i=n.target||t,r=Lh(i),o=!function(e,t){var n=Ch(e,t),i=Lh(e);return!n||i.left+i.width<=n.left||i.top+i.height<=n.top||i.left>=n.right||i.top>=n.bottom}(i,n.overflow&&n.overflow.alwaysByViewport);return Ih(e,r,n,o)}Bh.__getOffsetParent=Eh,Bh.__getVisibleRectForElement=Ch;function zh(e){return e&&"object"===typeof e&&e.window===e}function jh(e,t){var n=Math.floor(e),i=Math.floor(t);return Math.abs(n-i)<=1}function Uh(e){return"function"===typeof e&&e?e():null}function Hh(e){return"object"===typeof e&&e?e:null}var Vh=function(e){function n(){var e,t,i,o;(0,Tc.A)(this,n);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return t=i=(0,Lc.A)(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),i.forceAlign=function(){var e=i.props,t=e.disabled,n=e.target,o=e.align,s=e.onAlign;if(!t&&n){var a=r.findDOMNode(i),l=void 0,c=Uh(n),u=Hh(n),h=document.activeElement;c?l=Bh(a,c,o):u&&(l=function(e,t,n){var i,r,o=Sh.getDocument(e),s=o.defaultView||o.parentWindow,a=Sh.getWindowScrollLeft(s),l=Sh.getWindowScrollTop(s),c=Sh.viewportWidth(s),u=Sh.viewportHeight(s),h={left:i="pageX"in t?t.pageX:a+t.clientX,top:r="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},d=i>=0&&i<=a+c&&r>=0&&r<=l+u,p=[n.points[0],"cc"];return Ih(e,h,zu(zu({},n),{},{points:p}),d)}(a,u,o)),function(e,t){e!==document.activeElement&&wu(t,e)&&e.focus()}(h,a),s&&s(a,l)}},o=t,(0,Lc.A)(i,o)}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidMount",value:function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(e){var t,n,i=!1,o=this.props;if(!o.disabled){var s=r.findDOMNode(this),a=s?s.getBoundingClientRect():null;if(e.disabled)i=!0;else{var l=Uh(e.target),c=Uh(o.target),u=Hh(e.target),h=Hh(o.target);zh(l)&&zh(c)?i=!1:(l!==c||l&&!c&&h||u&&h&&c||h&&!((t=u)===(n=h)||t&&n&&("pageX"in n&&"pageY"in n?t.pageX===n.pageX&&t.pageY===n.pageY:"clientX"in n&&"clientY"in n&&t.clientX===n.clientX&&t.clientY===n.clientY)))&&(i=!0);var d=this.sourceRect||{};i||!s||jh(d.width,a.width)&&jh(d.height,a.height)||(i=!0)}this.sourceRect=a}i&&this.forceAlign(),o.monitorWindowResize&&!o.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=function(e,t){var n=void 0;function i(){n&&(clearTimeout(n),n=null)}function r(){i(),n=setTimeout(e,t)}return r.clear=i,r}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=jc(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}},{key:"render",value:function(){var e=this,n=this.props,i=n.childrenProps,r=n.children,o=t.Children.only(r);if(i){var s={};return Object.keys(i).forEach(function(t){s[t]=e.props[i[t]]}),t.cloneElement(o,s)}return o}}]),n}(t.Component);Vh.propTypes={childrenProps:Rc().object,align:Rc().object.isRequired,target:Rc().oneOfType([Rc().func,Rc().shape({clientX:Rc().number,clientY:Rc().number,pageX:Rc().number,pageY:Rc().number})]),onAlign:Rc().func,monitorBufferTime:Rc().number,monitorWindowResize:Rc().bool,disabled:Rc().bool,children:Rc().any},Vh.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};const Wh=Vh;const Gh=function(e){var n=e.prototype;if(!n||!n.isReactComponent)throw new Error("Can only polyfill class components");return"function"!==typeof n.componentWillReceiveProps?e:t.Profiler?(n.UNSAFE_componentWillReceiveProps=n.componentWillReceiveProps,delete n.componentWillReceiveProps,e):e};function qh(e){var n=[];return t.Children.forEach(e,function(e){n.push(e)}),n}function Xh(e,t){var n=null;return e&&e.forEach(function(e){n||e&&e.key===t&&(n=e)}),n}function Yh(e,t,n){var i=null;return e&&e.forEach(function(e){if(e&&e.key===t&&e.props[n]){if(i)throw new Error("two child with same key for <rc-animate> children");i=e}}),i}var $h=n(6926),Zh={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},Jh={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},Kh=[],Qh=[];function ed(e,t,n){e.addEventListener(t,n,!1)}function td(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!==typeof window&&"undefined"!==typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];for(var o in r)if(o in e){n.push(r[o]);break}}}"AnimationEvent"in window||(delete Zh.animationstart.animation,delete Jh.animationend.animation),"TransitionEvent"in window||(delete Zh.transitionstart.transition,delete Jh.transitionend.transition),t(Zh,Kh),t(Jh,Qh)}();const nd={startEvents:Kh,addStartEventListener:function(e,t){0!==Kh.length?Kh.forEach(function(n){ed(e,n,t)}):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==Kh.length&&Kh.forEach(function(n){td(e,n,t)})},endEvents:Qh,addEndEventListener:function(e,t){0!==Qh.length?Qh.forEach(function(n){ed(e,n,t)}):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==Qh.length&&Qh.forEach(function(n){td(e,n,t)})}};var id=n(6578),rd=n.n(id),od=0!==nd.endEvents.length,sd=["Webkit","Moz","O","ms"],ad=["-webkit-","-moz-","-o-","ms-",""];function ld(e,t){for(var n=window.getComputedStyle(e,null),i="",r=0;r<ad.length&&!(i=n.getPropertyValue(ad[r]+t));r++);return i}function cd(e){if(od){var t=parseFloat(ld(e,"transition-delay"))||0,n=parseFloat(ld(e,"transition-duration"))||0,i=parseFloat(ld(e,"animation-delay"))||0,r=parseFloat(ld(e,"animation-duration"))||0,o=Math.max(n+t,r+i);e.rcEndAnimTimeout=setTimeout(function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()},1e3*o+200)}}function ud(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var hd=function(e,t,n){var i="object"===("undefined"===typeof t?"undefined":(0,$h.default)(t)),r=i?t.name:t,o=i?t.active:t+"-active",s=n,a=void 0,l=void 0,c=rd()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(s=n.end,a=n.start,l=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),ud(e),c.remove(r),c.remove(o),nd.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,s&&s())},nd.addEndEventListener(e,e.rcEndListener),a&&a(),c.add(r),e.rcAnimTimeout=setTimeout(function(){e.rcAnimTimeout=null,c.add(o),l&&setTimeout(l,0),cd(e)},30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};hd.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),ud(e),nd.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},nd.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout(function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,cd(e)},0)},hd.setTransition=function(e,t,n){var i=t,r=n;void 0===n&&(r=i,i=""),i=i||"",sd.forEach(function(t){e.style[t+"Transition"+i]=r})},hd.isCssAnimationSupported=od;const dd=hd;const pd={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}};var fd={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},md=function(e){function t(){return(0,Tc.A)(this,t),(0,Lc.A)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,Ac.A)(t,e),(0,Cc.A)(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){pd.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){pd.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){pd.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,i=r.findDOMNode(this),o=this.props,s=o.transitionName,a="object"===typeof s;this.stop();var l=function(){n.stopper=null,t()};if((od||!o.animation[e])&&s&&o[fd[e]]){var c=a?s[e]:s+"-"+e,u=c+"-active";a&&s[e+"Active"]&&(u=s[e+"Active"]),this.stopper=dd(i,{name:c,active:u},l)}else this.stopper=o.animation[e](i,l)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(t.Component);md.propTypes={children:Rc().any,animation:Rc().any,transitionName:Rc().any};const gd=md;var vd="rc_animate_"+Date.now();function yd(e){var n=e.children;return t.isValidElement(n)&&!n.key?t.cloneElement(n,{key:vd}):n}function bd(){}var xd=function(e){function n(e){(0,Tc.A)(this,n);var t=(0,Lc.A)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return _d.call(t),t.currentlyAnimatingKeys={},t.keysToEnter=[],t.keysToLeave=[],t.state={children:qh(yd(e))},t.childrenRefs={},t}return(0,Ac.A)(n,e),(0,Cc.A)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter(function(e){return!!e.props[t]})),n.forEach(function(t){t&&e.performAppear(t.key)})}},{key:"componentWillReceiveProps",value:function(e){var n=this;this.nextProps=e;var i=qh(yd(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(e){n.stop(e)});var o=r.showProp,s=this.currentlyAnimatingKeys,a=r.exclusive?qh(yd(r)):this.state.children,l=[];o?(a.forEach(function(e){var n=e&&Xh(i,e.key),r=void 0;(r=n&&n.props[o]||!e.props[o]?n:t.cloneElement(n||e,(0,Oc.A)({},o,!0)))&&l.push(r)}),i.forEach(function(e){e&&Xh(a,e.key)||l.push(e)})):l=function(e,t){var n=[],i={},r=[];return e.forEach(function(e){e&&Xh(t,e.key)?r.length&&(i[e.key]=r,r=[]):r.push(e)}),t.forEach(function(e){e&&Object.prototype.hasOwnProperty.call(i,e.key)&&(n=n.concat(i[e.key])),n.push(e)}),n=n.concat(r)}(a,i),this.setState({children:l}),i.forEach(function(e){var t=e&&e.key;if(!e||!s[t]){var i=e&&Xh(a,t);if(o){var r=e.props[o];if(i)!Yh(a,t,o)&&r&&n.keysToEnter.push(t);else r&&n.keysToEnter.push(t)}else i||n.keysToEnter.push(t)}}),a.forEach(function(e){var t=e&&e.key;if(!e||!s[t]){var r=e&&Xh(i,t);if(o){var a=e.props[o];if(r)!Yh(i,t,o)&&a&&n.keysToLeave.push(t);else a&&n.keysToLeave.push(t)}else r||n.keysToLeave.push(t)}})}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?Yh(e,t,n):Xh(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,n=this.props;this.nextProps=n;var i=this.state.children,r=null;i&&(r=i.map(function(i){if(null===i||void 0===i)return i;if(!i.key)throw new Error("must set key for <rc-animate> children");return t.createElement(gd,{key:i.key,ref:function(t){e.childrenRefs[i.key]=t},animation:n.animation,transitionName:n.transitionName,transitionEnter:n.transitionEnter,transitionAppear:n.transitionAppear,transitionLeave:n.transitionLeave},i)}));var o=n.component;if(o){var s=n;return"string"===typeof o&&(s=(0,Ec.A)({className:n.className,style:n.style},n.componentProps)),t.createElement(o,s,r)}return r[0]||null}}]),n}(t.Component);xd.isAnimate=!0,xd.propTypes={className:Rc().string,style:Rc().object,component:Rc().any,componentProps:Rc().object,animation:Rc().object,transitionName:Rc().oneOfType([Rc().string,Rc().object]),transitionEnter:Rc().bool,transitionAppear:Rc().bool,exclusive:Rc().bool,transitionLeave:Rc().bool,onEnd:Rc().func,onEnter:Rc().func,onLeave:Rc().func,onAppear:Rc().func,showProp:Rc().string,children:Rc().node},xd.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:bd,onEnter:bd,onLeave:bd,onAppear:bd};var _d=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var i=e.props;if(delete e.currentlyAnimatingKeys[t],!i.exclusive||i===e.nextProps){var r=qh(yd(i));e.isValidChildByKey(r,t)?"appear"===n?pd.allowAppearCallback(i)&&(i.onAppear(t),i.onEnd(t,!0)):pd.allowEnterCallback(i)&&(i.onEnter(t),i.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var i=qh(yd(n));if(e.isValidChildByKey(i,t))e.performEnter(t);else{var r=function(){pd.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};!function(e,t,n){var i=e.length===t.length;return i&&e.forEach(function(e,r){var o=t[r];e&&o&&(e&&!o||!e&&o||e.key!==o.key||n&&e.props[n]!==o.props[n])&&(i=!1)}),i}(e.state.children,i,n.showProp)?e.setState({children:i},r):r()}}}};const wd=Gh(xd);var Sd=function(e){function n(){return(0,Tc.A)(this,n),(0,Lc.A)(this,e.apply(this,arguments))}return(0,Ac.A)(n,e),n.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},n.prototype.render=function(){var e=this.props,n=e.hiddenClassName,i=e.visible,r=(0,Fc.A)(e,["hiddenClassName","visible"]);return n||t.Children.count(r.children)>1?(!i&&n&&(r.className+=" "+n),t.createElement("div",r)):t.Children.only(r.children)},n}(t.Component);Sd.propTypes={children:Rc().any,className:Rc().string,visible:Rc().bool,hiddenClassName:Rc().string};const Md=Sd;var Ed=function(e){function n(){return(0,Tc.A)(this,n),(0,Lc.A)(this,e.apply(this,arguments))}return(0,Ac.A)(n,e),n.prototype.render=function(){var e=this.props,n=e.className;return e.visible||(n+=" "+e.hiddenClassName),t.createElement("div",{className:n,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},t.createElement(Md,{className:e.prefixCls+"-content",visible:e.visible},e.children))},n}(t.Component);Ed.propTypes={hiddenClassName:Rc().string,className:Rc().string,prefixCls:Rc().string,onMouseEnter:Rc().func,onMouseLeave:Rc().func,onMouseDown:Rc().func,onTouchStart:Rc().func,children:Rc().any};const Td=Ed;var Cd=function(e){function n(t){(0,Tc.A)(this,n);var i=(0,Lc.A)(this,e.call(this,t));return Ld.call(i),i.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},i.savePopupRef=Iu.bind(i,"popupInstance"),i.saveAlignRef=Iu.bind(i,"alignInstance"),i}return(0,Ac.A)(n,e),n.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},n.prototype.componentDidUpdate=function(){this.setStretchSize()},n.prototype.getPopupDomNode=function(){return r.findDOMNode(this.popupInstance)},n.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},n.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},n.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},n.prototype.getPopupElement=function(){var e=this,n=this.savePopupRef,i=this.state,r=i.stretchChecked,o=i.targetHeight,s=i.targetWidth,a=this.props,l=a.align,c=a.visible,u=a.prefixCls,h=a.style,d=a.getClassNameFromAlign,p=a.destroyPopupOnHide,f=a.stretch,m=a.children,g=a.onMouseEnter,v=a.onMouseLeave,y=a.onMouseDown,b=a.onTouchStart,x=this.getClassName(this.currentAlignClassName||d(l)),_=u+"-hidden";c||(this.currentAlignClassName=null);var w={};f&&(-1!==f.indexOf("height")?w.height=o:-1!==f.indexOf("minHeight")&&(w.minHeight=o),-1!==f.indexOf("width")?w.width=s:-1!==f.indexOf("minWidth")&&(w.minWidth=s),r||(w.visibility="hidden",setTimeout(function(){e.alignInstance&&e.alignInstance.forceAlign()},0)));var S={className:x,prefixCls:u,ref:n,onMouseEnter:g,onMouseLeave:v,onMouseDown:y,onTouchStart:b,style:(0,Ec.A)({},w,h,this.getZIndexStyle())};return p?t.createElement(wd,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},c?t.createElement(Wh,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:l,onAlign:this.onAlign},t.createElement(Td,(0,Ec.A)({visible:!0},S),m)):null):t.createElement(wd,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},t.createElement(Wh,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:c,childrenProps:{visible:"xVisible"},disabled:!c,align:l,onAlign:this.onAlign},t.createElement(Td,(0,Ec.A)({hiddenClassName:_},S),m)))},n.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},n.prototype.getMaskElement=function(){var e=this.props,n=void 0;if(e.mask){var i=this.getMaskTransitionName();n=t.createElement(Md,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),i&&(n=t.createElement(wd,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:i},n))}return n},n.prototype.render=function(){return t.createElement("div",null,this.getMaskElement(),this.getPopupElement())},n}(t.Component);Cd.propTypes={visible:Rc().bool,style:Rc().object,getClassNameFromAlign:Rc().func,onAlign:Rc().func,getRootDomNode:Rc().func,align:Rc().any,destroyPopupOnHide:Rc().bool,className:Rc().string,prefixCls:Rc().string,onMouseEnter:Rc().func,onMouseLeave:Rc().func,onMouseDown:Rc().func,onTouchStart:Rc().func,stretch:Rc().string,children:Rc().node,point:Rc().shape({pageX:Rc().number,pageY:Rc().number})};var Ld=function(){var e=this;this.onAlign=function(t,n){var i=e.props,r=i.getClassNameFromAlign(n);e.currentAlignClassName!==r&&(e.currentAlignClassName=r,t.className=e.getClassName(r)),i.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,i=t.getRootDomNode,r=t.visible,o=e.state,s=o.stretchChecked,a=o.targetHeight,l=o.targetWidth;if(n&&r){var c=i();if(c){var u=c.offsetHeight,h=c.offsetWidth;a===u&&l===h&&s||e.setState({stretchChecked:!0,targetHeight:u,targetWidth:h})}}else s&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}};const Ad=Cd;function Pd(){}var Rd=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],Dd=!!r.createPortal,kd={rcTrigger:Rc().shape({onPopupMouseDown:Rc().func})},Od=function(e){function n(t){(0,Tc.A)(this,n);var i=(0,Lc.A)(this,e.call(this,t));Nd.call(i);var r=void 0;return r="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,i.state={prevPopupVisible:r,popupVisible:r},Rd.forEach(function(e){i["fire"+e]=function(t){i.fireEvents(e,t)}}),i}return(0,Ac.A)(n,e),n.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},n.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},n.prototype.componentDidUpdate=function(e,t){var n=this.props,i=this.state;if(Dd||this.renderComponent(null,function(){t.popupVisible!==i.popupVisible&&n.afterPopupVisibleChange(i.popupVisible)}),i.popupVisible){var r=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(r=n.getDocument(),this.clickOutsideHandler=jc(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||n.getDocument(),this.touchOutsideHandler=jc(r,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(r=r||n.getDocument(),this.contextMenuOutsideHandler1=jc(r,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=jc(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},n.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},n.getDerivedStateFromProps=function(e,t){var n=e.popupVisible,i={};return void 0!==n&&t.popupVisible!==n&&(i.popupVisible=n,i.prevPopupVisible=t.popupVisible),i},n.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},n.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,i=e.builtinPlacements;return t&&i?function(e,t,n){var i=e[t]||{};return(0,Ec.A)({},i,n)}(i,t,n):n},n.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint,i=this.state.popupVisible;this.clearDelayTimer(),i!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:i}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},n.prototype.delaySetPopupVisible=function(e,t,n){var i=this,r=1e3*t;if(this.clearDelayTimer(),r){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(function(){i.setPopupVisible(e,o),i.clearDelayTimer()},r)}else this.setPopupVisible(e,n)},n.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},n.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},n.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},n.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},n.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},n.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},n.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},n.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},n.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},n.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},n.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},n.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var i=this.props[e];i&&i(t)},n.prototype.close=function(){this.setPopupVisible(!1)},n.prototype.render=function(){var e=this,n=this.state.popupVisible,i=this.props,r=i.children,o=i.forceRender,s=i.alignPoint,a=i.className,l=t.Children.only(r),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,s&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var u=Hc()(l&&l.props&&l.props.className,a);u&&(c.className=u);var h=t.cloneElement(l,c);if(!Dd)return t.createElement(Lu,{parent:this,visible:n,autoMount:!1,forceRender:o,getComponent:this.getComponent,getContainer:this.getContainer},function(t){var n=t.renderComponent;return e.renderComponent=n,h});var d=void 0;return(n||this._component||o)&&(d=t.createElement(Nu,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[h,d]},n}(t.Component);Od.propTypes={children:Rc().any,action:Rc().oneOfType([Rc().string,Rc().arrayOf(Rc().string)]),showAction:Rc().any,hideAction:Rc().any,getPopupClassNameFromAlign:Rc().any,onPopupVisibleChange:Rc().func,afterPopupVisibleChange:Rc().func,popup:Rc().oneOfType([Rc().node,Rc().func]).isRequired,popupStyle:Rc().object,prefixCls:Rc().string,popupClassName:Rc().string,className:Rc().string,popupPlacement:Rc().string,builtinPlacements:Rc().object,popupTransitionName:Rc().oneOfType([Rc().string,Rc().object]),popupAnimation:Rc().any,mouseEnterDelay:Rc().number,mouseLeaveDelay:Rc().number,zIndex:Rc().number,focusDelay:Rc().number,blurDelay:Rc().number,getPopupContainer:Rc().func,getDocument:Rc().func,forceRender:Rc().bool,destroyPopupOnHide:Rc().bool,mask:Rc().bool,maskClosable:Rc().bool,onPopupAlign:Rc().func,popupAlign:Rc().object,popupVisible:Rc().bool,defaultPopupVisible:Rc().bool,maskTransitionName:Rc().oneOfType([Rc().string,Rc().object]),maskAnimation:Rc().string,stretch:Rc().string,alignPoint:Rc().bool},Od.contextTypes=kd,Od.childContextTypes=kd,Od.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:Pd,afterPopupVisibleChange:Pd,onPopupAlign:Pd,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var Nd=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&wu(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,e.isClickToShow()&&(e.isClickToHide()||e.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault();var i=!e.state.popupVisible;(e.isClickToHide()&&!i||i&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout(function(){e.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target;wu((0,r.findDOMNode)(e),n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return(0,r.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],i=e.props,r=i.popupPlacement,o=i.builtinPlacements,s=i.prefixCls,a=i.alignPoint,l=i.getPopupClassNameFromAlign;return r&&o&&n.push(function(e,t,n,i){var r=n.points;for(var o in e)if(e.hasOwnProperty(o)&&Fu(e[o].points,r,i))return t+"-placement-"+o;return""}(o,s,t,a)),l&&n.push(l(t)),n.join(" ")},this.getComponent=function(){var n=e.props,i=n.prefixCls,r=n.destroyPopupOnHide,o=n.popupClassName,s=n.action,a=n.onPopupAlign,l=n.popupAnimation,c=n.popupTransitionName,u=n.popupStyle,h=n.mask,d=n.maskAnimation,p=n.maskTransitionName,f=n.zIndex,m=n.popup,g=n.stretch,v=n.alignPoint,y=e.state,b=y.popupVisible,x=y.point,_=e.getPopupAlign(),w={};return e.isMouseEnterToShow()&&(w.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(w.onMouseLeave=e.onPopupMouseLeave),w.onMouseDown=e.onPopupMouseDown,w.onTouchStart=e.onPopupMouseDown,t.createElement(Ad,(0,Ec.A)({prefixCls:i,destroyPopupOnHide:r,visible:b,point:v&&x,className:o,action:s,align:_,onAlign:a,animation:l,getClassNameFromAlign:e.getPopupClassNameFromAlign},w,{stretch:g,getRootDomNode:e.getRootDomNode,style:u,mask:h,zIndex:f,transitionName:c,maskAnimation:d,maskTransitionName:p,ref:e.savePopup}),"function"===typeof m?m():m)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer((0,r.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.state.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}};gu(Od);const Fd=Od;var Id={adjustX:1,adjustY:1},Bd=[0,0],zd={left:{points:["cr","cl"],overflow:Id,offset:[-4,0],targetOffset:Bd},right:{points:["cl","cr"],overflow:Id,offset:[4,0],targetOffset:Bd},top:{points:["bc","tc"],overflow:Id,offset:[0,-4],targetOffset:Bd},bottom:{points:["tc","bc"],overflow:Id,offset:[0,4],targetOffset:Bd},topLeft:{points:["bl","tl"],overflow:Id,offset:[0,-4],targetOffset:Bd},leftTop:{points:["tr","tl"],overflow:Id,offset:[-4,0],targetOffset:Bd},topRight:{points:["br","tr"],overflow:Id,offset:[0,-4],targetOffset:Bd},rightTop:{points:["tl","tr"],overflow:Id,offset:[4,0],targetOffset:Bd},bottomRight:{points:["tr","br"],overflow:Id,offset:[0,4],targetOffset:Bd},rightBottom:{points:["bl","br"],overflow:Id,offset:[4,0],targetOffset:Bd},bottomLeft:{points:["tl","bl"],overflow:Id,offset:[0,4],targetOffset:Bd},leftBottom:{points:["br","bl"],overflow:Id,offset:[-4,0],targetOffset:Bd}};var jd=function(e){function n(){return(0,Tc.A)(this,n),(0,Lc.A)(this,e.apply(this,arguments))}return(0,Ac.A)(n,e),n.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},n.prototype.render=function(){var e=this.props,n=e.overlay,i=e.prefixCls,r=e.id;return t.createElement("div",{className:i+"-inner",id:r,role:"tooltip"},"function"===typeof n?n():n)},n}(t.Component);jd.propTypes={prefixCls:Rc().string,overlay:Rc().oneOfType([Rc().node,Rc().func]).isRequired,id:Rc().string,trigger:Rc().any};const Ud=jd;var Hd=function(e){function n(){var i,r,o;(0,Tc.A)(this,n);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=r=(0,Lc.A)(this,e.call.apply(e,[this].concat(a))),r.getPopupElement=function(){var e=r.props,n=e.arrowContent,i=e.overlay,o=e.prefixCls,s=e.id;return[t.createElement("div",{className:o+"-arrow",key:"arrow"},n),t.createElement(Ud,{key:"content",trigger:r.trigger,prefixCls:o,id:s,overlay:i})]},r.saveTrigger=function(e){r.trigger=e},o=i,(0,Lc.A)(r,o)}return(0,Ac.A)(n,e),n.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},n.prototype.render=function(){var e=this.props,n=e.overlayClassName,i=e.trigger,r=e.mouseEnterDelay,o=e.mouseLeaveDelay,s=e.overlayStyle,a=e.prefixCls,l=e.children,c=e.onVisibleChange,u=e.afterVisibleChange,h=e.transitionName,d=e.animation,p=e.placement,f=e.align,m=e.destroyTooltipOnHide,g=e.defaultVisible,v=e.getTooltipContainer,y=(0,Fc.A)(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),b=(0,Ec.A)({},y);return"visible"in this.props&&(b.popupVisible=this.props.visible),t.createElement(Fd,(0,Ec.A)({popupClassName:n,ref:this.saveTrigger,prefixCls:a,popup:this.getPopupElement,action:i,builtinPlacements:zd,popupPlacement:p,popupAlign:f,getPopupContainer:v,onPopupVisibleChange:c,afterPopupVisibleChange:u,popupTransitionName:h,popupAnimation:d,defaultPopupVisible:g,destroyPopupOnHide:m,mouseLeaveDelay:o,popupStyle:s,mouseEnterDelay:r},b),l)},n}(t.Component);Hd.propTypes={trigger:Rc().any,children:Rc().any,defaultVisible:Rc().bool,visible:Rc().bool,placement:Rc().string,transitionName:Rc().oneOfType([Rc().string,Rc().object]),animation:Rc().any,onVisibleChange:Rc().func,afterVisibleChange:Rc().func,overlay:Rc().oneOfType([Rc().node,Rc().func]).isRequired,overlayStyle:Rc().object,overlayClassName:Rc().string,prefixCls:Rc().string,mouseEnterDelay:Rc().number,mouseLeaveDelay:Rc().number,getTooltipContainer:Rc().func,destroyTooltipOnHide:Rc().bool,align:Rc().object,arrowContent:Rc().any,id:Rc().string},Hd.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};const Vd=Hd;du.Range=_u,du.Handle=Yc,du.createSliderWithTooltip=function(e){var n,i;return i=n=function(n){function i(){var e,n,r,o;(0,Tc.A)(this,i);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return n=r=(0,Lc.A)(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a))),r.state={visibles:{}},r.handleTooltipVisibleChange=function(e,t){r.setState(function(n){return{visibles:(0,Ec.A)({},n.visibles,(0,Oc.A)({},e,t))}})},r.handleWithTooltip=function(e){var n=e.value,i=e.dragging,o=e.index,s=e.disabled,a=(0,Fc.A)(e,["value","dragging","index","disabled"]),l=r.props,c=l.tipFormatter,u=l.tipProps,h=l.handleStyle,d=u.prefixCls,p=void 0===d?"rc-slider-tooltip":d,f=u.overlay,m=void 0===f?c(n):f,g=u.placement,v=void 0===g?"top":g,y=u.visible,b=void 0!==y&&y,x=(0,Fc.A)(u,["prefixCls","overlay","placement","visible"]),_=void 0;return _=Array.isArray(h)?h[o]||h[0]:h,t.createElement(Vd,(0,Ec.A)({},x,{prefixCls:p,overlay:m,placement:v,visible:!s&&(r.state.visibles[o]||i)||b,key:o}),t.createElement(Yc,(0,Ec.A)({},a,{style:(0,Ec.A)({},_),value:n,onMouseEnter:function(){return r.handleTooltipVisibleChange(o,!0)},onMouseLeave:function(){return r.handleTooltipVisibleChange(o,!1)}})))},o=n,(0,Lc.A)(r,o)}return(0,Ac.A)(i,n),(0,Cc.A)(i,[{key:"render",value:function(){return t.createElement(e,(0,Ec.A)({},this.props,{handle:this.handleWithTooltip}))}}]),i}(t.Component),n.propTypes={tipFormatter:Rc().func,handleStyle:Rc().oneOfType([Rc().object,Rc().arrayOf(Rc().object)]),tipProps:Rc().object},n.defaultProps={tipFormatter:function(e){return e},handleStyle:[{}],tipProps:{}},i};const Wd=du,Gd={width:"20%",position:"fixed",top:"85px",left:"10px",fontSize:"1rem"},qd=e=>(0,wc.jsx)("div",{className:"sliderDiv",style:Gd,children:e.isDisabled?(0,wc.jsx)(Wd,{defaultValue:1,value:e.speed,min:e.speed,max:e.speed,step:1}):(0,wc.jsx)(Wd,{defaultValue:1,value:e.speed,min:0,max:70,step:1,onChange:e.onSliderChange})});var Xd=n(1929),Yd=n.n(Xd);const $d=e=>(0,wc.jsx)("div",{style:{position:"absolute",zIndex:"99"},children:(0,wc.jsx)(Yd(),{handle:".handle",defaultPosition:{x:0,y:150},position:null,grid:[50,50],scale:1,onStart:e.handleStart,onDrag:e.handleDrag,onStop:e.handleStop,children:(0,wc.jsxs)("div",{children:[(0,wc.jsx)("div",{className:"handle",style:{color:"grey"},children:"Drag from here"}),(0,wc.jsxs)("div",{children:[(0,wc.jsx)("input",{placeholder:"type moves here",id:"moveInput",onKeyDown:t=>{"Enter"===t.key&&e.algorithm(document.getElementById("moveInput").value,"Custom"),t.stopPropagation()},style:{borderRadius:"4px",margin:"1px",border:"1.5px solid #007bff",width:"200px"}}),(0,wc.jsx)("button",{id:"moveSubmit",onClick:()=>e.algorithm(document.getElementById("moveInput").value,"Custom"),children:"Enter"})]})]})})}),Zd=e=>(0,wc.jsxs)("div",{className:window.innerWidth>900&&window.innerHeight>580?"sideSolverInfo":"solverInfo",children:[(0,wc.jsxs)("div",{className:"setLengthWrapper",children:["Total Moves: ",(0,wc.jsx)("div",{className:"setLength",children:e.solvedSetLength})]}),(0,wc.jsxs)("div",{className:"setLengthWrapper",children:["Current Move: ",(0,wc.jsx)("div",{className:"setLength",children:e.prevSetLength})]})]}),Jd=e=>(0,wc.jsx)("div",{className:window.innerWidth>900&&window.innerHeight>580?"sideSolverInfo":"solverInfo",children:(0,wc.jsxs)("div",{className:"setLengthWrapper",children:["Current Color: ",(0,wc.jsx)("div",{className:"setLength",style:{backgroundColor:e.colorPicked}})]})});let Kd=[],Qd=[],ep=[],tp=[],np=[],ip=0;function rp(e){switch(e){case"F":return{bgc:"white",color:"black"};case"U":return{bgc:"blue",color:"white"};case"R":return{bgc:"red",color:"white"};case"B":return{bgc:"yellow",color:"black"};case"L":return{bgc:"orange",color:"black"};case"D":return{bgc:"green",color:"white"}}}const op=e=>(Kd=[],Qd=[],ep=[],tp=[],np=[],(0,wc.jsxs)("div",{id:"controlsDiv",children:[e.size%2?(0,wc.jsx)("div",{className:"centerMoves",style:{marginRight:"5px"},children:(0,wc.jsxs)("div",{className:"centerLayerColumns",children:[e.generatedButtons.center.forEach(t=>{Kd.push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.clockwise.name,t.clockwise.data),style:{position:"relative",left:"0px",backgroundColor:"magenta",width:"45px"},onMouseEnter:n=>e.mouseEnter(t.clockwise.name,t.clockwise.data,n),onMouseLeave:()=>e.mouseLeave(),children:t.clockwise.name},ip)),ip+=1,Kd.push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.counter.name,t.counter.data),style:{position:"relative",left:"0px",backgroundColor:"magenta",width:"45px"},onMouseEnter:()=>e.mouseEnter(t.counter.name,t.counter.data),onMouseLeave:()=>e.mouseLeave(),children:t.counter.name},ip)),ip+=1}),Kd]})}):"",(0,wc.jsxs)("div",{className:"singleLayerMoves",style:{marginRight:"5px"},children:[e.generatedButtons.single.forEach(t=>{let n=rp(t.counter.face);"F"===t.counter.face&&Qd.push([],[]);let i=Qd.length-2,r=Qd.length-1;Qd[i].push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.counter.name,t.counter.data),style:{position:"relative",left:"0px",backgroundColor:n.bgc,color:n.color,width:"45px"},onMouseEnter:()=>e.mouseEnter(t.counter.name,t.counter.data),onMouseLeave:()=>e.mouseLeave(),children:t.counter.name},ip)),ip+=1,Qd[r].push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.clockwise.name,t.clockwise.data),style:{position:"relative",left:"0px",backgroundColor:n.bgc,color:n.color,width:"45px"},onMouseEnter:()=>e.mouseEnter(t.clockwise.name,t.clockwise.data),onMouseLeave:()=>e.mouseLeave(),children:t.clockwise.name},ip)),ip+=1}),Qd.forEach(e=>{ip+=1,tp.push((0,wc.jsx)("div",{className:"singleLayerColumns",children:e},ip))}),tp]}),(0,wc.jsxs)("div",{className:"multiLayerMoves",children:[e.generatedButtons.multi.forEach(t=>{let n=rp(t.counter.face);"F"===t.counter.face&&ep.push([],[]);let i=ep.length-2,r=ep.length-1;ep[i].push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.counter.name,t.counter.data),style:{position:"relative",left:"0px",backgroundColor:n.bgc,color:n.color,width:"45px"},onMouseEnter:()=>e.mouseEnter(t.counter.name,t.counter.data),onMouseLeave:()=>e.mouseLeave(),children:t.counter.name},ip)),ip+=1,ep[r].push((0,wc.jsx)("div",{className:"moveBtn",onMouseDown:()=>e.rotateOneFace(t.clockwise.name,t.clockwise.data),style:{position:"relative",left:"0px",backgroundColor:n.bgc,color:n.color,width:"45px"},onMouseEnter:()=>e.mouseEnter(t.clockwise.name,t.clockwise.data),onMouseLeave:()=>e.mouseLeave(),children:t.clockwise.name},ip)),ip+=1}),ep.forEach(e=>{ip+=1,np.push((0,wc.jsx)("div",{className:"multiLayerColumns",children:e},ip))}),np]})]})),sp=["xxl","xl","lg","md","sm","xs"],ap="xs",lp=t.createContext({prefixes:{},breakpoints:sp,minBreakpoint:ap}),{Consumer:cp,Provider:up}=lp;function hp(e,n){const{prefixes:i}=(0,t.useContext)(lp);return e||i[n]||n}function dp(){const{breakpoints:e}=(0,t.useContext)(lp);return e}function pp(){const{minBreakpoint:e}=(0,t.useContext)(lp);return e}const fp=t.forwardRef((e,t)=>{let{bsPrefix:n,className:i,as:r="div",...o}=e;const s=hp(n,"row"),a=dp(),l=pp(),c=`${s}-cols`,u=[];return a.forEach(e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const i=e!==l?`-${e}`:"";null!=n&&u.push(`${c}${i}-${n}`)}),(0,wc.jsx)(r,{ref:t,...o,className:Hc()(i,s,...u)})});fp.displayName="Row";const mp=fp;const gp=t.forwardRef((e,t)=>{const[{className:n,...i},{as:r="div",bsPrefix:o,spans:s}]=function(e){let{as:t,bsPrefix:n,className:i,...r}=e;n=hp(n,"col");const o=dp(),s=pp(),a=[],l=[];return o.forEach(e=>{const t=r[e];let i,o,c;delete r[e],"object"===typeof t&&null!=t?({span:i,offset:o,order:c}=t):i=t;const u=e!==s?`-${e}`:"";i&&a.push(!0===i?`${n}${u}`:`${n}${u}-${i}`),null!=c&&l.push(`order${u}-${c}`),null!=o&&l.push(`offset${u}-${o}`)}),[{...r,className:Hc()(i,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(e);return(0,wc.jsx)(r,{...i,ref:t,className:Hc()(n,!s.length&&o)})});gp.displayName="Col";const vp=gp,yp="01R 01R 01L' 01D 01F 01F 01R' 01D' 01R' 01L 01U' 01D 01R 01D 01B 01B 01R' 01U 01D 01D",bp="01U 01D' 01R 01L' 01F 01B' 01U 01D'",xp=Up("BDF'B'DL2ULU'BD'RBRD'RL'FU2D"),_p=Up("R L F B R L F B R L F B R2 B2 L2 R2 B2 L2".split(" ").join("")),wp=Up("R2 U2 R2 U2 R2 U2 L2 D2 L2 D2 L2 D2 L2 R2".split(" ").join("")),Sp=Up("F U F R L2 B D' R D2 L D' B R2 L F U F".split(" ").join("")),Mp=Up("U B2 R2 B2 L2 F2 R2 D' F2 L2 B F' L F2 D U' R2 F' L' R'".split(" ").join("")),Ep=Up("F R' U L F' L' F U' R U L' U' L F'".split(" ").join("")),Tp=Up("L' B' D U R U' R' D2 R2 D L D' L' R' F U".split(" ").join("")),Cp=Up("U2 R2 L2 F2 B2 D2 L2 R2 F2 B2".split(" ").join("")),Lp=Up("U F B' L2 U2 L2 F' B U2 L2 U".split(" ").join("")),Ap=Up("L2 B2 D' B2 D L2 U R2 D R2 B U R' F2 R U' B' U'".split(" ").join("")),Pp=Up("R2 U2 L2 D B2 L2 B2 R2 D' U L' D F' U' R2 F' U B2 U2 R'".split(" ").join("")),Rp=Up("L2 F2 D' L2 B2 D' U' R2 B2 U' L' B2 L D L B' D L' U".split(" ").join("")),Dp=Up("D' B2 F2 L2 U' F2 R2 D F2 U2 L' B R' U' L' F D' F L D2".split(" ").join("")),kp=Up("U F R2 F' D' R U B2 U2 F' R2 F D B2 R B'".split(" ").join("")),Op=Up("D L' U R' B' R B U2 D B D' B' L U D'".split(" ").join("")),Np=Up("U L2 B2 R2 U R2 D' U L F' U L' D B' U L B' L R' U'".split(" ").join("")),Fp=Up("U' D B R' F R B' L' F' B L F R' B' R F' U' D".split(" ").join("")),Ip=Up("U B2 D2 L B' L' U' L' B D2 B2".split(" ").join("")),Bp=Up("R L B F R L U' D' F' B' U D".split(" ").join("")),zp=Up("R2 U2 R2 U2 R2 U2".split(" ").join("")),jp=Up("R' F' U F2 U' F R' F2 D2 F2 D2 F2 D F2 R2 U2".split(" ").join(""));function Up(e){return e.split("").map((t,n)=>"'"!==t&&"2"!==t?" 01"+t:"2"===t?" 01"+e[n-1]:t).join("").trim()}let Hp=(e,t,n,i)=>{let r=[];r.push({name:e,moves:t,worksFor:[]});for(let o=n;o<=i;o++)r[0].worksFor.push(o);return r},Vp=(e,t,n)=>{let i=[];for(let r=3;r<=30;r++){let o=e;"Cube x3"===e&&(o=o.split(""),o.pop(),o.push(r),o=o.join("")),i.push({name:o,moves:Wp(r,t,n),worksFor:[r]}),r<-1&&i.push({name:o+" (Inverse)",moves:qp(r,t),worksFor:[r]})}return i},Wp=(e,t,n)=>{const i=[];for(let r=1;r<=Math.floor(e/2);r++)n&&r%2?i.push(Gp(r,n)):i.push(Gp(r,t));return i.join(" ")},Gp=(e,t)=>{const n=[];return e>1?t.split(" ").forEach(t=>n.push(Yp(e,t.substring(2).toLowerCase()))):t.split(" ").forEach(t=>n.push(Yp(e,t.substring(2).toUpperCase()))),n.join(" ")},qp=(e,t)=>{const n=[];for(let i=1;i<=Math.floor(e/2);i++)n.push(Xp(i,t));return n.join(" ")},Xp=(e,t)=>{const n=[];return t.split(" ").forEach(t=>n.push(Yp(e,t.substring(2).toUpperCase()))),n.join(" ")};function Yp(e,t){return(e<10?"0":"")+e+t}const $p=[(e=>{let t=[];for(let n=2;n<=30;n++)t.push(n);return{name:e,worksFor:t}})("None Selected"),...Vp("Anaconda","01L 01U 01B' 01U' 01R 01L' 01B 01R' 01F 01B' 01D 01R 01D' 01F'"),...Vp("Cross",yp),...Hp("Cube x2","01F 01L 01F 01U' 01R 01U 01F 01F 01L 01L 01U' 01L' 01B 01D' 01B' 01L 01L 01U",2,4),...Vp("Cube x3","01U' 01L' 01U' 01F' 01R 01R 01B' 01R 01F 01U 01B 01B 01U 01B' 01L 01U' 01F 01U 01R 01F'"),...Hp("Cube x4 Twisted","01B' 02R 02R 02L 02L 01U 01U 02R 02R 02L 02L 01B 01F 01F 01R 01U' 01R 01U 01R 01R 01U 01R 01R 01F' 01U 01F' 01U 02U 01L 02L 01U' 02U' 01F 01F 02F 02F 01D 02D 01R' 02R' 01U 02U 01F 02F 01D 01D 02D 02D 01R 01R 02R 02R",4,4),...Vp("Checkerboard","01U 01U 01D 01D 01R 01R 01L 01L 01F 01F 01B 01B"),...Vp("Checkerboard1","01U' 01R 01R 01L 01L 01F 01F 01B 01B 01U' 01R 01L 01F 01B' 01U 01F 01F 01D 01D 01R 01R 01L 01L 01F 01F 01U 01U 01F 01F 01U' 01F 01F"),...Vp("Checkerboard In Cube",xp),...Vp("Corner Pyramid",Fp),...Vp("Displaced Motif",Ap),...Vp("Exchanged Duck Feet",kp),...Vp("Four Crosses",Cp),...Vp("Gift Box",Mp),...Vp("Perpendicular Lines",wp),...Vp("Pyraminx",Op),...Vp("Python","01F 01F 01R' 01B' 01U 01R' 01L 01F' 01L 01F' 01B 01D' 01R 01B 01L 01L"),...Hp("Rings","02R 03R 04R 05R 02B' 03B' 04B' 01L 01L 02F 02B 01L 01L 02B' 02D' 03D' 04D' 05D' 02F' 01L 01L 02F 02B 01L 01L 02B' 02D 02D 03D 03D 04D 04D 05D 05D 03R 04R 01U' 03R' 04R' 02D' 03D' 04D' 05D' 03R 04R 01U 02R' 03R' 04R' 05R' 03F' 04F' 03R' 04R' 03F 04F 02F 03F 04F 05F 02L 02L 03L 03L 04L 04L 02F 02F 03R 03R 04R 04R 02B 02B 03B 03B 04B 04B 02L 02L",6,6),...Vp("Six Spots",bp),...Vp("Six Spots + Cross",bp,yp),...Vp("Six-Two-One",Ip),...Hp("Snake Eyes",zp,3,3),...Vp("Spiral",Tp),...Vp("Staircase",Rp),...Vp("Twin Peaks",Np),...Vp("Twister",Ep),...Vp("Union Jack",Lp),...Vp("Vertical Stripes",Sp),...Vp("Viaduct",Pp),...Vp("Weirdo",jp),...Hp("Wire",_p,3,3),...Vp("Wrapped 2x2",Dp),...Vp("Yin Yang",Bp)];var Zp=n(6876),Jp=n(1106),Kp=n.n(Jp),Qp=n(1432),ef=n.n(Qp),tf=n(3820),nf=n.n(tf),rf=n(1001),of=n.n(rf),sf=n(9543),af=n.n(sf),lf=n(5323),cf=n.n(lf),uf=n(5877),hf=n.n(uf),df=n(7723),pf=n.n(df),ff=n(1204),mf=n.n(ff),gf=n(9140),vf=n.n(gf),yf=n(1189),bf=n.n(yf),xf=n(3162),_f=n.n(xf);const wf=function(e,t,n){let i=e,r=Math.floor(n/((i-2)*(i-2))),o={x:t[6],y:t[7],z:t[8]},s={x:t[9],y:t[10],z:t[11]};return o.x!==s.x||o.y!==s.y||o.z!==s.z?function(e){switch(e){case 0:return pf()(o,s,i,n);case 1:return mf()(o,s,i,n);case 2:return vf()(o,s,i);case 3:return _f()(o,s,i);case 4:return bf()(o,s,i,n);default:console.log("Should never reach here")}}(r):""};const Sf=function(e,t,n,i,r){if(2===t)return{solveState:1};const o=(t-2)*(t-2)*5,s={};let a="";if(3===t){0===e[4][7]&&2===e[10][8]||(2===e[4][8]?0===e[12][6]?a+="02R'":a+="02U'":0===e[4][6]?2===e[10][8]?a+="02U'":a+="02R'":2===e[4][6]?2===e[10][8]?a+="02U":a+="02R'":0===e[4][8]?0===e[12][6]?a+="02R":a+="02U'":2===e[4][7]?2===e[10][8]?a+="02U2":a+="02F'":a+="02B'");const t=n(a);a.trim().length?s.moveSet=t:s.solveState=1}else if(i<o){a=wf(t,e[r[i]],i);const o=n(a);a.trim().length?s.moveSet=o:s.rubiksIndex=i+1}else s.solveState=.1,s.rubiksIndex=0,s.currentFunc="Solving",s.moveSet=["stop"];return s};var Mf=n(5561),Ef=n.n(Mf),Tf=n(1165),Cf=n.n(Tf),Lf=n(4264),Af=n.n(Lf);function Pf(e,t){return e.indexOf(t)}const Rf=function(e,t,n,i,r){const o=e,s=o-2,a=Math.floor(n/(4*s)),l=Pf(t,"white"),c=Pf(t,"yellow"),u=Pf(t,"blue"),h=Pf(t,"green");let d="",p={x:t[6],y:t[7],z:t[8]},f={x:t[9],y:t[10],z:t[11]};if(p.x===f.x&&p.y===f.y&&p.z===f.z&&(0===l&&0===a||3===c&&1===a||1===u&&2===a||5===h&&2===a))return"";switch(a){case 0:d=Ef()(p,f,o,l);break;case 1:d=Cf()(p,f,o,c);break;case 2:d=Af()(p,f,o);break;default:console.log("Should never reach here")}return d};const Df=function(e,t,n,i,r){let o="";const s={};return r<12*(t-2)?(o=Rf(t,e[i[r]],r,e,i),o.trim().length?s.moveSet=n(o):s.rubiksIndex=r+1):(s.solveState=1,s.rubiksIndex=0,s.currentFunc="Solving",s.moveSet=["stop"]),s},kf=0,Of=.1,Nf=1,Ff=2,If=3,Bf=4,zf=5,jf=6,Uf=7;const Hf=function(e,t,n,i,r,o,s,a,l){switch(e){case kf:return Sf(t,n,i,o,s);case Of:return Df(t,n,i,a,o);case Nf:return Kp()(t,n,i,a);case Ff:return ef()(t,n,i,l);case If:return nf()(t,i,a,n);case Bf:return of()(t,i,a,n);case zf:return af()(t,i,a,n);case jf:return hf()(t,n,i,l);case Uf:return cf()(t,n,i,r,l);default:console.log("invalid solve state")}},Vf={generateSolved:function(e,t,n){const i=n,r=Math.floor(i/2),o=[],s=[],a=[],l=[],c=[[],[],[],[],[],[]],u=[[[],[],[],[]],[[],[],[],[]],[[],[],[],[]]];for(let h=0;h<t;h++)for(let s=n-1;s>=0;s--)for(let a=0;a<e;a++){let d="black",p="black",f="black",m="black",g="black",v="black",y=null,b=null;a===e-1?f="red":0===a&&(g="orange"),h===t-1?m="yellow":0===h&&(d="white"),s===n-1?p="blue":0===s&&(v="green");let x=0;0!==h&&h!==t-1||x++,0!==s&&s!==n-1||x++,0!==a&&a!==e-1||x++;let _="none";1===x?(_="middle",i%2&&(h===r&&s===r||h===r&&a===r||a===r&&s===r)&&(b="center"),0===h&&(c[0].push(o.length),b=c[0].length+1),h===t-1&&(c[1].push(o.length),b=c[1].length+1),s===n-1&&(c[2].push(o.length),b=c[2].length+1),0===a&&(c[3].push(o.length),b=c[3].length+1),0===s&&(c[4].push(o.length),b=c[4].length+1),a===e-1&&(c[5].push(o.length),b=c[5].length+1)):2===x?(_="edge",0===h?s===n-1?(e%2&&u[0][0].length+1===Math.floor(e/2)&&(y="center"),u[0][0].push(o.length)):a===e-1?(e%2&&u[0][1].length+1===Math.floor(e/2)&&(y="center"),u[0][1].push(o.length)):0===s?(e%2&&u[0][2].length+1===Math.floor(e/2)&&(y="center"),u[0][2].push(o.length)):0===a&&(e%2&&u[0][3].length+1===Math.floor(e/2)&&(y="center"),u[0][3].push(o.length)):h===t-1?s===n-1?(e%2&&u[1][0].length+1===Math.floor(e/2)&&(y="center"),u[1][0].push(o.length)):a===e-1?(e%2&&u[1][1].length+1===Math.floor(e/2)&&(y="center"),u[1][1].push(o.length)):0===s?(e%2&&u[1][2].length+1===Math.floor(e/2)&&(y="center"),u[1][2].push(o.length)):0===a&&(e%2&&u[1][3].length+1===Math.floor(e/2)&&(y="center"),u[1][3].push(o.length)):s===n-1&&0===a?(e%2&&u[2][0].length+1===Math.floor(e/2)&&(y="center"),u[2][0].push(o.length)):s===n-1&&a===e-1?(e%2&&u[2][1].length+1===Math.floor(e/2)&&(y="center"),u[2][1].push(o.length)):0===s&&a===e-1?(e%2&&u[2][2].length+1===Math.floor(e/2)&&(y="center"),u[2][2].push(o.length)):0===s&&0===a&&(e%2&&u[2][3].length+1===Math.floor(e/2)&&(y="center"),u[2][3].push(o.length))):3===x&&(_="corner",l.push(o.length)),o.push([d,p,f,m,g,v,a,h,s,a,h,s,_,y,b])}if(i>=6){let e=i-2-1;for(let t=3;t<6;t++){let n=[],o=[],s=0;for(let e=0;e<r-1;e++)o.push([]);o.forEach((o,a)=>{for(let l=0;l<=e;l++)for(let u=0;u<=e;u++)(l===a||e-l===a)&&u>=a&&u<=e-a?u!==0+a&&u!==e-a||!(u<Math.ceil(e/2)-1||u>Math.ceil(e/2)+(i%2?1:0))?o.push(c[t][s]):n.push(c[t][s]):(l>a&&e-l>a&&(u===a||u===e-a)||a===r-2&&l===u&&l===e/2)&&o.push(c[t][s]),s+=1;s=0});let a=o[o.length-1];o[o.length-1]=n,o.push(a),o.reverse(),c[t]=o.flat(2)}}for(let h=0;h<6;h++)for(let t=0;t<(e-2)*(e-2);t++)s.push(c[h][t]);for(let h=0;h<3;h++)for(let e=0;e<4;e++)a.push(...u[h][e]);return{tempArr:o,middles:s,edges:a,corners:l}},generateBlank:function(e,t,n){const i=e,r=Math.floor(i/2),o=[],s=[],a=[[],[],[],[],[],[]],l=[[[],[],[],[]],[[],[],[],[]],[[],[],[],[]]];for(let c=0;c<t;c++)for(let u=n-1;u>=0;u--)for(let h=0;h<e;h++){let d="black",p="black",f="black",m="black",g="black",v="black",y=null,b=null;h===e-1?f="red":0===h&&(g="orange"),c===t-1?m="yellow":0===c&&(d="white"),u===n-1?p="blue":0===u&&(v="green");let x=0;0!==c&&c!==t-1||x++,0!==u&&u!==n-1||x++,0!==h&&h!==e-1||x++;let _="none";1===x?(_="middle",i%2&&(c===r&&u===r||c===r&&h===r||h===r&&u===r)&&(b="center"),0===c&&(a[0].push(o.length),b=a[0].length+1),c===t-1&&(a[1].push(o.length),b=a[1].length+1),u===n-1&&(a[2].push(o.length),b=a[2].length+1),0===h&&(a[3].push(o.length),b=a[3].length+1),0===u&&(a[4].push(o.length),b=a[4].length+1),h===e-1&&(a[5].push(o.length),b=a[5].length+1)):2===x?(_="edge",0===c?u===n-1?(e%2&&l[0][0].length+1===Math.floor(e/2)&&(y="center"),l[0][0].push(o.length)):h===e-1?(e%2&&l[0][1].length+1===Math.floor(e/2)&&(y="center"),l[0][1].push(o.length)):0===u?(e%2&&l[0][2].length+1===Math.floor(e/2)&&(y="center"),l[0][2].push(o.length)):0===h&&(e%2&&l[0][3].length+1===Math.floor(e/2)&&(y="center"),l[0][3].push(o.length)):c===t-1?u===n-1?(e%2&&l[1][0].length+1===Math.floor(e/2)&&(y="center"),l[1][0].push(o.length)):h===e-1?(e%2&&l[1][1].length+1===Math.floor(e/2)&&(y="center"),l[1][1].push(o.length)):0===u?(e%2&&l[1][2].length+1===Math.floor(e/2)&&(y="center"),l[1][2].push(o.length)):0===h&&(e%2&&l[1][3].length+1===Math.floor(e/2)&&(y="center"),l[1][3].push(o.length)):u===n-1&&0===h?(e%2&&l[2][0].length+1===Math.floor(e/2)&&(y="center"),l[2][0].push(o.length)):u===n-1&&h===e-1?(e%2&&l[2][1].length+1===Math.floor(e/2)&&(y="center"),l[2][1].push(o.length)):0===u&&h===e-1?(e%2&&l[2][2].length+1===Math.floor(e/2)&&(y="center"),l[2][2].push(o.length)):0===u&&0===h&&(e%2&&l[2][3].length+1===Math.floor(e/2)&&(y="center"),l[2][3].push(o.length))):3===x&&(_="corner",s.push(o.length)),o.push([d,p,f,m,g,v,h,c,u,h,c,u,_,y,b])}return o},generateButtonData:function(e){let t=Math.floor(e/2),n=Math.ceil(e/2);const i=["F","U","R","B","L","D"],r={center:[],single:[],multi:[]};e%2&&r.center.push({clockwise:{name:"C1",data:[0,-1,n,!1]},counter:{name:"C1'",data:[0,0,n,!1]}},{clockwise:{name:"C2",data:[1,-1,n,!1]},counter:{name:"C2'",data:[1,0,n,!1]}},{clockwise:{name:"C3",data:[2,-1,n,!1]},counter:{name:"C3'",data:[2,0,n,!1]}});for(let o=0;o<t;o++)for(let e=0;e<i.length;e++){let t=(o<10?"0":"")+(o+1)+i[e],n=(o<10?"0":"")+(o+1)+i[e].toLowerCase();r.single.push({clockwise:{face:i[e],name:t,data:[e,-1,o+1,!1]},counter:{face:i[e],name:t+"'",data:[e,0,o+1,!1]}}),o>0&&r.multi.push({clockwise:{face:i[e],name:n,data:[e,-1,o+1,!0]},counter:{face:i[e],name:n+"'",data:[e,0,o+1,!0]}})}return r},generateMoveHints:function(e,t){const n=[[],[],[],[],[],[]],i=new ri(1,1),r=new Zt({map:e,transparent:!0,color:"black",opacity:".8",side:2});for(let o=0;o<t;o++){let e=new ro,s=new ro;for(let n=0;n<4;n++)for(let a=0;a<t;a++){let l=new zn(i,r),c=new zn(i,r);0===n?(l.translateX(t-1-o),l.translateZ(t-1+.51),l.translateY(t-1-a),c.translateX(t-1-o),c.translateZ(t-1+.51),c.translateY(t-1-a),c.rotateZ(Math.PI)):1===n?(l.translateX(t-1-o),l.translateZ(t-1-a),l.translateY(t-1+.51),l.rotateX(Math.PI/2),l.rotateZ(Math.PI),c.translateX(t-1-o),c.translateZ(t-1-a),c.translateY(t-1+.51),c.rotateX(Math.PI/2)):2===n?(l.translateX(t-1-o),l.translateZ(-.51),l.translateY(t-1-a),l.rotateX(Math.PI),c.translateX(t-1-o),c.translateZ(-.51),c.translateY(t-1-a)):3===n&&(l.translateX(t-1-o),l.translateZ(t-1-a),l.translateY(-.51),l.rotateX(-Math.PI/2),l.rotateZ(Math.PI),c.translateX(t-1-o),c.translateZ(t-1-a),c.translateY(-.51),c.rotateX(-Math.PI/2)),e.add(l),s.add(c)}e.visible=!1,s.visible=!1,n[2].push(e),n[5].push(s)}for(let o=0;o<t;o++){let e=new ro,s=new ro;for(let n=0;n<4;n++)for(let a=0;a<t;a++){let l=new zn(i,r),c=new zn(i,r);0===n?(l.translateX(t-1-a),l.translateZ(t-1+.51),l.translateY(o),l.rotateZ(-Math.PI/2),c.translateX(t-1-a),c.translateZ(t-1+.51),c.translateY(o),c.rotateX(Math.PI),c.rotateZ(Math.PI/2)):1===n?(l.translateX(t-1+.51),l.translateZ(t-1-a),l.translateY(o),l.rotateX(Math.PI/2),l.rotateZ(Math.PI),l.rotateY(Math.PI/2),c.translateX(t-1+.51),c.translateZ(t-1-a),c.translateY(o),c.rotateX(Math.PI/2),c.rotateY(Math.PI/2)):2===n?(l.translateX(t-1-a),l.translateZ(-.51),l.translateY(o),l.rotateX(Math.PI),l.rotateZ(Math.PI/2),c.translateX(t-1-a),c.translateZ(-.51),c.translateY(o),c.rotateZ(-Math.PI/2)):3===n&&(l.translateX(-.51),l.translateZ(t-1-a),l.translateY(o),l.rotateX(-Math.PI/2),l.rotateZ(Math.PI),l.rotateY(-Math.PI/2),c.translateX(-.51),c.translateZ(t-1-a),c.translateY(o),c.rotateX(-Math.PI/2),c.rotateY(Math.PI/2)),e.add(l),s.add(c)}e.visible=!1,s.visible=!1,n[0].push(e),n[3].push(s)}for(let o=0;o<t;o++){let e=new ro,s=new ro;for(let n=0;n<4;n++)for(let a=0;a<t;a++){let l=new zn(i,r),c=new zn(i,r);0===n?(l.translateX(t-1-a),l.translateZ(t-1-o),l.translateY(t-1+.51),l.rotateZ(-Math.PI/2),l.rotateY(Math.PI/2),c.translateX(t-1-a),c.translateZ(t-1-o),c.translateY(t-1+.51),c.rotateX(Math.PI),c.rotateZ(Math.PI/2),c.rotateY(Math.PI/2)):1===n?(l.translateX(t-1+.51),l.translateZ(t-1-o),l.translateY(t-1-a),l.rotateZ(Math.PI),l.rotateY(Math.PI/2),c.translateX(t-1+.51),c.translateZ(t-1-o),c.translateY(t-1-a),c.rotateY(Math.PI/2)):2===n?(l.translateX(t-1-a),l.translateZ(t-1-o),l.translateY(-.51),l.rotateX(Math.PI/2),l.rotateZ(Math.PI/2),c.translateX(t-1-a),c.translateZ(t-1-o),c.translateY(-.51),c.rotateX(Math.PI/2),c.rotateZ(-Math.PI/2)):3===n&&(l.translateX(-.51),l.translateZ(t-1-o),l.translateY(t-1-a),l.rotateX(Math.PI),l.rotateZ(Math.PI),l.rotateY(-Math.PI/2),c.translateX(-.51),c.translateZ(t-1-o),c.translateY(t-1-a),c.rotateX(-Math.PI),c.rotateY(Math.PI/2)),e.add(l),s.add(c)}e.visible=!1,s.visible=!1,n[1].push(e),n[4].push(s)}return n},rotatePoint:function(e,t,n,i,r,o){let s=o*Math.PI/180;return n<0&&(s*=-1),{p1:Math.cos(s)*(i-e)-Math.sin(s)*(r-t)+e,p2:Math.sin(s)*(i-e)+Math.cos(s)*(r-t)+t}},rotatePieces:function(e,t,n,i){let r=n.cubeDimension/2-.5,o=n.cubes,s=n.turnDirection,a=n.speed,l=n.start,c=n.face,u=n.cubeDepth,h=n.isMulti;if(0===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||o[d].position.y>u-2)&&o[d].position.y<u){s<0?o[d].rotation.y+=.1745*a/10:o[d].rotation.y-=.1745*a/10;let t=e(r,r,s,o[d].position.x,o[d].position.z,a);l%90===0&&(t.p1=Math.round(t.p1),t.p2=Math.round(t.p2)),o[d].position.x=t.p1,o[d].position.z=t.p2}if(1===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||o[d].position.z<n.cubeDimension+1-u)&&o[d].position.z>n.cubeDimension-1-u){s<0?o[d].rotation.z-=.1745*a/10:o[d].rotation.z+=.1745*a/10;let t=e(r,r,s,o[d].position.x,o[d].position.y,10*a/10);l%90===0&&(t.p1=Math.round(t.p1),t.p2=Math.round(t.p2)),o[d].position.x=t.p1,o[d].position.y=t.p2}if(2===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||t[d].position.x<n.cubeDimension+1-u)&&o[d].position.x>n.cubeDimension-1-u){s<0?t[d].rotation.x-=.1745*a/10:t[d].rotation.x+=.1745*a/10;let n=e(r,r,s,t[d].position.y,t[d].position.z,10*a/10);l%90===0&&(n.p1=Math.round(n.p1),n.p2=Math.round(n.p2)),t[d].position.y=n.p1,t[d].position.z=n.p2}if(3===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||t[d].position.y<n.cubeDimension+1-u)&&o[d].position.y>n.cubeDimension-1-u){s<0?t[d].rotation.y+=.1745*a/10:t[d].rotation.y-=.1745*a/10;let n=e(r,r,s,t[d].position.x,t[d].position.z,10*a/10);l%90===0&&(n.p1=Math.round(n.p1),n.p2=Math.round(n.p2)),t[d].position.x=n.p1,t[d].position.z=n.p2}if(4===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||t[d].position.x>u-2)&&o[d].position.x<u){s<0?t[d].rotation.x-=.1745*a/10:t[d].rotation.x+=.1745*a/10;let n=e(r,r,s,t[d].position.y,t[d].position.z,10*a/10);l%90===0&&(n.p1=Math.round(n.p1),n.p2=Math.round(n.p2)),t[d].position.y=n.p1,t[d].position.z=n.p2}if(5===c)for(let d=0;d<n.rubiksObject.length;d++)if((h||t[d].position.z>u-2)&&o[d].position.z<u){s<0?t[d].rotation.z-=.1745*a/10:t[d].rotation.z+=.1745*a/10;let n=e(r,r,s,t[d].position.x,t[d].position.y,10*a/10);l%90===0&&(n.p1=Math.round(n.p1),n.p2=Math.round(n.p2)),t[d].position.x=n.p1,t[d].position.y=n.p2}return{start:l+a,reload:!0}},rotatePoint2:function(e,t,n,i,r){let o=Math.PI/2;return n<0&&(o*=-1),{p1:-Math.sin(o)*(r-t)+e,p2:Math.sin(o)*(i-e)+t}},rotateFace:function(e,t,n,i,r,o){let s=r,a=r/2-.5,l=[...o],c=90;if(t<0&&(c*=-1),0===e)for(let u=0;u<l.length;u++)if((i||l[u][7]>n-2)&&l[u][7]<n){let e=Vf.rotatePoint2(a,a,c,l[u][6],l[u][8]);if(l[u][6]=e.p1,l[u][8]=e.p2,0===t){let e=l[u][1];l[u][1]=l[u][2],l[u][2]=l[u][5],l[u][5]=l[u][4],l[u][4]=e}else{let e=l[u][1];l[u][1]=l[u][4],l[u][4]=l[u][5],l[u][5]=l[u][2],l[u][2]=e}}if(1===e)for(let u=0;u<l.length;u++)if((i||l[u][8]<s+1-n)&&l[u][8]>s-1-n){let e=Vf.rotatePoint2(a,a,c,l[u][6],l[u][7]);if(l[u][6]=e.p1,l[u][7]=e.p2,0===t){let e=l[u][3];l[u][3]=l[u][2],l[u][2]=l[u][0],l[u][0]=l[u][4],l[u][4]=e}else{let e=l[u][3];l[u][3]=l[u][4],l[u][4]=l[u][0],l[u][0]=l[u][2],l[u][2]=e}}if(2===e)for(let u=0;u<l.length;u++)if((i||l[u][6]<s+1-n)&&l[u][6]>s-1-n){let e=Vf.rotatePoint2(a,a,c,l[u][7],l[u][8]);if(l[u][7]=e.p1,l[u][8]=e.p2,0===t){let e=l[u][3];l[u][3]=l[u][5],l[u][5]=l[u][0],l[u][0]=l[u][1],l[u][1]=e}else{let e=l[u][3];l[u][3]=l[u][1],l[u][1]=l[u][0],l[u][0]=l[u][5],l[u][5]=e}}if(3===e)for(let u=0;u<l.length;u++)if((i||l[u][7]<s+1-n)&&l[u][7]>s-1-n){let e=Vf.rotatePoint2(a,a,c,l[u][6],l[u][8]);if(l[u][6]=e.p1,l[u][8]=e.p2,-1===t){let e=l[u][1];l[u][1]=l[u][4],l[u][4]=l[u][5],l[u][5]=l[u][2],l[u][2]=e}else{let e=l[u][1];l[u][1]=l[u][2],l[u][2]=l[u][5],l[u][5]=l[u][4],l[u][4]=e}}if(4===e)for(let u=0;u<l.length;u++)if((i||l[u][6]>n-2)&&l[u][6]<n){let e=Vf.rotatePoint2(a,a,c,l[u][7],l[u][8]);if(l[u][7]=e.p1,l[u][8]=e.p2,-1===t){let e=l[u][3];l[u][3]=l[u][1],l[u][1]=l[u][0],l[u][0]=l[u][5],l[u][5]=e}else{let e=l[u][3];l[u][3]=l[u][5],l[u][5]=l[u][0],l[u][0]=l[u][1],l[u][1]=e}}if(5===e)for(let u=0;u<l.length;u++)if((i||l[u][8]>n-2)&&l[u][8]<n){let e=Vf.rotatePoint2(a,a,c,l[u][6],l[u][7]);if(l[u][6]=e.p1,l[u][7]=e.p2,-1===t){let e=l[u][3];l[u][3]=l[u][4],l[u][4]=l[u][0],l[u][0]=l[u][2],l[u][2]=e}else{let e=l[u][3];l[u][3]=l[u][2],l[u][2]=l[u][0],l[u][0]=l[u][4],l[u][4]=e}}return l},rotateCubeFace:function(e,t,n,i,r,o,s,a,l){let c={};if(!r){let r="";r+=n<10?"0"+n:n,0===e?r+=i?"f":"F":1===e?r+=i?"u":"U":2===e?r+=i?"r":"R":3===e?r+=i?"b":"B":4===e?r+=i?"l":"L":5===e&&(r+=i?"d":"D"),-1===t&&(r+="'"),o&&o.length>0?c.moveLog=o+" "+r:c.moveLog=r,l>-1&&(c.solveMoves=s.length?s+" "+r:s+r)}return e>2&&-1===t?t=0:e>2&&0===t&&(t=-1),c.blockMoveLog=!1,c.face=e,c.turnDirection=t,c.end=a+90,c.cubeDepth=n,c.isMulti=i,c}},Wf=Vf,Gf={parseMoveArray:function(e){let t=e.shift(),n=0,i=-1,r=1,o=!1;if(t)return 4===t.length&&(i=0),r=parseInt(t.slice(0,2)),t.slice(2,3)===t.slice(2,3).toLowerCase()&&(o=!0),"U"===t.slice(2,3).toUpperCase()?n=1:"F"===t.slice(2,3).toUpperCase()?n=0:"B"===t.slice(2,3).toUpperCase()?n=3:"R"===t.slice(2,3).toUpperCase()?n=2:"L"===t.slice(2,3).toUpperCase()?n=4:"D"===t.slice(2,3).toUpperCase()&&(n=5),[n,i,r,o]},convertDataToMove:function(e){let t="",n=["F","U","R","B","L","D"];return t+=e[2].toString().length<2?"0".concat(e[2]):e[2],t+=e[3]?n[e[0]].toLowerCase():n[e[0]],-1===e[1]?t+="":t+="'",t},convertMoveToData:function(e){if(e.length<2)return!1;let t=[];return t.push(["F","U","R","B","L","D"].indexOf(e[2].toUpperCase())),e.length<4?t.push(-1):t.push(0),"0"===e[0]?t.push(parseInt(e[1])):t.push(parseInt(e.substring(0,2))),e[2].toUpperCase()===e[2]?t.push(!1):t.push(!0),t},moveStringToArray:function(e){let t=e.split(" "),n=[];for(let i=0;i<t.length;i++)if(4===t[i].length&&"2"===t[i].slice(3,4)){let e=t[i].slice(0,3);n.push(e),n.push(e)}else n.push(t[i]);return n},generateMove:function(e){let t=Math.ceil(e/2),n=Math.floor(6*Math.random()),i=Math.floor(2*Math.random()-1),r=Math.floor(2*Math.random()),o=1;return n>2&&e%2&&(t-=1),e>2&&(o=Math.floor(Math.random()*t)+1),1===o&&(r=0),o===Math.ceil(e/2)&&e%2&&(r=0),Gf.convertDataToMove([n,i,o,r])},equivalentMove(e,t){const n=e.split("");let i,r="";switch(i="0"===n[0]?t-parseInt(n[1])+1:t-parseInt(n[0]+n[1])+1,r+=i<10?`0${i}`:`${i}`,n[2]){case"F":r+="B";break;case"f":r+="b";break;case"U":r+="D";break;case"u":r+="d";break;case"R":r+="L";break;case"r":r+="l";break;case"B":r+="F";break;case"b":r+="f";break;case"L":r+="R";break;case"l":r+="r";break;case"D":r+="U";break;case"d":r+="u"}return n.length<4&&(r+="'"),r},checkMoveEquivalence(e,t,n){if(t.toLowerCase()===t)if(e.toLowerCase().slice(2)===t.slice(2)){if(parseInt(e.slice(0,2))<=parseInt(t.slice(0,2)))return!0}else if(Gf.equivalentMove(e,n).toLowerCase().slice(2)===t.slice(2)&&parseInt(Gf.equivalentMove(e,n).slice(0,2))<=parseInt(t.slice(0,2)))return!0;return e===t||Gf.equivalentMove(e,n)===t}},qf=Gf;const Xf=function(e,t){let n=t.map(e=>[...e]),i={...e},r="",o=null,s=null,a=0,l=!1,c=0,u=0;for("Color Picker"===i.currentFunc&&(i.solveState=0,i.currentFunc="Solving",i.rubiksObject=t.map(e=>[...e]));"Solving"===i.currentFunc;)if(i.moveSet&&i.moveSet.length){let e=i.cubeDimension,t=i.blockMoveLog,n=i.moveLog,r=i.solveMoves,o=i.rubiksObject,s=i.end,a=i.solveState,l=qf.parseMoveArray(i.moveSet),c=Wf.rotateCubeFace(...l,t,n,r,s,a);c.rubiksObject=Wf.rotateFace(c.face,c.turnDirection,c.cubeDepth,c.isMulti,e,o),i={...i,...c}}else{let e;if(o=i.rubiksIndex,o===s?a+=1:a=0,i.solveState>=1&&u++,e=Hf(i.solveState,i.rubiksObject,i.cubeDimension,qf.moveStringToArray,i.solveMoves,i.rubiksIndex,i.middles,i.edges,i.corners),e||(e={}),e.moveSet&&"stop"===e.moveSet[0]&&("Solving"===i.currentFunc?(e.solveMoves=i.solveMoves+` ${e.moveSet[0]}`,e.moveSet.pop()):e.moveSet.pop()),e.moveSet){let t=[];for(let n=0;n<e.moveSet.length;n++)""===e.moveSet[n]||" "===e.moveSet[n]||"N"===e.moveSet[n][0]||"'"===e.moveSet[n]||t.push(e.moveSet[n]);e.moveSet=t}u>500?(l=!0,e.currentFunc="None"):(a>10&&i.solveState<1||c>1e4||e.moveSet&&"error"===e.moveSet[0])&&(console.log("Solve State: ",i.solveState,"\nPiece attempts: ",a,"\nPiece: ",i.rubiksObject[i.middles[i.rubiksIndex]]),console.log(e),l=!0,e.currentFunc="None"),e.currentFunc&&"None"===e.currentFunc&&(r=i.solveMoves),c++,i={...i,...e},s=o}let h=r.split(" ");"N"!==h[0][0]&&"'"!==h[0][0]||h.shift();let d=[];h.forEach(e=>"'"===e[e.length-1]?d.push(e.replace("'","")):d.push(e+"'"));for(let m=0;m<d.length;m++)""!==d[m]&&" "!==d[m]&&"N"!==d[m][0]&&"'"!==d[m]&&void 0!==d[m]||d.splice(m,1);let p=Math.floor(i.cubeDimension/2);d=d.map(e=>{if("stop'"===e)return e;let t=qf.convertMoveToData(e);return parseInt(t[2])>p&&!t[3]?(t[2]=i.cubeDimension-t[2]+1,0===parseInt(t[0])?t[0]=3:1===parseInt(t[0])?t[0]=5:2===parseInt(t[0])?t[0]=4:3===parseInt(t[0])?t[0]=0:4===parseInt(t[0])?t[0]=2:5===parseInt(t[0])&&(t[0]=1),0===t[1]?t[1]=-1:t[1]=0,qf.convertDataToMove(t)):qf.convertDataToMove(t)});let f=0;for(;d.length!==f;){f=d.length;for(let e=0;e<d.length-2;e++)d[e].substring(0,3)===d[e+1].substring(0,3)&&d[e].length!==d[e+1].length&&d.splice(e,2);for(let e=0;e<d.length-2;e++)d[e]===d[e+1]&&d[e]===d[e+2]&&(3===d[e].length?d[e]+="'":d[e]=d[e].substring(0,3),d.splice(e+1,2))}return"stop'"===d[0]&&"stop'"===d[1]&&2===d.length&&(d=[]),e.cubeDimension<6&&i.rubiksObject.forEach(e=>{if(e.includes("middle"))return;let t=e.slice(0,6),n=t.filter(e=>"black"!==e),i=0;[e[6],e[7],e[8]].join("")!==[e[9],e[10],e[11]].join("")&&n.length>1&&(l=!0),"white"!==t[0]&&"black"!==t[0]||i++,"blue"!==t[1]&&"black"!==t[1]||i++,"red"!==t[2]&&"black"!==t[2]||i++,"yellow"!==t[3]&&"black"!==t[3]||i++,"orange"!==t[4]&&"black"!==t[4]||i++,"green"!==t[5]&&"black"!==t[5]||i++,i<6&&(l=!0)}),l?{moveSet:[...d],rubiksObject:n,solveable:!1,solvedSet:[...d],solvedSetIndex:0}:{moveSet:[...d],rubiksObject:n,solveable:!0,solvedSet:[...d],solvedSetIndex:0,tempObject:i.rubiksObject}},Yf={autoJump:function(e,t){let n={...e};for(n.moveSet=t;n.moveSet.length;){let e=n.cubeDimension,t=n.blockMoveLog,i=n.moveLog,r=n.solveMoves,o=n.rubiksObject,s=n.end,a=n.solveState,l=qf.parseMoveArray(n.moveSet),c=Wf.rotateCubeFace(...l,t,i,r,s,a);c.rubiksObject=Wf.rotateFace(c.face,c.turnDirection,c.cubeDepth,c.isMulti,e,o),n={...n,...c}}return[...n.rubiksObject]},setTarget:function(e,t){if(t.state.autoPlay||t.state.autoRewind);else if(parseInt(e.target.id)-t.state.solvedSetIndex===1)t.setState({targetSolveIndex:parseInt(e.target.id)}),t.playOne(t);else if(t.state.solvedSetIndex<=parseInt(e.target.id)){t.setState({targetSolveIndex:parseInt(e.target.id),autoTarget:!0});let n=t.state.solvedSet.slice(0,parseInt(e.target.id)),i=t.state.solvedSet.slice(parseInt(e.target.id),t.state.solvedSet.length),r=t.state.solvedSet.slice(t.state.solvedSetIndex,parseInt(e.target.id));t.setState({solvedSetIndex:parseInt(e.target.id),prevSet:n,moveSet:i,rubiksObject:Yf.autoJump(t.state,r)})}else if(t.state.solvedSetIndex>parseInt(e.target.id)){t.setState({targetSolveIndex:parseInt(e.target.id),autoTarget:!0});let n=t.state.solvedSet.slice(0,parseInt(e.target.id)),i=t.state.solvedSet.slice(parseInt(e.target.id),t.state.solvedSet.length),r=t.state.solvedSet.slice(parseInt(e.target.id),t.state.solvedSetIndex).map(e=>4===e.length?e.slice(0,3):e+"'");t.setState({solvedSetIndex:parseInt(e.target.id),prevSet:n,moveSet:i,rubiksObject:Yf.autoJump(t.state,r.reverse())})}},algoStart:function(e,t){let n=t.state.cubeDimension,i=e,r=[],o=Wf.generateSolved(n,n,n);"None Selected"!==i&&(r=$p.find(e=>e.name===i&&e.worksFor.includes(n)).moves.split(" ")),t.setState({activeAlgo:i,moveSet:[...r],rubiksObject:o.tempArr,solveable:!0,solvedSet:[...r],solvedSetIndex:0,prevSet:[],jumpToEnd:!0})}},$f=Yf;let{setTarget:Zf,algoStart:Jf}=$f;class Kf extends t.Component{constructor(e){super(e)}UNSAFE_componentWillReceiveProps(e){!0===e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoRewind:!1}),e.rewindOne()):!0===e.state.autoRewind&&e.state.solvedSetIndex<=e.state.targetSolveIndex&&e.setState({autoRewind:!1}),!0===e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoPlay:!1}),e.playOne(e)):!0===e.state.autoPlay&&e.state.solvedSetIndex>=e.state.targetSolveIndex&&e.setState({autoPlay:!1}),e.state.jumpToEnd&&e.setState({jumpToEnd:!1},Zf({target:{id:e.state.moveSet.length}},e))}componentDidMount(){let e=this.props.setState,t=this.props.state;t.solveOnce&&setTimeout(function(){e({...Xf(t,t.rubiksObject),solveOnce:!1})},50)}render(){let e=[],t=this.props.state.prevSet,n=this.props.state.moveSet,i=this.props.state.solveOnce?"Loading, please wait...":"Already Solved",r="Solving"===this.props.state.currentFunc?i:"None Selected",o=[(0,wc.jsx)("div",{onClick:e=>u(e,this.props,Zf),id:0,className:"solveMoveDiv jumper",children:"Top"},-1)];const s=e=>(e=e.toLowerCase()).includes("f")?"white":e.includes("r")?"red":e.includes("b")?"yellow":e.includes("l")?"orange":e.includes("d")?"green":void 0;this.props.state.solvedSet.length?this.props.state.solvedSet.forEach((t,n)=>t===this.props.state.solvedSet[n+1]?(0,wc.jsx)(wc.Fragment,{}):"stop'"===t?(e.push((0,wc.jsxs)("div",{style:{width:"100%"},children:[(0,wc.jsx)("hr",{style:{border:"1px solid lightblue",marginLeft:"5px"}},n),1===o.length?"Edges: ":"3x3: "]},n)),o.push(1===o.length?(0,wc.jsx)("div",{onClick:e=>u(e,this.props,Zf),id:n+1,className:"solveMoveDiv jumper",children:"Edge"},n):(0,wc.jsx)("div",{onClick:e=>u(e,this.props,Zf),id:n+1,className:"solveMoveDiv jumper",children:"3x3"},n))):t===this.props.state.solvedSet[n-1]?n===this.props.state.solvedSetIndex||n===this.props.state.solvedSetIndex+1&&t===this.props.state.solvedSet[n-1]?e.push((0,wc.jsx)("div",{id:n-1,className:`solveMoveDiv nextSolveIndex ${s(t)}`,children:t.replace("0"+t[1],t[1]).replace("'","")+"2"},n)):e.push((0,wc.jsx)("div",{onClick:e=>Zf(e,this.props),id:n-1,className:`solveMoveDiv ${s(t)}`,children:t.replace("0"+t[1],t[1]).replace("'","")+"2"},n)):n===this.props.state.solvedSetIndex||n===this.props.state.solvedSetIndex+1&&t===this.props.state.solvedSet[n-1]?e.push((0,wc.jsx)("div",{id:n,className:`solveMoveDiv nextSolveIndex ${s(t)}`,children:t.replace("0"+t[1],t[1])},n)):e.push((0,wc.jsx)("div",{onClick:e=>Zf(e,this.props),id:n,className:`solveMoveDiv ${s(t)}`,children:t.replace("0"+t[1],t[1])},n))):e.push(r),e.map(e=>(0,wc.jsx)(Zp.Ay,{height:"2rem",children:"el"}));let a=(0,wc.jsx)("div",{className:"previousMove",children:t.length-1>=0?"stop'"===t[t.length-1]?t[t.length-2]?t[t.length-2]===t[t.length-3]?t[t.length-2].replace("0"+t[t.length-2][1],t[t.length-2][1]).replace("'","")+2:t[t.length-2].replace("0"+t[t.length-2][1],t[t.length-2][1]):"-":t[t.length-1]===t[t.length-2]?t[t.length-1].replace("0"+t[t.length-1][1],t[t.length-1][1]).replace("'","")+2:t[t.length-1].replace("0"+t[t.length-1][1],t[t.length-1][1]):"-"}),l=(0,wc.jsx)("div",{className:"nextMove",children:n[0]&&"string"===typeof n[0][0]&&"'"!==n[0]?"stop'"===n[0]?n[1]?n[1]===n[2]?n[1].replace("0"+n[1][1],n[1][1]).replace("'","")+2:n[1].replace("0"+n[1][1],n[1][1]):"-":n[0]===n[1]?n[0].replace("0"+n[0][1],n[0][1]).replace("'","")+2:n[0].replace("0"+n[0][0],n[0][1]):"-"});function c(e){e.setState({autoPlay:!1,autoRewind:!1})}function u(e,t,n){t.setState({autoScroll:!0}),n(e,t)}function h(e,t){switch(t.state.currentFunc){case"Solving":document.querySelector(".warningPopupSolver").style.visibility="visible",document.querySelector(".warningPopupSolver").style.width="100%",document.querySelector(".solverInterface").style.display="none",document.querySelector(".exitDiv").style.display="none";break;case"Algorithms":t.setState({activeMenu:"",currentFunc:"Reset",solvedSet:[],hoverData:[],prevSet:[],moveSet:[],isValidConfig:!1,targetSolveIndex:-1,solveMoves:"",autoPlay:!1,autoRewind:!1,autoTarget:!1,playOne:!1,activeAlgo:"none"});break;default:t.setState({activeMenu:"",currentFunct:"None"})}}return(0,wc.jsx)("div",{className:"solverUIWrapper",children:(0,wc.jsxs)(mp,{style:{width:"100%",height:"100%",margin:0},children:[(0,wc.jsx)(vp,{id:this.props.mobile||"Algorithms"!==this.props.state.currentFunc?"":"centerControls2",style:{paddingLeft:"0px"},children:this.props.mobile?(0,wc.jsx)(wc.Fragment,{children:"Algorithms"===this.props.state.currentFunc?(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)(mp,{style:{paddingLeft:"15px"},children:(0,wc.jsx)("select",{style:{color:"lightgrey",backgroundColor:"#343a40"},id:"patterns",onChange:e=>Jf(e.target.value,this.props),children:$p.map(e=>e.worksFor.includes(this.props.state.cubeDimension)?(0,wc.jsx)("option",{className:"mobileAlgo",id:e.name,value:e.name,children:e.name},e.name):"")})}),(0,wc.jsx)(mp,{style:{paddingLeft:"15px"},children:(0,wc.jsx)("div",{className:"algoMoves",children:e})})]}):(0,wc.jsx)(wc.Fragment,{children:(0,wc.jsx)("div",{className:"solverMovesMobile",children:e})})}):(0,wc.jsx)(wc.Fragment,{children:(0,wc.jsx)("div",{className:"solverMoves",children:e})})}),(0,wc.jsxs)(vp,{id:this.props.mobile||"Algorithms"!==this.props.state.currentFunc?"centerControlsOther":"centerControls",style:{paddingRight:0,paddingLeft:0,maxWidth:"300px"},children:[(0,wc.jsxs)("div",{className:"warningPopupSolver",children:[(0,wc.jsx)("div",{id:"solverChangeData",data:""}),this.props.mobile?(0,wc.jsx)("div",{className:"solverMessage",children:" Progress will not be saved."}):(0,wc.jsx)("div",{className:"solverMessage",children:" Are you sure you want to leave Solver? Progress will not be saved."}),(0,wc.jsx)("button",{onClick:function(){document.querySelector(".warningPopupSolver").style.visibility="hidden",document.querySelector(".solverInterface").style.display="block",document.querySelector(".exitDiv").style.display="block"},className:"solverLeaveStay",children:"Stay"}),(0,wc.jsx)("button",{onClick:e=>function(e,t){if(e.stopPropagation(),t.stopSolve(),document.querySelector(".activeMenu")&&document.querySelector(".activeMenu").classList.remove("activeMenu"),document.querySelector("#solverChangeData").data){let e=document.querySelector("#solverChangeData").data.split(",");if("ColorPicker"===e[0])return t.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1}),void(document.querySelector("#solverChangeData").data="");document.querySelector(`#${e[0]}`).classList.add("activeMenu"),t.setState({activeMenu:e[0],currentFunct:e[1],isValidConfig:!1}),document.querySelector("#solverChangeData").data=""}else t.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1})}(e,this.props),className:"solverLeaveStay",children:"Leave"})]}),(0,wc.jsxs)("div",{className:"solverInterface",children:[(0,wc.jsx)("div",{className:"solverButtonDiv rewindOne",children:(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>this.props.rewindOne(this.props),children:["Previous ",a]})}),(0,wc.jsx)("div",{className:"solverButtonDiv playOne",children:(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>this.props.playOne(this.props),children:["Next ",l]})}),(0,wc.jsx)("div",{className:"solverButtonDiv rewindAll",children:this.props.state.autoRewind?(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>c(this.props),children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Pause"})," Solver"]}):(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>{this.props.setState({autoPlay:!1,autoRewind:!0,targetSolveIndex:0})},children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Auto"})," Rewind"]})}),(0,wc.jsx)("div",{className:"solverButtonDiv fastforward",children:this.props.state.autoPlay?(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>c(this.props),children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Pause"})," Solver"]}):(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>{var e;(e=this.props).state.moveSet.length&&(1===e.state.moveSet.length?e.playOne(e):e.setState({autoPlay:!0,autoRewind:!1,targetSolveIndex:e.state.solvedSet.length}))},children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Auto"})," Forward"]})})]}),(0,wc.jsx)("div",{className:"exitDiv",style:{width:"100%",height:"25%"},children:"Solving"===this.props.state.currentFunc?(0,wc.jsx)(wc.Fragment,{children:(0,wc.jsx)("button",{id:"Solver",data:"Solving",onClick:e=>h(0,this.props),className:"exitButton",children:"Exit"})}):(0,wc.jsx)("button",{id:"Algorithms",data:"Algorithms",onClick:e=>h(0,this.props),className:"exitButton",children:"Exit"})})]})]})})}}const Qf=t.memo(Kf),em=e=>{const t=e.color.charAt(0).toUpperCase()+e.color.slice(1),n=e.color===e.colorPicked?"":e.color;return(0,wc.jsx)("div",{onClick:e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},className:`${e.side?"bottomColorButtonDiv":"colorButtonDiv"} ${e.index%2?"leftCp":"rightCp"}`,children:(0,wc.jsx)("button",{className:`colorPicker ${n}`,style:{backgroundColor:n?"rgba(0,0,255,.10)":`rgba(${{white:[255,255,255],blue:[0,0,255],red:[255,0,0],yellow:[255,255,0],orange:[255,165,0],green:[0,255,0]}[e.color]},.5)`,color:e.color},onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),e.changeColor(e.color)},children:e.isMobile?t:`${e.index}. ${t}`})})},tm=e=>{const[n,i]=(0,t.useState)("Solve"),[r,o]=(0,t.useState)("Check");return(0,wc.jsxs)(mp,{className:"cp-container",style:{height:"98%",width:"100%",overflowX:"hidden!important",overflowY:"hidden!important",margin:"0px"},children:[(0,wc.jsx)(vp,{children:(0,wc.jsxs)("div",{className:"cpInfo",children:[e.isValidConfig?(0,wc.jsx)("div",{className:"solveCpDiv",children:(0,wc.jsx)("button",{className:"solveCp",onClick:()=>(i("Configuring..."),void setTimeout(function(){e.setColorPickedCube()},100)),children:(0,wc.jsx)("strong",{style:{fontSize:"1rem"},children:n})})}):e.cpErrors.length?[]:(0,wc.jsx)("div",{className:"checkCpDiv",children:(0,wc.jsx)("button",{className:"checkCp",onClick:()=>(o("Checking..."),void setTimeout(function(){e.runCheckColors(),o("Check")},100)),children:(0,wc.jsx)("strong",{style:{fontSize:"1rem"},children:r})})}),(0,wc.jsx)("div",{className:"cpErrorContainer",children:e.state.cpErrors.map((e,t)=>(0,wc.jsx)("p",{className:"cpErrorMessage",children:"- "+e},t))})]})}),(0,wc.jsxs)(vp,{style:{padding:"0px"},children:[(0,wc.jsxs)("div",{className:"warningPopup",children:[(0,wc.jsx)("div",{id:"cpChangeData",data:""}),e.isMobile?(0,wc.jsx)("div",{className:"cpMessage",children:"Progress will not be saved."}):(0,wc.jsx)("div",{className:"cpMessage",children:"Are you sure you want to leave Color Picker? Progress will not be saved."}),(0,wc.jsx)("button",{onClick:function(){document.querySelector(".warningPopup").style.display="none",document.querySelector(".colorButtonContainer").style.visibility="visible"},className:"cpLeaveStay",children:"Stay"}),(0,wc.jsx)("button",{onClick:function(){if(e.endColorPicker(),document.querySelector(".activeMenu")&&document.querySelector(".activeMenu").classList.remove("activeMenu"),document.querySelector("#cpChangeData").data){let t=document.querySelector("#cpChangeData").data.split(",");if("Solver"===t[0])return e.setState({activeMenu:"",currentFunc:"None",isValidConfig:!1}),void(document.querySelector("#cpChangeData").data="");document.querySelector(`#${t[0]}`).classList.add("activeMenu"),document.querySelector("#cpChangeData").data="",e.setState({activeMenu:t[0],currentFunc:t[1],isValidConfig:!1},()=>e.beginSolve())}else e.setState({activeMenu:"",currentFunc:"None",isValidConfig:!1})},className:"cpLeaveStay",children:"Leave"})]}),(0,wc.jsxs)("div",{className:"colorButtonContainer",children:[["white","blue","red","yellow","orange","green"].map((t,n)=>(0,wc.jsx)(em,{index:n+1,color:t,colorPicked:e.colorPicked,changeColor:e.changeColor,isMobile:e.isMobile},t)),(0,wc.jsx)("div",{className:"colorButtonDiv",style:{paddingBottom:"0px",width:"100%"},children:(0,wc.jsx)("button",{id:"ColorPicker",data:"Color Picker",onClick:function(e){document.querySelector(".warningPopup").style.display="flex",document.querySelector(".warningPopup").style.width="100%",document.querySelector(".colorButtonContainer").style.visibility="hidden"},className:"colorPicker activeMenu exitButton",children:"Exit"})})]})]})]})};class nm extends t.Component{constructor(e){super(e)}shouldComponentUpdate(e,t){return this.props.state.solvedSet!==e.state.solvedSet||(this.props.state.currentFunc!==e.state.currentFunc||(this.props.state.activeAlgo!==e.state.activeAlgo||(this.props.state.activeAlgo!==e.state.activeAlgo||this.props.state.solvedSetIndex!==e.state.solvedSetIndex||!this.props.state.autoRewind&&!this.props.state.autoPlay||this.props.state.autoRewind!==e.state.autoRewind||this.props.state.autoPlay!==e.state.autoPlay)&&(this.props.state.solvedSetIndex!==e.state.solvedSetIndex||(!!(e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex-1)||(!!(e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex-1)||(!(e.state.autoRewind||!this.props.state.autoRewind)||(!(e.state.autoPlay||!this.props.state.autoPlay)||!(this.props.state.activeMenu===e.state.activeMenu&&this.props.state.colorPicked===e.state.colorPicked&&this.props.state.currentFunc===e.state.currentFunc&&this.props.state.isValidConfig===e.state.isValidConfig&&this.props.cpErrors===e.cpErrors&&this.props.state.solveTime===e.state.solveTime&&this.props.state.playOne===e.state.playOne&&!this.props.state.autoPlay)&&(!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoPlay&&this.props.state.solvedSetIndex<this.props.state.targetSolveIndex)&&!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoRewind&&this.props.state.solvedSetIndex>=this.props.state.targetSolveIndex)))))))))}render(){const e=$p.filter(e=>e.worksFor.includes(this.props.state.cubeDimension)).length;function t(e,t){switch(e.target.id){case"Reset":t.setState({activeMenu:"",currentFunc:"Reset"});break;case"Scramble":"None"===t.state.currentFunc&&t.beginScramble();break;default:t.setState({activeMenu:e.target.id,currentFunc:"None"})}}function n(e,t){"None"===t.state.currentFunc&&("ColorPicker"===e.target.id?(t.setState({activeMenu:e.target.id,isValidConfig:!0}),t.beginColorPicker()):"Solver"===e.target.id?(t.setState({activeMenu:e.target.id}),t.beginSolve()):"Algorithms"===e.target.id&&t.setState({activeMenu:e.target.id,currentFunc:"Algorithms",solveOnce:!1,solvedSet:[],prevSet:[],moveSet:[]}))}return(0,wc.jsx)("div",{className:"menuWrapper",children:"None"!==this.props.state.currentFunc&&"Drag Turn"!==this.props.state.currentFunc&&"Undo"!==this.props.state.currentFunc&&"Redo"!==this.props.state.currentFunc&&"Scrambling"!==this.props.state.currentFunc||"Moves"===this.props.state.activeMenu?"Color Picker"===this.props.state.currentFunc?(0,wc.jsx)(tm,{...this.props,isMobile:!0}):"Solving"===this.props.state.currentFunc?(0,wc.jsx)(Qf,{...this.props,mobile:!0}):"Algorithms"===this.props.state.currentFunc?(0,wc.jsx)(wc.Fragment,{children:(0,wc.jsx)(Qf,{...this.props,mobile:!0})}):"Moves"===this.props.state.activeMenu?(0,wc.jsxs)(mp,{style:{height:"100%"},children:[(0,wc.jsx)(vp,{xs:2,children:(0,wc.jsx)("div",{id:"infoBtn",style:{fontSize:"2rem",padding:0,display:"inline"},onClick:()=>{this.props.setState({activeMenu:""})},children:"\u2190"})}),(0,wc.jsx)(vp,{xs:10,children:(0,wc.jsx)(op,{...this.props})})]}):(0,wc.jsx)(wc.Fragment,{}):(0,wc.jsxs)(mp,{style:{width:"100%",height:"100%",margin:0},children:[(0,wc.jsxs)(vp,{xs:6,style:{paddingRight:"7.5px"},children:[this.props.state.cubeDimension<=100?(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("button",{className:"mobileButton",id:"ColorPicker",data:"Color Picker",onClick:e=>n(e,this.props),children:"Color Picker"},1),(0,wc.jsx)("button",{className:"mobileButton",id:"Solver",data:"Solving",onClick:e=>n(e,this.props),children:"Solver"},2)]}):(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("button",{className:"blankButton"},1),(0,wc.jsx)("button",{className:"blankButton"},2)]}),e?(0,wc.jsx)("button",{className:"mobileButton",id:"Algorithms",data:"Algorithms",onClick:e=>n(e,this.props),children:"Patterns"},3):""]}),(0,wc.jsxs)(vp,{xs:6,style:{paddingLeft:"7.5px"},children:[this.props.state.cubeDimension<1?(0,wc.jsx)("button",{className:"mobileButton",onClick:()=>t,children:"Moves"},0):(0,wc.jsx)("button",{className:"blankButton"},0),(0,wc.jsx)("button",{className:"mobileButton",id:"Scramble",onClick:e=>t(e,this.props),children:"Scramble"},2),(0,wc.jsx)("button",{className:"mobileButton",id:"Reset",onClick:e=>t(e,this.props),children:"Reset"},3)]})]})})}}const im=nm,rm=e=>{let t=$p.filter(t=>t.worksFor.includes(e.state.cubeDimension)).map(t=>(0,wc.jsx)("button",{id:t.name,className:e.state.activeAlgo===t.name?"algoButton algoActive":"algoButton",onClick:t=>function(e,t){if(t.state.autoPlay||t.state.autoRewind||t.state.playOne)return;let n=t.state.cubeDimension,i=e.target.id,r=[],o=Wf.generateSolved(n,n,n);$p.forEach(e=>{e.moves&&e.name===i&&e.worksFor.includes(n)&&r.push(...e.moves.split(" "))}),t.setState({activeAlgo:i,moveSet:[...r],rubiksObject:o.tempArr,solveable:!0,solvedSet:[...r],solvedSetIndex:0,prevSet:[],autoPlay:!1,autoRewind:!1,autoTarget:!1,playOne:!1,jumpToEnd:!0})}(t,e),children:t.name},t.name));const n=(0,wc.jsxs)(wc.Fragment,{children:[e.state.cubeDimension<=100?(0,wc.jsx)("button",{id:"ColorPicker",data:"Color Picker",onClick:i,className:"leftButton",children:"Color Picker"},"Color Picker"):(0,wc.jsx)("button",{className:"leftButton invis"}),e.state.cubeDimension<=100?(0,wc.jsx)("button",{id:"Solver",data:"Solving",onClick:i,className:"leftButton",children:"Solver"},"Soler"):(0,wc.jsx)("button",{className:"leftButton invis"}),t.length?(0,wc.jsx)("button",{id:"Algorithms",data:"None",onClick:i,className:"leftButton",children:"Patterns"},"Algorithms"):(0,wc.jsx)("button",{className:"leftButton invis"})]});function i(t){"None"===e.state.currentFunc&&("ColorPicker"===t.target.id?(e.setState({activeMenu:t.target.id,isValidConfig:!0}),e.beginColorPicker()):"Solver"===t.target.id?e.setState({activeMenu:t.target.id},e.beginSolve()):"Algorithms"===t.target.id?(console.log(e.state.currentFunc),e.setState({activeMenu:t.target.id,currentFunc:"Algorithms",solveOnce:!1,solvedSet:[],prevSet:[],moveSet:[],activeAlgo:""})):e.setState({activeMenu:t.target.id,currentFunc:"None"}))}return(0,wc.jsx)("div",{className:"menuOptionsWrapper",children:"Solving"===e.state.currentFunc?[]:"Color Picker"===e.state.currentFunc?(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("div",{style:{paddingTop:"45%"}}),(0,wc.jsx)("button",{id:"ColorPicker",data:"Color Picker",onClick:i,className:"cpButton activeMenu",children:"Exit"},"Color Picker")]}):"Algorithms"===e.state.currentFunc?(0,wc.jsx)("div",{className:"algoList",children:t}):n})},om=t.memo(rm),sm=e=>{const t=(0,wc.jsxs)(wc.Fragment,{children:[(0,wc.jsx)("button",{className:"rightButton invis"},"Blank"),(0,wc.jsx)("button",{id:"Scramble",onClick:n,className:"rightButton scramble",children:"Scramble"},"Scramble"),(0,wc.jsx)("button",{id:"Reset",onClick:n,className:"rightButton reset",children:"Reset"},"Reset")]});function n(t){switch(t.target.id){case"Reset":e.setState({activeMenu:"",currentFunc:"Reset"});break;case"Scramble":"None"===e.state.currentFunc&&e.beginScramble();break;default:e.setState({activeMenu:t.target.id,currentFunc:"None"})}}return(0,wc.jsx)("div",{className:"menuOptionsWrapper",style:{float:"right"},children:"Solving"===e.state.currentFunc||"Color Picker"===e.state.currentFunc||"Algorithms"===e.state.currentFunc?(0,wc.jsx)(wc.Fragment,{children:(0,wc.jsx)("div",{style:{paddingTop:"45%"}})}):t})},am=t.memo(sm);class lm extends t.Component{constructor(e){super(e)}shouldComponentUpdate(e,t){return this.props.state.upDateCp!==e.state.upDateCp||(this.props.state.solvedSet!==e.state.solvedSet||(this.props.state.currentFunc!==e.state.currentFunc||(this.props.state.activeAlgo!==e.state.activeAlgo||(this.props.state.activeAlgo!==e.state.activeAlgo||this.props.state.solvedSetIndex!==e.state.solvedSetIndex||!this.props.state.autoRewind&&!this.props.state.autoPlay||this.props.state.autoRewind!==e.state.autoRewind||this.props.state.autoPlay!==e.state.autoPlay)&&(this.props.state.solvedSetIndex!==e.state.solvedSetIndex||(!!(e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex-1)||(!!(e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex-1)||(!(e.state.autoRewind||!this.props.state.autoRewind)||(!(e.state.autoPlay||!this.props.state.autoPlay)||!(this.props.state.activeMenu===e.state.activeMenu&&this.props.state.colorPicked===e.state.colorPicked&&this.props.state.currentFunc===e.state.currentFunc&&this.props.state.isValidConfig===e.state.isValidConfig&&this.props.cpErrors===e.cpErrors&&this.props.state.solveTime===e.state.solveTime&&this.props.state.playOne===e.state.playOne&&!this.props.state.autoPlay)&&(!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoPlay&&this.props.state.solvedSetIndex<this.props.state.targetSolveIndex)&&!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoRewind&&this.props.state.solvedSetIndex>=this.props.state.targetSolveIndex))))))))))}render(){let e;switch(this.props.state.activeMenu){case"Moves":e=(0,wc.jsx)(op,{...this.props});break;case"ColorPicker":e=(0,wc.jsx)(tm,{...this.props});break;case"Solver":case"Algorithms":e=(0,wc.jsx)(Qf,{...this.props});break;default:e=""}return(0,wc.jsx)("div",{className:"menuWrapper",style:{pointerEvents:"none"},children:(0,wc.jsxs)(mp,{style:{height:"100%",margin:"0px"},children:["ColorPicker"===this.props.state.activeMenu||"Solver"===this.props.state.activeMenu?[]:[(0,wc.jsx)(vp,{style:{paddingLeft:"0px"},children:(0,wc.jsx)(om,{...this.props})},"MenuOptions"),(0,wc.jsx)(vp,{style:{padding:0,color:"black",opacity:0},xs:.5,children:"."},"MenuOptionsPadding")],(0,wc.jsx)(vp,{id:"menuBox",style:{position:"relative",bottom:"0",height:"100%"},xs:"Color Picker"===this.props.state.currentFunc||"Solver"===this.props.state.activeMenu?12:"None"===this.props.state.currentFunc||"Scrambling"===this.props.state.currentFunc||"Reset"===this.props.state.currentFunc?4:8,children:e}),"ColorPicker"===this.props.state.activeMenu||"Solver"===this.props.state.activeMenu||"Algorithms"===this.props.state.activeMenu?[]:[(0,wc.jsx)(vp,{style:{padding:0,color:"black",opacity:0},xs:.5,children:"."},"MenuOptionsOther"),(0,wc.jsx)(vp,{style:{paddingLeft:"0px",minWidth:"150px",paddingRight:"0px"},children:(0,wc.jsx)(am,{...this.props})},"MenuOptionsOtherPadding")]]})})}}const cm=t.memo(lm),um=e=>{const[n,i]=(0,t.useState)("Solve"),[r,o]=(0,t.useState)("Check");return(0,wc.jsx)("div",{className:"sideMenuBox0 sideLimit",children:(0,wc.jsx)("div",{className:"sideMenuBox1",children:(0,wc.jsxs)("div",{className:"cpInfo",style:{width:"100%"},children:[e.isValidConfig?(0,wc.jsx)("div",{className:"solveCpDiv",children:(0,wc.jsx)("button",{className:"solveCp",onClick:()=>{i("Configuring..."),setTimeout(function(){document.querySelector(".warningPopup").style.display="none",document.querySelector(".bottomExitDiv").style.visibility="visible",e.setColorPickedCube()},100)},children:(0,wc.jsx)("strong",{style:{fontSize:"1rem"},children:n})})}):e.cpErrors.length?[]:(0,wc.jsx)("div",{className:"checkCpDiv",children:(0,wc.jsx)("button",{className:"checkCp",onClick:()=>{o("Checking..."),setTimeout(function(){e.runCheckColors(),o("Check")},100)},children:(0,wc.jsx)("strong",{style:{fontSize:"1rem"},children:r})})}),(0,wc.jsx)("div",{className:"cpErrorContainer",children:e.state.cpErrors.map((e,t)=>(0,wc.jsx)("p",{className:"cpErrorMessage",children:"- "+e},t))})]})})})};let{setTarget:hm,algoStart:dm}=$f;class pm extends t.Component{constructor(e){super(e)}UNSAFE_componentWillReceiveProps(e){!0===e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoRewind:!1}),e.rewindOne()):!0===e.state.autoRewind&&e.state.solvedSetIndex<=e.state.targetSolveIndex&&e.setState({autoRewind:!1}),!0===e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoPlay:!1}),e.playOne(e)):!0===e.state.autoPlay&&e.state.solvedSetIndex>=e.state.targetSolveIndex&&e.setState({autoPlay:!1}),e.state.jumpToEnd&&e.setState({jumpToEnd:!1},hm({target:{id:e.state.moveSet.length}},e))}componentDidMount(){let e=this.props.setState,t=this.props.state;t.solveOnce&&setTimeout(function(){e({...Xf(t,t.rubiksObject),solveOnce:!1})},50)}render(){let e=[],t=this.props.state.solveOnce?"Loading, please wait...":"Already Solved",n="Solving"===this.props.state.currentFunc?t:"None Selected",i=[(0,wc.jsx)("div",{onClick:e=>s(e,this.props,hm),id:0,className:"solveMoveDiv jumper",children:"Top"},-1)];const r=e=>(e=e.toLowerCase()).includes("f")?"white":e.includes("r")?"red":e.includes("b")?"yellow":e.includes("l")?"orange":e.includes("d")?"green":void 0;this.props.state.solvedSet.length?this.props.state.solvedSet.forEach((t,n)=>t===this.props.state.solvedSet[n+1]?(0,wc.jsx)(wc.Fragment,{}):"stop'"===t?(e.push((0,wc.jsxs)("div",{style:{width:"100%"},children:[(0,wc.jsx)("hr",{style:{border:"1px solid lightblue",marginLeft:"5px"}},n),1===i.length?"Edges: ":"3x3: "]},n)),i.push(1===i.length?(0,wc.jsx)("div",{onClick:e=>s(e,this.props,hm),id:n+1,className:"solveMoveDiv jumper",children:"Edge"},n):(0,wc.jsx)("div",{onClick:e=>s(e,this.props,hm),id:n+1,className:"solveMoveDiv jumper",children:"3x3"},n))):t===this.props.state.solvedSet[n-1]?n===this.props.state.solvedSetIndex||n===this.props.state.solvedSetIndex+1&&t===this.props.state.solvedSet[n-1]?e.push((0,wc.jsx)("div",{id:n-1,className:`solveMoveDiv nextSolveIndex ${r(t)}`,children:t.replace(`0${t[1]}`,t[1]).replace("'","")+"2"},n)):e.push((0,wc.jsx)("div",{onClick:e=>hm(e,this.props),id:n-1,className:`solveMoveDiv ${r(t)}`,children:t.replace(`0${t[1]}`,t[1]).replace("'","")+"2"},n)):n===this.props.state.solvedSetIndex||n===this.props.state.solvedSetIndex+1&&t===this.props.state.solvedSet[n-1]?e.push((0,wc.jsx)("div",{id:n,className:`solveMoveDiv nextSolveIndex ${r(t)}`,children:t.replace(`0${t[1]}`,t[1])},n)):e.push((0,wc.jsx)("div",{onClick:e=>hm(e,this.props),id:n,className:`solveMoveDiv ${r(t)}`,children:t.replace(`0${t[1]}`,t[1])},n))):e.push(n),e.map(e=>(0,wc.jsx)(Zp.Ay,{height:"2rem",children:"el"}));let o=$p.filter(e=>e.worksFor.includes(this.props.state.cubeDimension)).map(e=>(0,wc.jsx)("button",{id:e.name,className:this.props.state.activeAlgo===e.name?"algoButton algoActive":"algoButton",onClick:()=>dm(e.name,this.props),children:e.name},e.name));function s(e,t,n){t.setState({autoScroll:!0}),n(e,t)}return(0,wc.jsx)("div",{className:"sideMenu",children:(0,wc.jsx)("div",{className:"sideMenuBox0 sideLimit",children:"Solving"===this.props.state.currentFunc?(0,wc.jsx)("div",{className:"sideMovesBox",children:e}):[(0,wc.jsx)("div",{className:"sideMenuBox1",children:(0,wc.jsx)("div",{className:"algoList",style:{maxWidth:"400px"},children:o})},"sideMenuBox1"),(0,wc.jsx)("div",{className:"sideMenuBox2",children:(0,wc.jsx)("div",{className:"sideMovesBox",children:e})},"sideMenuBox2")]})})}}const fm=t.memo(pm);class mm extends t.Component{constructor(e){super(e)}UNSAFE_componentWillReceiveProps(e){!0===e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoRewind:!1}),e.rewindOne()):!0===e.state.autoRewind&&e.state.solvedSetIndex<=e.state.targetSolveIndex&&e.setState({autoRewind:!1}),!0===e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex?("stop'"===e.state.moveSet[0]&&e.setState({autoPlay:!1}),e.playOne(e)):!0===e.state.autoPlay&&e.state.solvedSetIndex>=e.state.targetSolveIndex&&e.setState({autoPlay:!1})}componentDidUpdate(){document.querySelector(".nextSolveIndex")&&this.props.state.autoScroll&&(document.querySelector(".nextSolveIndex").scrollIntoView(!0),this.props.setState({autoScroll:!1}))}render(){let e=this.props.state.prevSet,t=this.props.state.moveSet,n=(0,wc.jsx)("div",{className:"previousMove",children:e.length-1>=0?"stop'"===e[e.length-1]?e[e.length-2]?e[e.length-2]===e[e.length-3]?e[e.length-2].replace("0"+e[e.length-2][1],e[e.length-2][1]).replace("'","")+2:e[e.length-2].replace("0"+e[e.length-2][1],e[e.length-2][1]):"-":e[e.length-1]===e[e.length-2]?e[e.length-1].replace("0"+e[e.length-1][1],e[e.length-1][1]).replace("'","")+2:e[e.length-1].replace("0"+e[e.length-1][1],e[e.length-1][1]):"-"}),i=(0,wc.jsx)("div",{className:"nextMove",children:t[0]&&"string"===typeof t[0][0]&&"'"!==t[0]?"stop'"===t[0]?t[1]?t[1]===t[2]?t[1].replace("0"+t[1][1],t[1][1]).replace("'","")+2:t[1].replace("0"+t[1][1],t[1][1]):"-":t[0]===t[1]?t[0].replace("0"+t[0][1],t[0][1]).replace("'","")+2:t[0].replace("0"+t[0][1],t[0][1]):"-"});function r(e){e.setState({autoPlay:!1,autoRewind:!1})}return(0,wc.jsx)("div",{className:"controllerBox",style:{width:"30vw"},children:(0,wc.jsxs)("div",{className:"buttonWrapper",children:[(0,wc.jsx)("div",{className:"solverButtonDiv rewindOne",children:(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>this.props.rewindOne(this.props),children:["Previous ",n]})}),(0,wc.jsx)("div",{className:"solverButtonDiv playOne",children:(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>this.props.playOne(this.props),children:["Next ",i]})}),(0,wc.jsx)("div",{className:"solverButtonDiv rewindAll",children:this.props.state.autoRewind?(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>r(this.props),children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Pause"})," Solver"]}):(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>{this.props.setState({autoPlay:!1,autoRewind:!0,targetSolveIndex:0})},children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Auto"})," Rewind"]})}),(0,wc.jsx)("div",{className:"solverButtonDiv fastforward",children:this.props.state.autoPlay?(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>r(this.props),children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Pause"})," Solver"]}):(0,wc.jsxs)("button",{className:"solverButton",onClick:()=>{var e;(e=this.props).state.moveSet.length&&(1===e.state.moveSet.length?e.playOne(e):e.setState({autoPlay:!0,autoRewind:!1,targetSolveIndex:e.state.solvedSet.length}))},children:[(0,wc.jsx)("div",{style:{width:"100%"},children:"Auto"})," Forward"]})})]})})}}const gm=t.memo(mm),vm=e=>{const t=[];return e.cpErrors.forEach(function(e,n){t.push((0,wc.jsx)("p",{style:{color:"red",fontSize:".8rem",textAlign:"left",listStyle:"none",margin:"2px",lineHeight:"15px"},children:"- "+e},n))}),(0,wc.jsx)("div",{className:"controllerBox",style:{width:"30vw"},children:(0,wc.jsx)("div",{className:"colorButtonContainer",children:["white","blue","red","yellow","orange","green"].map((t,n)=>(0,wc.jsx)(em,{index:n+1,height:1/3*100,color:t,side:!0,colorPicked:e.colorPicked,changeColor:e.changeColor,isMobile:e.isMobile},t))})})},ym=e=>(0,wc.jsx)("div",{className:"mainSideMenuButton",style:{height:1/6*100+"%"},children:(0,wc.jsx)("button",{className:"sideMenuButton",onClick:e.onClick,children:e.name})}),bm=e=>{let t=$p.filter(t=>t.worksFor.includes(e.state.cubeDimension));return(0,wc.jsxs)("div",{className:"sideMenuBox0 sideLimit",children:[e.state.cubeDimension<=100?(0,wc.jsx)(ym,{name:"Color Picker",onClick:function(){"None"===e.state.currentFunc&&(e.setState({activeMenu:"ColorPicker",isValidConfig:!0}),e.beginColorPicker())}}):[],e.state.cubeDimension<=100?(0,wc.jsx)(ym,{name:"Solver",onClick:function(){"None"===e.state.currentFunc&&e.setState({activeMenu:"Solver"},e.beginSolve())}}):[],t.length>0?(0,wc.jsx)(ym,{name:"Patterns",onClick:function(){"None"===e.state.currentFunc&&e.setState({activeMenu:"Algorithms",currentFunc:"Algorithms",solveOnce:!1,solvedSet:[],prevSet:[],moveSet:[]})}}):[],(0,wc.jsx)(ym,{name:"Scramble",onClick:function(){"None"===e.state.currentFunc&&e.setState({activeMenu:"Scrambling"},e.beginScramble())}}),(0,wc.jsx)(ym,{name:"Reset",onClick:function(){e.setState({activeMenu:"",currentFunc:"Reset"})}})]})};class xm extends t.Component{constructor(e){super(e)}shouldComponentUpdate(e,t){return this.props.state.upDateCp!==e.state.upDateCp||(this.props.state.solvedSet!==e.state.solvedSet||(this.props.state.currentFunc!==e.state.currentFunc||(this.props.state.activeAlgo!==e.state.activeAlgo||(this.props.state.activeAlgo!==e.state.activeAlgo||this.props.state.solvedSetIndex!==e.state.solvedSetIndex||!this.props.state.autoRewind&&!this.props.state.autoPlay||this.props.state.autoRewind!==e.state.autoRewind||this.props.state.autoPlay!==e.state.autoPlay)&&(this.props.state.solvedSetIndex!==e.state.solvedSetIndex||(!!(e.state.autoRewind&&e.state.solvedSetIndex>=e.state.targetSolveIndex-1)||(!!(e.state.autoPlay&&e.state.solvedSetIndex<e.state.targetSolveIndex-1)||(!(e.state.autoRewind||!this.props.state.autoRewind)||(!(e.state.autoPlay||!this.props.state.autoPlay)||!(this.props.state.activeMenu===e.state.activeMenu&&this.props.state.colorPicked===e.state.colorPicked&&this.props.state.currentFunc===e.state.currentFunc&&this.props.state.isValidConfig===e.state.isValidConfig&&this.props.cpErrors===e.cpErrors&&this.props.state.solveTime===e.state.solveTime&&this.props.state.playOne===e.state.playOne&&!this.props.state.autoPlay)&&(!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoPlay&&this.props.state.solvedSetIndex<this.props.state.targetSolveIndex)&&!(this.props.state.solvedSetIndex===e.state.solvedSetIndex&&this.props.state.autoRewind&&this.props.state.solvedSetIndex>=this.props.state.targetSolveIndex))))))))))}render(){let e,t,n;let i=(0,wc.jsx)("button",{id:"Solver",data:"Solving",onClick:()=>{document.querySelector(".warningPopupSolver").style.visibility="visible",document.querySelector(".controllerBox").style.visibility="hidden",document.querySelector(".bottomExitDiv").style.visibility="hidden"},className:"exitButton",children:"Exit"}),r=(0,wc.jsx)("button",{id:"Algorithms",data:"Algorithms",onClick:()=>{this.props.setState({activeMenu:"",currentFunc:"Reset",solvedSet:[],hoverData:[],prevSet:[],moveSet:[],isValidConfig:!1,targetSolveIndex:-1,solveMoves:"",autoPlay:!1,autoRewind:!1,autoTarget:!1,playOne:!1,activeAlgo:"none"})},className:"exitButton",children:"Exit"}),o=(0,wc.jsx)("button",{id:"ColorPicker",data:"Color Picker",onClick:()=>{document.querySelector(".warningPopup").style.display="block",document.querySelector(".colorButtonContainer").style.visibility="hidden",document.querySelector(".bottomExitDiv").style.visibility="hidden"},className:"exitButton",children:"Exit"}),s=(0,wc.jsxs)("div",{id:"controlsPopup",className:"warningPopupSolver",style:{position:"absolute",left:"35vw",width:"30vw",bottom:"8px"},children:[(0,wc.jsx)("div",{id:"solverChangeData",data:""}),(0,wc.jsx)("div",{className:"solverMessage",children:"Are you sure you want to leave Solver? Progress will not be saved."}),(0,wc.jsx)("button",{onClick:function(){document.querySelector(".warningPopupSolver").style.visibility="hidden",document.querySelector(".controllerBox").style.visibility="visible",document.querySelector(".bottomExitDiv").style.visibility="visible"},className:"solverLeaveStay",children:"Stay"}),(0,wc.jsx)("button",{onClick:e=>function(e,t){if(document.querySelector(".warningPopupSolver").style.visibility="hidden",document.querySelector(".bottomExitDiv").style.visibility="visible",e.stopPropagation(),t.stopSolve(),document.querySelector(".activeMenu")&&document.querySelector(".activeMenu").classList.remove("activeMenu"),document.querySelector("#solverChangeData").data){let e=document.querySelector("#solverChangeData").data.split(",");if("ColorPicker"===e[0])return t.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1}),void(document.querySelector("#solverChangeData").data="");document.querySelector(`#${e[0]}`).classList.add("activeMenu"),t.setState({activeMenu:e[0],currentFunct:e[1],isValidConfig:!1}),document.querySelector("#solverChangeData").data=""}else t.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1})}(e,this.props),className:"solverLeaveStay",children:"Leave"})]}),a=(0,wc.jsxs)("div",{id:"controlsPopup",className:"warningPopup",style:{position:"absolute",left:"35vw",width:"30vw",bottom:"8px"},children:[(0,wc.jsx)("div",{id:"cpChangeData",data:""}),(0,wc.jsx)("div",{className:"cpMessage",children:"Are you sure you want to leave Color Picker? Progress will not be saved."}),(0,wc.jsx)("button",{onClick:function(){document.querySelector(".warningPopup").style.display="none",document.querySelector(".colorButtonContainer").style.visibility="visible",document.querySelector(".bottomExitDiv").style.visibility="visible"},className:"cpLeaveStay",children:"Stay"}),(0,wc.jsx)("button",{onClick:()=>{if(document.querySelector(".warningPopup").style.display="none",document.querySelector(".bottomExitDiv").style.visibility="visible",this.props.endColorPicker(),document.querySelector(".activeMenu")&&document.querySelector(".activeMenu").classList.remove("activeMenu"),document.querySelector("#cpChangeData").data){let e=document.querySelector("#cpChangeData").data.split(",");if("Solver"===e[0])return this.props.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1}),void(document.querySelector("#cpChangeData").data="");document.querySelector(`#${e[0]}`).classList.add("activeMenu"),document.querySelector("#cpChangeData").data="",this.props.setState({activeMenu:e[0],currentFunc:e[1],isValidConfig:!1},()=>this.props.beginSolve())}else this.props.setState({activeMenu:"",currentFunct:"None",isValidConfig:!1})},className:"cpLeaveStay",children:"Leave"})]});switch(this.props.state.activeMenu){case"Moves":e=(0,wc.jsx)(op,{...this.props});break;case"ColorPicker":e=(0,wc.jsx)(um,{...this.props}),t=(0,wc.jsx)(vm,{...this.props}),n=o;break;case"Solver":e=(0,wc.jsx)(fm,{...this.props}),t=(0,wc.jsx)(gm,{...this.props}),n=i;break;case"Algorithms":e=(0,wc.jsx)(fm,{...this.props}),t=(0,wc.jsx)(gm,{...this.props}),n=r;break;default:e=(0,wc.jsx)(bm,{...this.props}),t=""}return[(0,wc.jsx)("div",{className:"sideMenuWrapper",style:{pointerEvents:"none"},children:e},"sideMenuWrapper"),(0,wc.jsxs)("div",{className:"bottomMenuWrapper",style:{pointerEvents:"none"},children:[a,s,t,(0,wc.jsx)("div",{className:"bottomExitDiv",children:n})]},"bottomMenuWrapper")]}}const _m=t.memo(xm);class wm extends t.Component{constructor(e){super(e)}shouldComponentUpdate(e,t){return!0===this.props.state.resized?(this.props.setState({resized:!1}),!0):this.props.state.upDateCp!==e.state.upDateCp||(this.props.state.solvedSet!==e.state.solvedSet||("Scrambling"===this.props.state.currentFunc||(this.props.state.activeMenu!==e.state.activeMenu||"none"!==this.props.state.activeMenu)&&("Algorithms"!==this.props.state.currentFunc&&"Solving"!==this.props.state.currentFunc||this.props.state.moveSet!==e.state.moveSet||!1!==this.props.state.playOne||!1!==this.props.state.autoPlay||!1!==this.props.state.autoRewind||!1!==e.state.autoRewind)))}render(){const e=this.props;return window.innerWidth>900&&window.innerHeight>580?(0,wc.jsx)(_m,{...e}):window.innerWidth>600?(0,wc.jsx)(cm,{...e}):(0,wc.jsx)(im,{...e})}}const Sm=t.memo(wm);var Mm="top",Em="bottom",Tm="right",Cm="left",Lm="auto",Am=[Mm,Em,Tm,Cm],Pm="start",Rm="end",Dm="clippingParents",km="viewport",Om="popper",Nm="reference",Fm=Am.reduce(function(e,t){return e.concat([t+"-"+Pm,t+"-"+Rm])},[]),Im=[].concat(Am,[Lm]).reduce(function(e,t){return e.concat([t,t+"-"+Pm,t+"-"+Rm])},[]),Bm="beforeRead",zm="read",jm="afterRead",Um="beforeMain",Hm="main",Vm="afterMain",Wm="beforeWrite",Gm="write",qm="afterWrite",Xm=[Bm,zm,jm,Um,Hm,Vm,Wm,Gm,qm];function Ym(e){return e?(e.nodeName||"").toLowerCase():null}function $m(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Zm(e){return e instanceof $m(e).Element||e instanceof Element}function Jm(e){return e instanceof $m(e).HTMLElement||e instanceof HTMLElement}function Km(e){return"undefined"!==typeof ShadowRoot&&(e instanceof $m(e).ShadowRoot||e instanceof ShadowRoot)}const Qm={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];Jm(r)&&Ym(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Jm(i)&&Ym(i)&&(Object.assign(i.style,o),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]};function eg(e){return e.split("-")[0]}var tg=Math.max,ng=Math.min,ig=Math.round;function rg(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function og(){return!/^((?!chrome|android).)*safari/i.test(rg())}function sg(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&Jm(e)&&(r=e.offsetWidth>0&&ig(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ig(i.height)/e.offsetHeight||1);var s=(Zm(e)?$m(e):window).visualViewport,a=!og()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/r,c=(i.top+(a&&s?s.offsetTop:0))/o,u=i.width/r,h=i.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function ag(e){var t=sg(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function lg(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Km(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function cg(e){return $m(e).getComputedStyle(e)}function ug(e){return["table","td","th"].indexOf(Ym(e))>=0}function hg(e){return((Zm(e)?e.ownerDocument:e.document)||window.document).documentElement}function dg(e){return"html"===Ym(e)?e:e.assignedSlot||e.parentNode||(Km(e)?e.host:null)||hg(e)}function pg(e){return Jm(e)&&"fixed"!==cg(e).position?e.offsetParent:null}function fg(e){for(var t=$m(e),n=pg(e);n&&ug(n)&&"static"===cg(n).position;)n=pg(n);return n&&("html"===Ym(n)||"body"===Ym(n)&&"static"===cg(n).position)?t:n||function(e){var t=/firefox/i.test(rg());if(/Trident/i.test(rg())&&Jm(e)&&"fixed"===cg(e).position)return null;var n=dg(e);for(Km(n)&&(n=n.host);Jm(n)&&["html","body"].indexOf(Ym(n))<0;){var i=cg(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function mg(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function gg(e,t,n){return tg(e,ng(t,n))}function vg(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function yg(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}const bg={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=eg(n.placement),l=mg(a),c=[Cm,Tm].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return vg("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:yg(e,Am))}(r.padding,n),h=ag(o),d="y"===l?Mm:Cm,p="y"===l?Em:Tm,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=fg(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[d],x=v-h[c]-u[p],_=v/2-h[c]/2+y,w=gg(b,_,x),S=l;n.modifiersData[i]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&lg(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xg(e){return e.split("-")[1]}var _g={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wg(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=s.x,p=void 0===d?0:d,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Cm,x=Mm,_=window;if(c){var w=fg(n),S="clientHeight",M="clientWidth";if(w===$m(n)&&"static"!==cg(w=hg(n)).position&&"absolute"===a&&(S="scrollHeight",M="scrollWidth"),r===Mm||(r===Cm||r===Tm)&&o===Rm)x=Em,m-=(h&&w===_&&_.visualViewport?_.visualViewport.height:w[S])-i.height,m*=l?1:-1;if(r===Cm||(r===Mm||r===Em)&&o===Rm)b=Tm,p-=(h&&w===_&&_.visualViewport?_.visualViewport.width:w[M])-i.width,p*=l?1:-1}var E,T=Object.assign({position:a},c&&_g),C=!0===u?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:ig(n*r)/r||0,y:ig(i*r)/r||0}}({x:p,y:m},$m(n)):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},T,((E={})[x]=y?"0":"",E[b]=v?"0":"",E.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Sg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:eg(t.placement),variation:xg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,wg(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,wg(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Mg={passive:!0};const Eg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=$m(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,Mg)}),a&&l.addEventListener("resize",n.update,Mg),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Mg)}),a&&l.removeEventListener("resize",n.update,Mg)}},data:{}};var Tg={left:"right",right:"left",bottom:"top",top:"bottom"};function Cg(e){return e.replace(/left|right|bottom|top/g,function(e){return Tg[e]})}var Lg={start:"end",end:"start"};function Ag(e){return e.replace(/start|end/g,function(e){return Lg[e]})}function Pg(e){var t=$m(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Rg(e){return sg(hg(e)).left+Pg(e).scrollLeft}function Dg(e){var t=cg(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function kg(e){return["html","body","#document"].indexOf(Ym(e))>=0?e.ownerDocument.body:Jm(e)&&Dg(e)?e:kg(dg(e))}function Og(e,t){var n;void 0===t&&(t=[]);var i=kg(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=$m(i),s=r?[o].concat(o.visualViewport||[],Dg(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(Og(dg(s)))}function Ng(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fg(e,t,n){return t===km?Ng(function(e,t){var n=$m(e),i=hg(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=og();(c||!c&&"fixed"===t)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Rg(e),y:l}}(e,n)):Zm(t)?function(e,t){var n=sg(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ng(function(e){var t,n=hg(e),i=Pg(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=tg(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=tg(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Rg(e),l=-i.scrollTop;return"rtl"===cg(r||n).direction&&(a+=tg(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(hg(e)))}function Ig(e,t,n,i){var r="clippingParents"===t?function(e){var t=Og(dg(e)),n=["absolute","fixed"].indexOf(cg(e).position)>=0&&Jm(e)?fg(e):e;return Zm(n)?t.filter(function(e){return Zm(e)&&lg(e,n)&&"body"!==Ym(e)}):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(t,n){var r=Fg(e,n,i);return t.top=tg(r.top,t.top),t.right=ng(r.right,t.right),t.bottom=ng(r.bottom,t.bottom),t.left=tg(r.left,t.left),t},Fg(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Bg(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?eg(r):null,s=r?xg(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case Mm:t={x:a,y:n.y-i.height};break;case Em:t={x:a,y:n.y+n.height};break;case Tm:t={x:n.x+n.width,y:l};break;case Cm:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?mg(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Pm:t[c]=t[c]-(n[u]/2-i[u]/2);break;case Rm:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}function zg(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?Dm:a,c=n.rootBoundary,u=void 0===c?km:c,h=n.elementContext,d=void 0===h?Om:h,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=vg("number"!==typeof g?g:yg(g,Am)),y=d===Om?Nm:Om,b=e.rects.popper,x=e.elements[f?y:d],_=Ig(Zm(x)?x:x.contextElement||hg(e.elements.popper),l,u,s),w=sg(e.elements.reference),S=Bg({reference:w,element:b,strategy:"absolute",placement:r}),M=Ng(Object.assign({},b,S)),E=d===Om?M:w,T={top:_.top-E.top+v.top,bottom:E.bottom-_.bottom+v.bottom,left:_.left-E.left+v.left,right:E.right-_.right+v.right},C=e.modifiersData.offset;if(d===Om&&C){var L=C[r];Object.keys(T).forEach(function(e){var t=[Tm,Em].indexOf(e)>=0?1:-1,n=[Mm,Em].indexOf(e)>=0?"y":"x";T[e]+=L[n]*t})}return T}const jg={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=eg(g),y=l||(v===g||!f?[Cg(g)]:function(e){if(eg(e)===Lm)return[];var t=Cg(e);return[Ag(e),t,Ag(t)]}(g)),b=[g].concat(y).reduce(function(e,n){return e.concat(eg(n)===Lm?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Im:l,u=xg(i),h=u?a?Fm:Fm.filter(function(e){return xg(e)===u}):Am,d=h.filter(function(e){return c.indexOf(e)>=0});0===d.length&&(d=h);var p=d.reduce(function(t,n){return t[n]=zg(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[eg(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,M=b[0],E=0;E<b.length;E++){var T=b[E],C=eg(T),L=xg(T)===Pm,A=[Mm,Em].indexOf(C)>=0,P=A?"width":"height",R=zg(t,{placement:T,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),D=A?L?Tm:Cm:L?Em:Mm;x[P]>_[P]&&(D=Cg(D));var k=Cg(D),O=[];if(o&&O.push(R[C]<=0),a&&O.push(R[D]<=0,R[k]<=0),O.every(function(e){return e})){M=T,S=!1;break}w.set(T,O)}if(S)for(var N=function(e){var t=b.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return M=t,"break"},F=f?3:1;F>0;F--){if("break"===N(F))break}t.placement!==M&&(t.modifiersData[i]._skip=!0,t.placement=M,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ug(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Hg(e){return[Mm,Tm,Em,Cm].some(function(t){return e[t]>=0})}const Vg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=zg(t,{elementContext:"reference"}),a=zg(t,{altBoundary:!0}),l=Ug(s,i),c=Ug(a,r,o),u=Hg(l),h=Hg(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}};const Wg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=Im.reduce(function(e,n){return e[n]=function(e,t,n){var i=eg(e),r=[Cm,Mm].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Cm,Tm].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};const Gg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bg({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const qg={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,p=void 0===d||d,f=n.tetherOffset,m=void 0===f?0:f,g=zg(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=eg(t.placement),y=xg(t.placement),b=!y,x=mg(v),_="x"===x?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,M=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(w){if(o){var A,P="y"===x?Mm:Cm,R="y"===x?Em:Tm,D="y"===x?"height":"width",k=w[x],O=k+g[P],N=k-g[R],F=p?-M[D]/2:0,I=y===Pm?S[D]:M[D],B=y===Pm?-M[D]:-S[D],z=t.elements.arrow,j=p&&z?ag(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[P],V=U[R],W=gg(0,S[D],j[D]),G=b?S[D]/2-F-W-H-T.mainAxis:I-W-H-T.mainAxis,q=b?-S[D]/2+F+W+V+T.mainAxis:B+W+V+T.mainAxis,X=t.elements.arrow&&fg(t.elements.arrow),Y=X?"y"===x?X.clientTop||0:X.clientLeft||0:0,$=null!=(A=null==C?void 0:C[x])?A:0,Z=k+q-$,J=gg(p?ng(O,k+G-$-Y):O,k,p?tg(N,Z):N);w[x]=J,L[x]=J-k}if(a){var K,Q="x"===x?Mm:Cm,ee="x"===x?Em:Tm,te=w[_],ne="y"===_?"height":"width",ie=te+g[Q],re=te-g[ee],oe=-1!==[Mm,Cm].indexOf(v),se=null!=(K=null==C?void 0:C[_])?K:0,ae=oe?ie:te-S[ne]-M[ne]-se+T.altAxis,le=oe?te+S[ne]+M[ne]-se-T.altAxis:re,ce=p&&oe?function(e,t,n){var i=gg(e,t,n);return i>n?n:i}(ae,te,le):gg(p?ae:ie,te,p?le:re);w[_]=ce,L[_]=ce-te}t.modifiersData[i]=L}},requiresIfExists:["offset"]};function Xg(e,t,n){void 0===n&&(n=!1);var i=Jm(t),r=Jm(t)&&function(e){var t=e.getBoundingClientRect(),n=ig(t.width)/e.offsetWidth||1,i=ig(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=hg(t),s=sg(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Ym(t)||Dg(o))&&(a=function(e){return e!==$m(e)&&Jm(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Pg(e);var t}(t)),Jm(t)?((l=sg(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Rg(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Yg(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}}),i.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||r(e)}),i}function $g(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var Zg={placement:"bottom",modifiers:[],strategy:"absolute"};function Jg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Kg(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?Zg:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zg,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"===typeof n?n(r.options):n;c(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:Zm(e)?Og(e):e.contextElement?Og(e.contextElement):[],popper:Og(t)};var u=function(e){var t=Yg(e);return Xm.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,r.options.modifiers)));return r.orderedModifiers=u.filter(function(e){return e.enabled}),r.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:r,name:t,instance:l,options:i}),c=function(){};s.push(a||c)}}),l.update()},forceUpdate:function(){if(!a){var e=r.elements,t=e.reference,n=e.popper;if(Jg(t,n)){r.rects={reference:Xg(t,fg(n),"fixed"===r.options.strategy),popper:ag(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(e){return r.modifiersData[e.name]=Object.assign({},e.data)});for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],s=o.fn,c=o.options,u=void 0===c?{}:c,h=o.name;"function"===typeof s&&(r=s({state:r,options:u,name:h,instance:l})||r)}else r.reset=!1,i=-1}}},update:$g(function(){return new Promise(function(e){l.forceUpdate(),e(r)})}),destroy:function(){c(),a=!0}};if(!Jg(e,t))return l;function c(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Qg=Kg(),ev=Kg({defaultModifiers:[Eg,Gg,Sg,Qm,Wg,jg,qg,bg,Vg]}),tv=Kg({defaultModifiers:[Eg,Gg,Sg,Qm]});const nv=new Map,iv={set(e,t,n){nv.has(e)||nv.set(e,new Map);const i=nv.get(e);i.has(t)||0===i.size?i.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,t)=>nv.has(e)&&nv.get(e).get(t)||null,remove(e,t){if(!nv.has(e))return;const n=nv.get(e);n.delete(t),0===n.size&&nv.delete(e)}},rv="transitionend",ov=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),sv=e=>null===e||void 0===e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),av=e=>{e.dispatchEvent(new Event(rv))},lv=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),cv=e=>lv(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(ov(e)):null,uv=e=>{if(!lv(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},hv=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),dv=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?dv(e.parentNode):null},pv=()=>{},fv=e=>{e.offsetHeight},mv=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,gv=[],vv=()=>"rtl"===document.documentElement.dir,yv=e=>{var t;t=()=>{const t=mv();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}},"loading"===document.readyState?(gv.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of gv)e()}),gv.push(t)):t()},bv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?e.call(...t):n},xv=function(e,t){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return void bv(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),r=Number.parseFloat(n);return i||r?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let i=!1;const r=n=>{let{target:o}=n;o===t&&(i=!0,t.removeEventListener(rv,r),bv(e))};t.addEventListener(rv,r),setTimeout(()=>{i||av(t)},n)},_v=(e,t,n,i)=>{const r=e.length;let o=e.indexOf(t);return-1===o?!n&&i?e[r-1]:e[0]:(o+=n?1:-1,i&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},wv=/[^.]*(?=\..*)\.|.*/,Sv=/\..*/,Mv=/::\d+$/,Ev={};let Tv=1;const Cv={mouseenter:"mouseover",mouseleave:"mouseout"},Lv=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Av(e,t){return t&&`${t}::${Tv++}`||e.uidEvent||Tv++}function Pv(e){const t=Av(e);return e.uidEvent=t,Ev[t]=Ev[t]||{},Ev[t]}function Rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===n)}function Dv(e,t,n){const i="string"===typeof t,r=i?n:t||n;let o=Fv(e);return Lv.has(o)||(o=e),[i,r,o]}function kv(e,t,n,i,r){if("string"!==typeof t||!e)return;let[o,s,a]=Dv(t,n,i);if(t in Cv){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=Pv(e),c=l[a]||(l[a]={}),u=Rv(c,s,o?n:null);if(u)return void(u.oneOff=u.oneOff&&r);const h=Av(s,t.replace(wv,"")),d=o?function(e,t,n){return function i(r){const o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return Bv(r,{delegateTarget:s}),i.oneOff&&Iv.off(e,r.type,t,n),n.apply(s,[r])}}(e,n,s):function(e,t){return function n(i){return Bv(i,{delegateTarget:e}),n.oneOff&&Iv.off(e,i.type,t),t.apply(e,[i])}}(e,s);d.delegationSelector=o?n:null,d.callable=s,d.oneOff=r,d.uidEvent=h,c[h]=d,e.addEventListener(a,d,o)}function Ov(e,t,n,i,r){const o=Rv(t[n],i,r);o&&(e.removeEventListener(n,o,Boolean(r)),delete t[n][o.uidEvent])}function Nv(e,t,n,i){const r=t[n]||{};for(const[o,s]of Object.entries(r))o.includes(i)&&Ov(e,t,n,s.callable,s.delegationSelector)}function Fv(e){return e=e.replace(Sv,""),Cv[e]||e}const Iv={on(e,t,n,i){kv(e,t,n,i,!1)},one(e,t,n,i){kv(e,t,n,i,!0)},off(e,t,n,i){if("string"!==typeof t||!e)return;const[r,o,s]=Dv(t,n,i),a=s!==t,l=Pv(e),c=l[s]||{},u=t.startsWith(".");if("undefined"===typeof o){if(u)for(const n of Object.keys(l))Nv(e,l,n,t.slice(1));for(const[n,i]of Object.entries(c)){const r=n.replace(Mv,"");a&&!t.includes(r)||Ov(e,l,s,i.callable,i.delegationSelector)}}else{if(!Object.keys(c).length)return;Ov(e,l,s,o,r?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const i=mv();let r=null,o=!0,s=!0,a=!1;t!==Fv(t)&&i&&(r=i.Event(t,n),i(e).trigger(r),o=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),a=r.isDefaultPrevented());const l=Bv(new Event(t,{bubbles:o,cancelable:!0}),n);return a&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function Bv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[i,r]of Object.entries(t))try{e[i]=r}catch(n){Object.defineProperty(e,i,{configurable:!0,get:()=>r})}return e}function zv(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function jv(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Uv={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${jv(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${jv(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),t[n]=zv(e.dataset[i])}return t},getDataAttribute:(e,t)=>zv(e.getAttribute(`data-bs-${jv(t)}`))};class Hv{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=lv(t)?Uv.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...lv(t)?Uv.getDataAttributes(t):{},..."object"===typeof e?e:{}}}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[n,i]of Object.entries(t)){const t=e[n],r=lv(t)?"element":sv(t);if(!new RegExp(i).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${i}".`)}}}class Vv extends Hv{constructor(e,t){super(),(e=cv(e))&&(this._element=e,this._config=this._getConfig(t),iv.set(this._element,this.constructor.DATA_KEY,this))}dispose(){iv.remove(this._element,this.constructor.DATA_KEY),Iv.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t){xv(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return iv.get(cv(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return"5.3.7"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Wv=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map(e=>ov(e)).join(","):null},Gv={find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!hv(e)&&uv(e))},getSelectorFromElement(e){const t=Wv(e);return t&&Gv.findOne(t)?t:null},getElementFromSelector(e){const t=Wv(e);return t?Gv.findOne(t):null},getMultipleElementsFromSelector(e){const t=Wv(e);return t?Gv.find(t):[]}},qv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const n=`click.dismiss${e.EVENT_KEY}`,i=e.NAME;Iv.on(document,n,`[data-bs-dismiss="${i}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),hv(this))return;const r=Gv.getElementFromSelector(this)||this.closest(`.${i}`);e.getOrCreateInstance(r)[t]()})},Xv=".bs.alert",Yv=`close${Xv}`,$v=`closed${Xv}`;class Zv extends Vv{static get NAME(){return"alert"}close(){if(Iv.trigger(this._element,Yv).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),Iv.trigger(this._element,$v),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Zv.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}qv(Zv,"close"),yv(Zv);const Jv='[data-bs-toggle="button"]';class Kv extends Vv{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){const t=Kv.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}Iv.on(document,"click.bs.button.data-api",Jv,e=>{e.preventDefault();const t=e.target.closest(Jv);Kv.getOrCreateInstance(t).toggle()}),yv(Kv);const Qv=".bs.swipe",ey=`touchstart${Qv}`,ty=`touchmove${Qv}`,ny=`touchend${Qv}`,iy=`pointerdown${Qv}`,ry=`pointerup${Qv}`,oy={endCallback:null,leftCallback:null,rightCallback:null},sy={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ay extends Hv{constructor(e,t){super(),this._element=e,e&&ay.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return oy}static get DefaultType(){return sy}static get NAME(){return"swipe"}dispose(){Iv.off(this._element,Qv)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),bv(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&bv(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Iv.on(this._element,iy,e=>this._start(e)),Iv.on(this._element,ry,e=>this._end(e)),this._element.classList.add("pointer-event")):(Iv.on(this._element,ey,e=>this._start(e)),Iv.on(this._element,ty,e=>this._move(e)),Iv.on(this._element,ny,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ly=".bs.carousel",cy=".data-api",uy="ArrowLeft",hy="ArrowRight",dy="next",py="prev",fy="left",my="right",gy=`slide${ly}`,vy=`slid${ly}`,yy=`keydown${ly}`,by=`mouseenter${ly}`,xy=`mouseleave${ly}`,_y=`dragstart${ly}`,wy=`load${ly}${cy}`,Sy=`click${ly}${cy}`,My="carousel",Ey="active",Ty=".active",Cy=".carousel-item",Ly=Ty+Cy,Ay={[uy]:my,[hy]:fy},Py={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ry={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Dy extends Vv{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Gv.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===My&&this.cycle()}static get Default(){return Py}static get DefaultType(){return Ry}static get NAME(){return"carousel"}next(){this._slide(dy)}nextWhenVisible(){!document.hidden&&uv(this._element)&&this.next()}prev(){this._slide(py)}pause(){this._isSliding&&av(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Iv.one(this._element,vy,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Iv.one(this._element,vy,()=>this.to(e));const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?dy:py;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Iv.on(this._element,yy,e=>this._keydown(e)),"hover"===this._config.pause&&(Iv.on(this._element,by,()=>this.pause()),Iv.on(this._element,xy,()=>this._maybeEnableCycle())),this._config.touch&&ay.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of Gv.find(".carousel-item img",this._element))Iv.on(t,_y,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(fy)),rightCallback:()=>this._slide(this._directionToOrder(my)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ay(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Ay[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Gv.findOne(Ty,this._indicatorsElement);t.classList.remove(Ey),t.removeAttribute("aria-current");const n=Gv.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Ey),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const n=this._getActive(),i=e===dy,r=t||_v(this._getItems(),n,i,this._config.wrap);if(r===n)return;const o=this._getItemIndex(r),s=t=>Iv.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(s(gy).defaultPrevented)return;if(!n||!r)return;const a=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const l=i?"carousel-item-start":"carousel-item-end",c=i?"carousel-item-next":"carousel-item-prev";r.classList.add(c),fv(r),n.classList.add(l),r.classList.add(l);this._queueCallback(()=>{r.classList.remove(l,c),r.classList.add(Ey),n.classList.remove(Ey,c,l),this._isSliding=!1,s(vy)},n,this._isAnimated()),a&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Gv.findOne(Ly,this._element)}_getItems(){return Gv.find(Cy,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return vv()?e===fy?py:dy:e===fy?dy:py}_orderToDirection(e){return vv()?e===py?fy:my:e===py?my:fy}static jQueryInterface(e){return this.each(function(){const t=Dy.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)})}}Iv.on(document,Sy,"[data-bs-slide], [data-bs-slide-to]",function(e){const t=Gv.getElementFromSelector(this);if(!t||!t.classList.contains(My))return;e.preventDefault();const n=Dy.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===Uv.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}),Iv.on(window,wy,()=>{const e=Gv.find('[data-bs-ride="carousel"]');for(const t of e)Dy.getOrCreateInstance(t)}),yv(Dy);const ky=".bs.collapse",Oy=`show${ky}`,Ny=`shown${ky}`,Fy=`hide${ky}`,Iy=`hidden${ky}`,By=`click${ky}.data-api`,zy="show",jy="collapse",Uy="collapsing",Hy=`:scope .${jy} .${jy}`,Vy='[data-bs-toggle="collapse"]',Wy={parent:null,toggle:!0},Gy={parent:"(null|element)",toggle:"boolean"};class qy extends Vv{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Gv.find(Vy);for(const i of n){const e=Gv.getSelectorFromElement(i),t=Gv.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Wy}static get DefaultType(){return Gy}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>qy.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(Iv.trigger(this._element,Oy).defaultPrevented)return;for(const i of e)i.hide();const t=this._getDimension();this._element.classList.remove(jy),this._element.classList.add(Uy),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uy),this._element.classList.add(jy,zy),this._element.style[t]="",Iv.trigger(this._element,Ny)},this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(Iv.trigger(this._element,Fy).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,fv(this._element),this._element.classList.add(Uy),this._element.classList.remove(jy,zy);for(const t of this._triggerArray){const e=Gv.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Uy),this._element.classList.add(jy),Iv.trigger(this._element,Iy)},this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(zy)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=cv(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Vy);for(const t of e){const e=Gv.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Gv.find(Hy,this._config.parent);return Gv.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=qy.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e]()}})}}Iv.on(document,By,Vy,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of Gv.getMultipleElementsFromSelector(this))qy.getOrCreateInstance(t,{toggle:!1}).toggle()}),yv(qy);const Xy="dropdown",Yy=".bs.dropdown",$y=".data-api",Zy="ArrowUp",Jy="ArrowDown",Ky=`hide${Yy}`,Qy=`hidden${Yy}`,eb=`show${Yy}`,tb=`shown${Yy}`,nb=`click${Yy}${$y}`,ib=`keydown${Yy}${$y}`,rb=`keyup${Yy}${$y}`,ob="show",sb='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ab=`${sb}.${ob}`,lb=".dropdown-menu",cb=vv()?"top-end":"top-start",ub=vv()?"top-start":"top-end",hb=vv()?"bottom-end":"bottom-start",db=vv()?"bottom-start":"bottom-end",pb=vv()?"left-start":"right-start",fb=vv()?"right-start":"left-start",mb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},gb={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class vb extends Vv{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Gv.next(this._element,lb)[0]||Gv.prev(this._element,lb)[0]||Gv.findOne(lb,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mb}static get DefaultType(){return gb}static get NAME(){return Xy}toggle(){return this._isShown()?this.hide():this.show()}show(){if(hv(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Iv.trigger(this._element,eb,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))Iv.on(e,"mouseover",pv);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ob),this._element.classList.add(ob),Iv.trigger(this._element,tb,e)}}hide(){if(hv(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Iv.trigger(this._element,Ky,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Iv.off(e,"mouseover",pv);this._popper&&this._popper.destroy(),this._menu.classList.remove(ob),this._element.classList.remove(ob),this._element.setAttribute("aria-expanded","false"),Uv.removeDataAttribute(this._menu,"popper"),Iv.trigger(this._element,Qy,e),this._element.focus()}}_getConfig(e){if("object"===typeof(e=super._getConfig(e)).reference&&!lv(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError(`${Xy.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){let e=this._element;"parent"===this._config.reference?e=this._parent:lv(this._config.reference)?e=cv(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=ev(e,this._menu,t)}_isShown(){return this._menu.classList.contains(ob)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return pb;if(e.classList.contains("dropstart"))return fb;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?ub:cb:t?db:hb}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Uv.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...bv(this._config.popperConfig,[void 0,e])}}_selectMenuItem(e){let{key:t,target:n}=e;const i=Gv.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>uv(e));i.length&&_v(i,n,t===Jy,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const t=vb.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Gv.find(ab);for(const n of t){const t=vb.getInstance(n);if(!t||!1===t._config.autoClose)continue;const i=e.composedPath(),r=i.includes(t._menu);if(i.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,i=[Zy,Jy].includes(e.key);if(!i&&!n)return;if(t&&!n)return;e.preventDefault();const r=this.matches(sb)?this:Gv.prev(this,sb)[0]||Gv.next(this,sb)[0]||Gv.findOne(sb,e.delegateTarget.parentNode),o=vb.getOrCreateInstance(r);if(i)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}Iv.on(document,ib,sb,vb.dataApiKeydownHandler),Iv.on(document,ib,lb,vb.dataApiKeydownHandler),Iv.on(document,nb,vb.clearMenus),Iv.on(document,rb,vb.clearMenus),Iv.on(document,nb,sb,function(e){e.preventDefault(),vb.getOrCreateInstance(this).toggle()}),yv(vb);const yb="backdrop",bb="show",xb=`mousedown.bs.${yb}`,_b={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Sb extends Hv{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return _b}static get DefaultType(){return wb}static get NAME(){return yb}show(e){if(!this._config.isVisible)return void bv(e);this._append();const t=this._getElement();this._config.isAnimated&&fv(t),t.classList.add(bb),this._emulateAnimation(()=>{bv(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(bb),this._emulateAnimation(()=>{this.dispose(),bv(e)})):bv(e)}dispose(){this._isAppended&&(Iv.off(this._element,xb),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=cv(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Iv.on(e,xb,()=>{bv(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){xv(e,this._getElement(),this._config.isAnimated)}}const Mb=".bs.focustrap",Eb=`focusin${Mb}`,Tb=`keydown.tab${Mb}`,Cb="backward",Lb={autofocus:!0,trapElement:null},Ab={autofocus:"boolean",trapElement:"element"};class Pb extends Hv{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Lb}static get DefaultType(){return Ab}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Iv.off(document,Mb),Iv.on(document,Eb,e=>this._handleFocusin(e)),Iv.on(document,Tb,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Iv.off(document,Mb))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Gv.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Cb?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Cb:"forward")}}const Rb=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Db=".sticky-top",kb="padding-right",Ob="margin-right";class Nb{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,kb,t=>t+e),this._setElementAttributes(Rb,kb,t=>t+e),this._setElementAttributes(Db,Ob,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,kb),this._resetElementAttributes(Rb,kb),this._resetElementAttributes(Db,Ob)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(r))}px`)})}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&Uv.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{const n=Uv.getDataAttribute(e,t);null!==n?(Uv.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)})}_applyManipulationCallback(e,t){if(lv(e))t(e);else for(const n of Gv.find(e,this._element))t(n)}}const Fb=".bs.modal",Ib=`hide${Fb}`,Bb=`hidePrevented${Fb}`,zb=`hidden${Fb}`,jb=`show${Fb}`,Ub=`shown${Fb}`,Hb=`resize${Fb}`,Vb=`click.dismiss${Fb}`,Wb=`mousedown.dismiss${Fb}`,Gb=`keydown.dismiss${Fb}`,qb=`click${Fb}.data-api`,Xb="modal-open",Yb="show",$b="modal-static",Zb={backdrop:!0,focus:!0,keyboard:!0},Jb={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Kb extends Vv{constructor(e,t){super(e,t),this._dialog=Gv.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Nb,this._addEventListeners()}static get Default(){return Zb}static get DefaultType(){return Jb}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;Iv.trigger(this._element,jb,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Xb),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){if(!this._isShown||this._isTransitioning)return;Iv.trigger(this._element,Ib).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Yb),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Iv.off(window,Fb),Iv.off(this._dialog,Fb),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Sb({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Pb({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Gv.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),fv(this._element),this._element.classList.add(Yb);this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Iv.trigger(this._element,Ub,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){Iv.on(this._element,Gb,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Iv.on(window,Hb,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Iv.on(this._element,Wb,e=>{Iv.one(this._element,Vb,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Xb),this._resetAdjustments(),this._scrollBar.reset(),Iv.trigger(this._element,zb)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Iv.trigger(this._element,Bb).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains($b)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add($b),this._queueCallback(()=>{this._element.classList.remove($b),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=vv()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=vv()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=Kb.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}})}}Iv.on(document,qb,'[data-bs-toggle="modal"]',function(e){const t=Gv.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Iv.one(t,jb,e=>{e.defaultPrevented||Iv.one(t,zb,()=>{uv(this)&&this.focus()})});const n=Gv.findOne(".modal.show");n&&Kb.getInstance(n).hide();Kb.getOrCreateInstance(t).toggle(this)}),qv(Kb),yv(Kb);const Qb=".bs.offcanvas",ex=".data-api",tx=`load${Qb}${ex}`,nx="show",ix="showing",rx="hiding",ox=".offcanvas.show",sx=`show${Qb}`,ax=`shown${Qb}`,lx=`hide${Qb}`,cx=`hidePrevented${Qb}`,ux=`hidden${Qb}`,hx=`resize${Qb}`,dx=`click${Qb}${ex}`,px=`keydown.dismiss${Qb}`,fx={backdrop:!0,keyboard:!0,scroll:!1},mx={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class gx extends Vv{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return fx}static get DefaultType(){return mx}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(Iv.trigger(this._element,sx,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Nb).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ix);this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(nx),this._element.classList.remove(ix),Iv.trigger(this._element,ax,{relatedTarget:e})},this._element,!0)}hide(){if(!this._isShown)return;if(Iv.trigger(this._element,lx).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(rx),this._backdrop.hide();this._queueCallback(()=>{this._element.classList.remove(nx,rx),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Nb).reset(),Iv.trigger(this._element,ux)},this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Sb({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Iv.trigger(this._element,cx)}:null})}_initializeFocusTrap(){return new Pb({trapElement:this._element})}_addEventListeners(){Iv.on(this._element,px,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():Iv.trigger(this._element,cx))})}static jQueryInterface(e){return this.each(function(){const t=gx.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}})}}Iv.on(document,dx,'[data-bs-toggle="offcanvas"]',function(e){const t=Gv.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),hv(this))return;Iv.one(t,ux,()=>{uv(this)&&this.focus()});const n=Gv.findOne(ox);n&&n!==t&&gx.getInstance(n).hide();gx.getOrCreateInstance(t).toggle(this)}),Iv.on(window,tx,()=>{for(const e of Gv.find(ox))gx.getOrCreateInstance(e).show()}),Iv.on(window,hx,()=>{for(const e of Gv.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&gx.getOrCreateInstance(e).hide()}),qv(gx),yv(gx);const vx={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},yx=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),bx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,xx=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!yx.has(n)||Boolean(bx.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(n))};const _x={allowList:vx,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wx={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Sx={entry:"(string|element|function|null)",selector:"(string|element)"};class Mx extends Hv{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return _x}static get DefaultType(){return wx}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Sx)}_setContent(e,t,n){const i=Gv.findOne(n,e);i&&((t=this._resolvePossibleFunction(t))?lv(t)?this._putElementInTemplate(cv(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const e=o.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){o.remove();continue}const n=[].concat(...o.attributes),i=[].concat(t["*"]||[],t[e]||[]);for(const t of n)xx(t,i)||o.removeAttribute(t.nodeName)}return i.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return bv(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Ex=new Set(["sanitize","allowList","sanitizeFn"]),Tx="fade",Cx="show",Lx=".tooltip-inner",Ax=".modal",Px="hide.bs.modal",Rx="hover",Dx="focus",kx="click",Ox={AUTO:"auto",TOP:"top",RIGHT:vv()?"left":"right",BOTTOM:"bottom",LEFT:vv()?"right":"left"},Nx={allowList:vx,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Fx={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ix extends Vv{constructor(e,t){super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Nx}static get DefaultType(){return Fx}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Iv.off(this._element.closest(Ax),Px,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Iv.trigger(this._element,this.constructor.eventName("show")),t=(dv(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),Iv.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Cx),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Iv.on(r,"mouseover",pv);this._queueCallback(()=>{Iv.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(Iv.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(Cx),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Iv.off(e,"mouseover",pv);this._activeTrigger[kx]=!1,this._activeTrigger[Dx]=!1,this._activeTrigger[Rx]=!1,this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Iv.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Tx,Cx),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Tx),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Mx({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Lx]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tx)}_isShown(){return this.tip&&this.tip.classList.contains(Cx)}_createPopper(e){const t=bv(this._config.placement,[this,e,this._element]),n=Ox[t.toUpperCase()];return ev(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return bv(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...bv(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Iv.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger[kx]=!(t._isShown()&&t._activeTrigger[kx]),t.toggle()});else if("manual"!==t){const e=t===Rx?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===Rx?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Iv.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Dx:Rx]=!0,t._enter()}),Iv.on(this._element,n,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Dx:Rx]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Iv.on(this._element.closest(Ax),Px,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Uv.getDataAttributes(this._element);for(const n of Object.keys(t))Ex.has(n)&&delete t[n];return e={...t,..."object"===typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:cv(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=Ix.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}yv(Ix);const Bx=".popover-header",zx=".popover-body",jx={...Ix.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ux={...Ix.DefaultType,content:"(null|string|element|function)"};class Hx extends Ix{static get Default(){return jx}static get DefaultType(){return Ux}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Bx]:this._getTitle(),[zx]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Hx.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}})}}yv(Hx);const Vx=".bs.scrollspy",Wx=`activate${Vx}`,Gx=`click${Vx}`,qx=`load${Vx}.data-api`,Xx="active",Yx="[href]",$x=".nav-link",Zx=`${$x}, .nav-item > ${$x}, .list-group-item`,Jx={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Kx={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Qx extends Vv{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Jx}static get DefaultType(){return Kx}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=cv(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Iv.off(this._config.target,Gx),Iv.on(this._config.target,Gx,Yx,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(n(o),!i)return}else r||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Gv.find(Yx,this._config.target);for(const t of e){if(!t.hash||hv(t))continue;const e=Gv.findOne(decodeURI(t.hash),this._element);uv(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Xx),this._activateParents(e),Iv.trigger(this._element,Wx,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Gv.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Xx);else for(const t of Gv.parents(e,".nav, .list-group"))for(const e of Gv.prev(t,Zx))e.classList.add(Xx)}_clearActiveClass(e){e.classList.remove(Xx);const t=Gv.find(`${Yx}.${Xx}`,e);for(const n of t)n.classList.remove(Xx)}static jQueryInterface(e){return this.each(function(){const t=Qx.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Iv.on(window,qx,()=>{for(const e of Gv.find('[data-bs-spy="scroll"]'))Qx.getOrCreateInstance(e)}),yv(Qx);const e_=".bs.tab",t_=`hide${e_}`,n_=`hidden${e_}`,i_=`show${e_}`,r_=`shown${e_}`,o_=`click${e_}`,s_=`keydown${e_}`,a_=`load${e_}`,l_="ArrowLeft",c_="ArrowRight",u_="ArrowUp",h_="ArrowDown",d_="Home",p_="End",f_="active",m_="fade",g_="show",v_=".dropdown-toggle",y_=`:not(${v_})`,b_='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',x_=`${`.nav-link${y_}, .list-group-item${y_}, [role="tab"]${y_}`}, ${b_}`,__=`.${f_}[data-bs-toggle="tab"], .${f_}[data-bs-toggle="pill"], .${f_}[data-bs-toggle="list"]`;class w_ extends Vv{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Iv.on(this._element,s_,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?Iv.trigger(t,t_,{relatedTarget:e}):null;Iv.trigger(e,i_,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(f_),this._activate(Gv.getElementFromSelector(e));this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Iv.trigger(e,r_,{relatedTarget:t})):e.classList.add(g_)},e,e.classList.contains(m_))}_deactivate(e,t){if(!e)return;e.classList.remove(f_),e.blur(),this._deactivate(Gv.getElementFromSelector(e));this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Iv.trigger(e,n_,{relatedTarget:t})):e.classList.remove(g_)},e,e.classList.contains(m_))}_keydown(e){if(![l_,c_,u_,h_,d_,p_].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!hv(e));let n;if([d_,p_].includes(e.key))n=t[e.key===d_?0:t.length-1];else{const i=[c_,h_].includes(e.key);n=_v(t,e.target,i,!0)}n&&(n.focus({preventScroll:!0}),w_.getOrCreateInstance(n).show())}_getChildren(){return Gv.find(x_,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Gv.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const i=(e,i)=>{const r=Gv.findOne(e,n);r&&r.classList.toggle(i,t)};i(v_,f_),i(".dropdown-menu",g_),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(f_)}_getInnerElement(e){return e.matches(x_)?e:Gv.findOne(x_,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){const t=w_.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}})}}Iv.on(document,o_,b_,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),hv(this)||w_.getOrCreateInstance(this).show()}),Iv.on(window,a_,()=>{for(const e of Gv.find(__))w_.getOrCreateInstance(e)}),yv(w_);const S_=".bs.toast",M_=`mouseover${S_}`,E_=`mouseout${S_}`,T_=`focusin${S_}`,C_=`focusout${S_}`,L_=`hide${S_}`,A_=`hidden${S_}`,P_=`show${S_}`,R_=`shown${S_}`,D_="hide",k_="show",O_="showing",N_={animation:"boolean",autohide:"boolean",delay:"number"},F_={animation:!0,autohide:!0,delay:5e3};class I_ extends Vv{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return F_}static get DefaultType(){return N_}static get NAME(){return"toast"}show(){if(Iv.trigger(this._element,P_).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(D_),fv(this._element),this._element.classList.add(k_,O_),this._queueCallback(()=>{this._element.classList.remove(O_),Iv.trigger(this._element,R_),this._maybeScheduleHide()},this._element,this._config.animation)}hide(){if(!this.isShown())return;if(Iv.trigger(this._element,L_).defaultPrevented)return;this._element.classList.add(O_),this._queueCallback(()=>{this._element.classList.add(D_),this._element.classList.remove(O_,k_),Iv.trigger(this._element,A_)},this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(k_),super.dispose()}isShown(){return this._element.classList.contains(k_)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Iv.on(this._element,M_,e=>this._onInteraction(e,!0)),Iv.on(this._element,E_,e=>this._onInteraction(e,!1)),Iv.on(this._element,T_,e=>this._onInteraction(e,!0)),Iv.on(this._element,C_,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=I_.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}})}}qv(I_),yv(I_);var B_=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new Ee,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:s,MIDDLE:a,RIGHT:l},this.touches={ONE:c,TWO:h},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return g.phi},this.getAzimuthalAngle=function(){return g.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),f=p.NONE},this.update=function(){var t=new Ee,r=(new Me).setFromUnitVectors(e.up,new Ee(0,1,0)),o=r.clone().invert(),s=new Ee,a=new Me,l=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(r),g.setFromVector3(t),n.autoRotate&&f===p.NONE&&R(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(g.theta+=v.theta*n.dampingFactor,g.phi+=v.phi*n.dampingFactor):(g.theta+=v.theta,g.phi+=v.phi);var c=n.minAzimuthAngle,u=n.maxAzimuthAngle;return isFinite(c)&&isFinite(u)&&(c<-Math.PI?c+=l:c>Math.PI&&(c-=l),u<-Math.PI?u+=l:u>Math.PI&&(u-=l),g.theta=c<=u?Math.max(c,Math.min(u,g.theta)):g.theta>(c+u)/2?Math.max(c,g.theta):Math.min(u,g.theta)),g.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=y,g.radius=Math.max(n.minDistance,Math.min(n.maxDistance,g.radius)),!0===n.enableDamping?n.target.addScaledVector(b,n.dampingFactor):n.target.add(b),t.setFromSpherical(g),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(v.theta*=1-n.dampingFactor,v.phi*=1-n.dampingFactor,b.multiplyScalar(1-n.dampingFactor)):(v.set(0,0,0),b.set(0,0,0)),y=1,!!(x||s.distanceToSquared(n.object.position)>m||8*(1-a.dot(n.object.quaternion))>m)&&(n.dispatchEvent(i),s.copy(n.object.position),a.copy(n.object.quaternion),x=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",ee),n.domElement.removeEventListener("pointerdown",q),n.domElement.removeEventListener("wheel",$),n.domElement.removeEventListener("touchstart",J),n.domElement.removeEventListener("touchend",Q),n.domElement.removeEventListener("touchmove",K),n.domElement.ownerDocument.removeEventListener("pointermove",X),n.domElement.ownerDocument.removeEventListener("pointerup",Y),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Z)};var n=this,i={type:"change"},r={type:"start"},o={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=p.NONE,m=1e-6,g=new sc,v=new sc,y=1,b=new Ee,x=!1,_=new me,w=new me,S=new me,M=new me,E=new me,T=new me,C=new me,L=new me,A=new me;function P(){return Math.pow(.95,n.zoomSpeed)}function R(e){v.theta-=e}function D(e){v.phi-=e}var k=function(){var e=new Ee;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),b.add(e)}}(),O=function(){var e=new Ee;return function(t,i){!0===n.screenSpacePanning?e.setFromMatrixColumn(i,1):(e.setFromMatrixColumn(i,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),b.add(e)}}(),N=function(){var e=new Ee;return function(t,i){var r=n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180),k(2*t*s/r.clientHeight,n.object.matrix),O(2*i*s/r.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(k(t*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix),O(i*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function F(e){n.object.isPerspectiveCamera?y/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera?y*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),x=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function B(e){_.set(e.clientX,e.clientY)}function z(e){M.set(e.clientX,e.clientY)}function j(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,n)}}function U(e){if(1==e.touches.length)M.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);M.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);C.set(0,i)}function V(e){if(1==e.touches.length)w.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(t,i)}S.subVectors(w,_).multiplyScalar(n.rotateSpeed);var r=n.domElement;R(2*Math.PI*S.x/r.clientHeight),D(2*Math.PI*S.y/r.clientHeight),_.copy(w)}function W(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,i)}T.subVectors(E,M).multiplyScalar(n.panSpeed),N(T.x,T.y),M.copy(E)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+i*i);L.set(0,r),A.set(0,Math.pow(L.y/C.y,n.zoomSpeed)),F(A.y),C.copy(L)}function q(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case a:if(!1===n.enableZoom)return;!function(e){C.set(e.clientX,e.clientY)}(e),f=p.DOLLY;break;case s:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;z(e),f=p.PAN}else{if(!1===n.enableRotate)return;B(e),f=p.ROTATE}break;case l:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;B(e),f=p.ROTATE}else{if(!1===n.enablePan)return;z(e),f=p.PAN}break;default:f=p.NONE}f!==p.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",X),n.domElement.ownerDocument.addEventListener("pointerup",Y),n.dispatchEvent(r))}(e)}}function X(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),f){case p.ROTATE:if(!1===n.enableRotate)return;!function(e){w.set(e.clientX,e.clientY),S.subVectors(w,_).multiplyScalar(n.rotateSpeed);var t=n.domElement;R(2*Math.PI*S.x/t.clientHeight),D(2*Math.PI*S.y/t.clientHeight),_.copy(w),n.update()}(e);break;case p.DOLLY:if(!1===n.enableZoom)return;!function(e){L.set(e.clientX,e.clientY),A.subVectors(L,C),A.y>0?F(P()):A.y<0&&I(P()),C.copy(L),n.update()}(e);break;case p.PAN:if(!1===n.enablePan)return;!function(e){E.set(e.clientX,e.clientY),T.subVectors(E,M).multiplyScalar(n.panSpeed),N(T.x,T.y),M.copy(E),n.update()}(e)}}(e)}}function Y(e){switch(e.pointerType){case"mouse":case"pen":!function(){if(n.domElement.ownerDocument.removeEventListener("pointermove",X),n.domElement.ownerDocument.removeEventListener("pointerup",Y),!1===n.enabled)return;n.dispatchEvent(o),f=p.NONE}()}}function $(e){!1===n.enabled||!1===n.enableZoom||f!==p.NONE&&f!==p.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(r),function(e){e.deltaY<0?I(P()):e.deltaY>0&&F(P()),n.update()}(e),n.dispatchEvent(o))}function Z(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:N(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:N(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:N(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:N(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function J(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case c:if(!1===n.enableRotate)return;j(e),f=p.TOUCH_ROTATE;break;case u:if(!1===n.enablePan)return;U(e),f=p.TOUCH_PAN;break;default:f=p.NONE}break;case 2:switch(n.touches.TWO){case h:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&H(e),n.enablePan&&U(e)}(e),f=p.TOUCH_DOLLY_PAN;break;case d:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&H(e),n.enableRotate&&j(e)}(e),f=p.TOUCH_DOLLY_ROTATE;break;default:f=p.NONE}break;default:f=p.NONE}f!==p.NONE&&n.dispatchEvent(r)}}function K(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),f){case p.TOUCH_ROTATE:if(!1===n.enableRotate)return;V(e),n.update();break;case p.TOUCH_PAN:if(!1===n.enablePan)return;W(e),n.update();break;case p.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&G(e),n.enablePan&&W(e)}(e),n.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&G(e),n.enableRotate&&V(e)}(e),n.update();break;default:f=p.NONE}}function Q(e){!1!==n.enabled&&(n.dispatchEvent(o),f=p.NONE)}function ee(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",ee),n.domElement.addEventListener("pointerdown",q),n.domElement.addEventListener("wheel",$),n.domElement.addEventListener("touchstart",J),n.domElement.addEventListener("touchend",Q),n.domElement.addEventListener("touchmove",K),this.update()};(B_.prototype=Object.create(he.prototype)).constructor=B_;var z_=function(e,t){B_.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=l,this.mouseButtons.RIGHT=s,this.touches.ONE=u,this.touches.TWO=d};(z_.prototype=Object.create(he.prototype)).constructor=z_;const j_={alignQuadrant(e,t){let n=e.position,i={colors:e.colors};const r=t-1;return n[0]<Math.floor(t/2)&&n[1]>=Math.floor(t/2)?i.position=[r-n[1],n[0],n[2]].join(""):n[0]>=Math.floor(t/2)&&n[1]>=Math.ceil(t/2)?i.position=[r-n[0],r-n[1],n[2]].join(""):n[0]>=Math.ceil(t/2)&&n[1]<Math.ceil(t/2)?i.position=[n[1],r-n[0],n[2]].join(""):i.position=n.join(""),i},checkOccurences:function(e,t){let n=!0,i=[];for(var r=0;r<e.length;r++){for(var o=0,s=0;s<t.length;s++)t[s]===e[r]&&o++;o>1&&(n=!1,i.includes(e[r])||i.push(e[r]))}return{success:n,failedColors:i,amount:0}},convertToBlueMiddle:function(e,t){const n=[...e],i=t-1,r=t-1,o=t-1,s=t-1;return 0===n[7]?{colors:[n[5],n[0],n[2],n[1],n[4],n[3]].join(""),position:[n[6],n[8],i]}:n[8]===r?{colors:[n[0],n[1],n[2],n[3],n[4],n[5]].join(""),position:[n[6],n[7],i]}:n[6]===o?{colors:[n[0],n[2],n[5],n[3],n[1],n[4]].join(""),position:[i-n[8],n[7],i]}:n[7]===s?{colors:[n[1],n[3],n[2],n[5],n[4],n[0]].join(""),position:[n[6],i-n[8],i]}:0===n[6]?{colors:[n[0],n[4],n[1],n[3],n[5],n[2]].join(""),position:[n[8],n[7],i]}:0===n[8]?{colors:[n[0],n[5],n[4],n[3],n[2],n[1]].join(""),position:[i-n[6],n[7],i]}:void 0},checkValidMatchMiddle(e,t,n){let i=j_.alignQuadrant(j_.convertToBlueMiddle(e,n),n),r=j_.alignQuadrant(j_.convertToBlueMiddle(t,n),n);return i.colors===r.colors&&i.position===r.position},convertToBlueWhiteEdge:function(e,t){const n=[...e],i=t-1,r=t-1,o=t-1,s=t-1;return 0===n[7]&&n[8]===r?{colors:[n[0],n[1],n[2],n[3],n[4],n[5]].join(""),position:[n[6],0,i].join("")}:0===n[6]&&n[8]===r?{colors:[n[4],n[1],n[0],n[2],n[3],n[5]].join(""),position:[i-n[7],0,i].join("")}:n[7]===s&&n[8]===r?{colors:[n[3],n[1],n[4],n[0],n[2],n[5]].join(""),position:[t-(n[6]+1),0,i].join("")}:n[6]===o&&n[8]===r?{colors:[n[2],n[1],n[3],n[4],n[0],n[5]].join(""),position:[n[7],0,i].join("")}:0===n[6]&&0===n[7]?{colors:[n[0],n[4],n[1],n[3],n[5],n[2]].join(""),position:[n[8],0,i].join("")}:n[6]===o&&0===n[7]?{colors:[n[0],n[2],n[5],n[3],n[1],n[4]].join(""),position:[i-n[8],0,i].join("")}:0===n[6]&&n[7]===s?{colors:[n[4],n[3],"black","black","black","black"].join(""),position:[n[8],0,i].join("")}:n[6]===o&&n[7]===s?{colors:[n[2],n[3],"black","black","black","black"].join(""),position:[i-n[8],0,i].join("")}:0===n[7]&&0===n[8]?{colors:[n[0],n[5],"black","black","black","black"].join(""),position:[i-n[6],0,i].join("")}:0===n[6]&&0===n[8]?{colors:[n[4],n[5],"black","black","black","black"].join(""),position:[n[7],0,i].join("")}:n[7]===s&&0===n[8]?{colors:[n[3],n[5],"black","black","black","black"].join(""),position:[n[6],0,i].join("")}:n[6]===o&&0===n[8]?{colors:[n[2],n[5],"black","black","black","black"].join(""),position:[i-n[7],0,i].join("")}:(console.log("failed to register piece",n),null)},checkValidMatchEdge:function(e,t,n){let i=n-1,r=j_.convertToBlueWhiteEdge([...e],n),o=j_.convertToBlueWhiteEdge([...t],n);return!!(r.colors===o.colors&&r.position===o.position||e.includes("center"))||r.colors!==o.colors&&parseInt(r.position[0])===i-parseInt(o.position[0])},checkColors:function(e){let t,n,i=e.cubeDimension,r=e.rubiksObject.length,o=0,s=0,a=0,l=0,c=0,u=0,h=!1,d=[],p=0,f={error:[]},m=i*i,g=[...e.rubiksObject],v=Wf.generateSolved(i,i,i),y=[];for(let w=0;w<g.length;w++){let e=[...g[w]];const t=["white","blue","red","yellow","orange","green"];e.includes("white")&&(o+=1),e.includes("blue")&&(s+=1),e.includes("red")&&(a+=1),e.includes("yellow")&&(l+=1),e.includes("orange")&&(c+=1),e.includes("green")&&(u+=1);let n=j_.checkOccurences(t,e);if(!n.success){h=!0;let e=[];n.failedColors.forEach(t=>{e.includes(t)||e.push(t)}),d=e}}let b=[],x=[];v.tempArr.forEach((e,r)=>{let[...o]=e;y.push([]);let s=[];g.forEach((e,t)=>{let[...n]=e,a=0;if(o.slice(0,6).sort().forEach((e,t)=>{n.slice(0,6).sort()[t]===e&&a++}),6===a&&!b.includes(r)&&!x.includes(t)){let e=!1,a=!1;o.includes("edge")?(e=j_.checkValidMatchEdge(o,n,i),"center"===o[13]&&"center"!==n[13]||"center"===n[13]&&"center"!==o[13]?e=!1:"center"===o[13]&&"center"===n[13]&&(e=!0)):o.includes("middle")?(a=j_.checkValidMatchMiddle(o,n,i),a||s.push([o,n])):(e=!0,a=!0),(e||a)&&(p++,b.push(r),x.push(t),y[r]=[...n.slice(0,9),...o.slice(9,15)])}}),0===y[r].length&&("edge"===o[12]?n="Invalid edge configuration.":"middle"===o[12]&&(t="Invalid middle configuration."))});let _=[];if(o!==m&&_.push("white"),s!==m&&_.push("blue"),a!==m&&_.push("red"),l!==m&&_.push("yellow"),c!==m&&_.push("orange"),u!==m&&_.push("green"),_.length&&(_=_.join(", "),f.error.push(`Invalid ${_} sticker count.`)),h&&(d=d.join(", "),f.error.push(`More than one occurence of ${d} found on a piece.`)),p!==r&&e.cubeDimension<4&&f.error.push(`[${p-1}] out of [${r-1}] matched. Missing [${r-1-(p-1)}]`),n&&f.error.push(n),t&&f.error.push(t),!f.error.length){!1==={...Xf(e,y)}.solveable?f.error.push("This configuration of the cube is not solveable,\n            please check that you've entered all pieces correctly."):f.error=void 0}return f.error||(f.success=!0,f.newGenerated=y),f}},U_=j_;class H_ extends t.Component{constructor(){super(...arguments),this.rotationResumeTimer=null,this.controls=null,this.state={cubes:[],rubiksObject:[],blackObject:[],speed:7.5,rotationSpeed:350,start:7.5,end:0,turnDirection:0,face:0,cameraX:5,cameraY:-5,cameraZ:2,currentFunc:"None",moveLog:"",moveSet:[],prevSet:[],angle:3.9,cubeDimension:null,cubeDepth:1,currentSpeed:"Medium",moves:0,reload:!1,solveState:-1,solveMoves:"",solvedSet:[],solvedSetIndex:0,facePosX:null,facePosY:null,facePosZ:null,faceSide:null,colorPicked:"white",mouseFace:null,mouseDown:!1,mousePos:null,undoIndex:0,blockMoveLog:!1,previousPiece:null,rubiksIndex:0,middles:[],corners:[],showMoveInput:!1,showControls:!1,showHints:!0,showGuideArrows:!0,activeDragsInput:0,deltaPositionInput:{x:100,y:100},controlledPositionInput:{x:0,y:0},activeDragsControls:0,deltaPositionControls:{x:100,y:100},controlledPositionControls:{x:0,y:0},isMulti:!1,isVisible:!1,isValidConfig:!0,hoverData:[],showSolveController:!1,autoPlay:!1,autoRewind:!1,autoTarget:!1,playOne:!1,generateAllMoves:!1,isLocal:null,cpErrors:[],activeMenu:"",solveTime:0,targetSolveIndex:-1,activeAlgo:"None Selected",sliderSpeed:40,jumpToEnd:!1,algoUp:!1,algoDown:!1,upDateCp:0},this.keyBinds=e=>{switch(e){case"R":this.rotateOneFace(e+"'",[2,0,1]);break;case"r":this.rotateOneFace(e.toUpperCase(),[2,-1,1]);break;case"L":this.rotateOneFace(e+"'",[4,0,1]);break;case"l":this.rotateOneFace(e.toUpperCase(),[4,-1,1]);break;case"F":this.rotateOneFace(e+"'",[0,0,1]);break;case"f":this.rotateOneFace(e.toUpperCase(),[0,-1,1]);break;case"U":this.rotateOneFace(e+"'",[1,0,1]);break;case"u":this.rotateOneFace(e.toUpperCase(),[1,-1,1]);break;case"D":this.rotateOneFace(e+"'",[5,0,1]);break;case"d":this.rotateOneFace(e.toUpperCase(),[5,-1,1]);break;case"B":this.rotateOneFace(e+"'",[3,0,1]);break;case"b":this.rotateOneFace(e.toUpperCase(),[3,-1,1]);break;case"1":"Color Picker"===this.state.currentFunc&&this.changeColor("white");break;case"2":"Color Picker"===this.state.currentFunc&&this.changeColor("blue");break;case"3":"Color Picker"===this.state.currentFunc&&this.changeColor("red");break;case"4":"Color Picker"===this.state.currentFunc&&this.changeColor("yellow");break;case"5":"Color Picker"===this.state.currentFunc&&this.changeColor("orange");break;case"6":"Color Picker"===this.state.currentFunc&&this.changeColor("green");break;case"ArrowLeft":"Solving"===this.state.currentFunc||"Algorithms"===this.state.currentFunc?this.rewindSolve():"None"===this.state.currentFunc&&this.undo();break;case"ArrowRight":if("Solving"===this.state.currentFunc||"Algorithms"===this.state.currentFunc){if(!this.state.moveSet.length)return;if(this.state.moveSet[0]!==this.state.moveSet[1]&&"stop'"!==this.state.moveSet[1]||this.state.autoPlay){if(!0===this.state.playOne)return;this.state.moveSet[0]&&"string"===typeof this.state.moveSet[0][0]&&"'"!==this.state.moveSet[0]&&this.setState({playOne:!0,prevSet:[...this.state.prevSet,this.state.moveSet[0]]})}else this.setState({autoPlay:!0,autoRewind:!1,targetSolveIndex:this.state.solvedSetIndex+2})}else"None"===this.state.currentFunc&&this.redo();break;case"ArrowDown":"Algorithms"===this.state.currentFunc&&this.setState({algoDown:!0,resized:!0});break;case"ArrowUp":"Algorithms"===this.state.currentFunc&&this.setState({algoUp:!0,resized:!0})}},this.keyHandling=e=>{this.keyBinds(e.key)},this.onSliderChange=e=>{switch(this.setState({sliderSpeed:e}),e){case 0:this.changeSpeed(1.5,1050,"Slowest");break;case 10:this.changeSpeed(3,750,"Slower");break;case 20:this.changeSpeed(5,500,"Slow");break;case 30:this.changeSpeed(7.5,350,"Medium");break;case 40:this.changeSpeed(10,250,"Fast");break;case 50:this.changeSpeed(15,175,"Faster");break;case 60:this.changeSpeed(30,100,"Fastest");break;case 70:this.changeSpeed(90,20,"Zoomin");break;default:console.log("unexpected behavior")}},this.changeSpeed=(e,t,n,i)=>{"None"===this.state.currentFunc||i?this.setState({currentSpeed:n,speed:e,start:e,end:0,rotationSpeed:t}):this.setState({moveSet:[[e,t,n],...this.state.moveSet]})},this.changeColor=e=>{this.setState({colorPicked:e})},this.changeFaceColor=(e,t,n)=>{let i=[...this.state.rubiksObject];for(let r=0;r<i.length;r++){let o=[...i[r]];o[6]===e.x&&o[7]===e.y&&o[8]===e.z&&(o[t]=n,i[r]=[...o],r=i.length)}this.setState({rubiksObject:[...i],isValidConfig:!1,upDateCp:this.state.upDateCp+1,cpErrors:[]},()=>{this.reloadTurnedPieces("cp")})},this.setColorPickedCube=()=>{let e=[...this.state.rubiksObject],t=this.state.cubeDimension,n=Wf.generateSolved(t,t,t),i=[],r=[],o=[];n.tempArr.forEach((n,s)=>{let[...a]=n;i.push([]),e.forEach((e,n)=>{let[...l]=e,c=0;if(a.slice(0,6).sort().forEach((e,t)=>{l.slice(0,6).sort()[t]===e&&c++}),6===c&&!r.includes(s)&&!o.includes(n)){let e=!1,c=!1;a.includes("edge")?(e=U_.checkValidMatchEdge(a,l,t),"center"===a[13]&&"center"!==l[13]||"center"===l[13]&&"center"!==a[13]?e=!1:"center"===a[13]&&"center"===l[13]&&(e=!0)):a.includes("middle")?c=U_.checkValidMatchMiddle(a,l,t):(e=!0,c=!0),(e||c)&&(r.push(s),o.push(n),i[s]=[...l.slice(0,9),...a.slice(9,15)])}})}),this.setState({rubiksObject:i,currentFunc:"None",activeMenu:""},()=>{this.reloadTurnedPieces("check"),this.setState({activeMenu:"Solver"}),this.beginSolve()})},this.undo=()=>{let e=this.state.undoIndex,t=this.state.moveLog;const n=qf.moveStringToArray(t);""!==t&&"None"===this.state.currentFunc&&n.length-1-e>=0&&this.setState({blockMoveLog:!0,currentFunc:"Undo",moveSet:[n[n.length-1-e]],undoIndex:e+1})},this.redo=()=>{if("None"!==this.state.currentFunc)return;let e=this.state.undoIndex,t=this.state.moveLog;if(""===t)return;const n=qf.moveStringToArray(t);let i=n[n.length-e];try{i.includes("'")?i=i.substring(0,3):i+="'"}catch(r){return}e>0&&this.setState({blockMoveLog:!0,currentFunc:"Redo",moveSet:[i],undoIndex:e-1})},this.rotateOneFace=(e,t)=>{if(t.length<4&&t.push(!1),"None"===this.state.currentFunc){let n=this.state.cubeDimension,i=this.state.rubiksObject,r=this.state.blockMoveLog,o=this.state.moveLog,s=this.state.solveMoves,a=this.state.solveState,l=this.state.end,c=Wf.rotateCubeFace(t[0],t[1],t[2],t[3],r,o,s,l,a);c.currentFunc=e,c.rubiksObject=Wf.rotateFace(c.face,c.turnDirection,c.cubeDepth,c.isMulti,n,i),this.setState(c)}},this.algorithm=(e,t)=>{if("Solving"===this.state.currentFunc||"Algorithms"===this.state.currentFunc)return void(this.state.moveSet[0]&&qf.checkMoveEquivalence(e,this.state.moveSet[0],this.state.cubeDimension)&&this.playOne(this));if("None"!==this.state.currentFunc)return;const n=qf.moveStringToArray(e);this.setState({currentFunc:t,moveSet:n})},this.reset=()=>{let e=this.state.cubeDimension,t=Wf.generateSolved(e,e,e).tempArr;this.setState({rubiksObject:t,moveSet:[],moveLog:"",currentFunc:"None",solveState:-1,autoPlay:!1,playOne:!1,isVisible:!1,hoverData:[],solveMoves:"",prevSet:[],cpErrors:[],activeMenu:"none"},()=>{this.reloadTurnedPieces("all")})},this.beginScramble=()=>{if("None"===this.state.currentFunc){let e=[];for(;e.length<25;){let t=qf.generateMove(this.state.cubeDimension);e[e.length-1]&&e[e.length-1].slice(0,3)===t.slice(0,3)&&e[e.length-1].length!==t.length||e[e.length-2]&&e[e.length-1]&&e[e.length-2]===t&&e[e.length-1]===t||e.push(t)}this.setState({currentFunc:"Scrambling",moveSet:e})}},this.beginSolve=()=>{"None"===this.state.currentFunc&&this.setState({currentFunc:"Solving",solveState:0,autoPlay:!1,playOne:!1,solveOnce:!0})},this.stopSolve=()=>{this.setState({currentFunc:"None",solveState:-1,autoPlay:!1,playOne:!1,isVisible:!1,hoverData:[],solveMoves:"",prevSet:[],moveSet:[],targetSolveIndex:-1,solvedSet:[]})},this.beginColorPicker=()=>{let e=this.state.cubeDimension;if("None"!==this.state.currentFunc)return;const t=[...Wf.generateBlank(e,e,e)];this.setState({currentFunc:"Color Picker",rubiksObject:[...t]},()=>{this.reloadTurnedPieces("cp")})},this.endColorPicker=()=>{this.reset(),this.setState({currentFunc:"None",cpErrors:[]})},this.playOne=e=>{if(e.state.moveSet.length)if(e.state.moveSet[0]!==e.state.moveSet[1]&&"stop'"!==e.state.moveSet[1]||e.state.autoPlay){if(!0===e.state.playOne)return;e.state.moveSet[0]&&"string"===typeof e.state.moveSet[0][0]&&"'"!==e.state.moveSet[0]&&e.setState({playOne:!0,prevSet:[...e.state.prevSet,e.state.moveSet[0]]})}else e.setState({autoPlay:!0,autoRewind:!1,targetSolveIndex:e.state.solvedSetIndex+2})},this.rewindSolve=()=>{if(this.state.playOne)return;if((this.state.prevSet[this.state.prevSet.length-1]===this.state.prevSet[this.state.prevSet.length-2]||"stop'"===this.state.prevSet[this.state.prevSet.length-1])&&!this.state.autoRewind)return void this.setState({autoPlay:!1,autoRewind:!0,targetSolveIndex:this.state.solvedSetIndex-2});let e=[],t=[...this.state.moveSet],n=[...this.state.prevSet],i=n[n.length-1],r=n.pop();r?("'"===r[r.length-1]?r=r.slice(0,3):r+="'",e.push(r,i,...t),this.setState({playOne:!0,prevSet:n,moveSet:e,solvedSetIndex:this.state.solvedSetIndex-2})):this.setState({autoRewind:!1})},this.handleDragInput=(e,t)=>{const{x:n,y:i}=this.state.deltaPositionInput;this.setState({deltaPositionInput:{x:n+t.deltaX,y:i+t.deltaY}})},this.onStartInput=()=>{this.setState({activeDragsInput:this.state.activeDragsInput+1})},this.onStopInput=()=>{this.setState({activeDragsInput:this.state.activeDragsInput-1})},this.mouseOver=(e,t,n)=>{this.state.showHints&&this.setState({isVisible:!0,hoverData:t})},this.mouseLeave=()=>{this.setState({isVisible:!1,hoverData:[]})},this.reloadTurnedPieces=e=>{let t=[...this.state.cubes];for(let n=0;n<this.state.rubiksObject.length;n++){let i={...t[n]},r=i.rotation;e===i.position?(i.opacity=1,t[n]=i):0===r.x&&0===r.y&&0===r.z&&"all"!==e&&"cp"!==e&&"check"!==e||("all"!==e&&"cp"!==e||(i.position.x=this.state.rubiksObject[n][9],i.position.y=this.state.rubiksObject[n][10],i.position.z=this.state.rubiksObject[n][11]),"check"===e&&(i.position.x=this.state.rubiksObject[n][6],i.position.y=this.state.rubiksObject[n][7],i.position.z=this.state.rubiksObject[n][8]),i.material[0].color=new qt(this.state.rubiksObject[n][2]),i.material[1].color=new qt(this.state.rubiksObject[n][4]),i.material[2].color=new qt(this.state.rubiksObject[n][3]),i.material[3].color=new qt(this.state.rubiksObject[n][0]),i.material[4].color=new qt(this.state.rubiksObject[n][1]),i.material[5].color=new qt(this.state.rubiksObject[n][5]),i.rotation.x=0,i.rotation.y=0,i.rotation.z=0,t[n]=i)}this.setState({cubes:t,reload:!1})},this.menuSetState=e=>{this.setState(e,()=>{e.activeAlgo&&this.reloadTurnedPieces("all")})},this.windowResized=()=>{this.setState({resized:!0})}}onMouseUp(e){this.setState({mouseDown:!1})}runCheckColors(){let e=U_.checkColors(this.state);e.error?this.setState({cpErrors:[...e.error]}):e.success&&this.setState({isValidConfig:!0,cpErrors:[]})}changeSettings(e,t){switch(e){case"displayMoveInput":this.setState({showMoveInput:!this.state.showMoveInput});break;case"displayControls":this.setState({showControls:!this.state.showControls});break;case"displayHints":this.setState({showHints:!this.state.showHints});break;default:console.log("Invalid Setting")}}componentWillUnmount(){window.removeEventListener("keydown",this.keyHandling)}getSizeFromUrl(e){let t,n=window.location.href.split("/"),i=n[n.length-1].slice(0,4);return e?"localhost"===n[2].substr(0,9):("#id="===i&&(t=parseInt(n[n.length-1].substr(4))),t<=75&&t>=1?t:3)}calculateTurn(e,t,n,i,r){let o=null,s=null,a=null;const l={x:t.x-e.x,y:t.y-e.y,z:t.z-e.z};if(e.x===t.x&&e.y===t.y&&e.z===t.z)return null;function c(e,t,n,i,r,o,s,a){return Math.abs(e)>=Math.abs(n)&&Math.abs(e)>.05?{calculated:t?s:s+"'",depth:o}:Math.abs(n)>Math.abs(e)&&Math.abs(n)>.05?{calculated:i?a:a+"'",depth:r}:{calculated:null,depth:null}}switch(i){case 0:a=c(l.z,l.z<0,l.x,l.x>=0,r-n.z,r-n.x,"R","U"),o=a.calculated,s=a.depth;break;case 1:a=c(l.x,l.x<=0,l.y,l.y<0,r-n.x,n.y+1,"F","R"),o=a.calculated,s=a.depth;break;case 2:a=c(l.z,l.z>0,l.y,l.y>0,r-n.z,n.y+1,"F","U"),o=a.calculated,s=a.depth;break;case 3:a=c(l.z,l.z>0,l.x,l.x<=0,r-n.z,r-n.x,"R","U"),o=a.calculated,s=a.depth;break;case 4:a=c(l.z,l.z<0,l.y,l.y<0,r-n.z,n.y+1,"F","U"),o=a.calculated,s=a.depth;break;case 5:a=c(l.x,l.x>=0,l.y,l.y>0,r-n.x,n.y+1,"F","R"),o=a.calculated,s=a.depth}return(s<10?"0":"")+s+o}calculateTheta(){}componentDidMount(){let e=this.getSizeFromUrl(),t=Wf.generateSolved(e,e,e),n=t.tempArr,i=[],r=null,o=null,s=!1,a=new uo,l=new Xn(61,window.innerWidth/window.innerHeight,.1,1e3),c=new lo({antialias:!0,alpha:!0}),u=new ic,h=new me,d=new Un,p=(new Ia).load("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQW92XE-j1aJzRMI9kvvMZIf2VikZzzdEI87zl4rWgHMJBNJ9iw7A&s"),f=(new Ia).load("https://cdn2.iconfinder.com/data/icons/communication-language/100/Up_Arrow-01-512.png"),m=Math.tan(Math.PI/180*l.fov/2),g=window.innerHeight;const v=Wf.generateMoveHints(f,e);let y=this.calculateTurn,b=this.algorithm;window.addEventListener("keydown",this.keyHandling,!1),window.addEventListener("pointermove",function(t){h.x=t.clientX/window.innerWidth*2-1,h.y=-t.clientY/window.innerHeight*2+1,u.setFromCamera(h,l);let n=u.intersectObjects(a.children);if(r&&n.length){let t=n[0].point,i=[2,4,3,0,1,5],s={...r.point},a={...r.object.position},l=Math.floor(r.faceIndex/2),c=y(t,s,a,i[l],e);null===c||c.includes("null")||(b(c,"Drag Turn"),r.object.material[o].opacity=1,r=null,o=null)}}.bind(this),!1),window.addEventListener("pointerdown",function(e){this.controls.enabled=!0,s=!1,h.x=e.clientX/window.innerWidth*2-1,h.y=-e.clientY/window.innerHeight*2+1,u.setFromCamera(h,l);let t=u.intersectObjects(a.children);if(t.length){s=!0,this.controls.saveState(),this.controls.enabled=!1;let e=t[0].faceIndex,n=-1;for(let t=0;t<6;t++)if(e===2*t||e===2*t+1){n=t;break}if("Color Picker"===this.state.currentFunc){let e=[2,4,3,0,1,5];this.changeFaceColor({x:t[0].object.position.x,y:t[0].object.position.y,z:t[0].object.position.z},e[n],this.state.colorPicked)}t[0].object.material[n]&&n>-1&&t[0].object.material[n].color&&(r=t[0],o=n,t[0].object.material[n].opacity=.8)}else this.controls.enabled=!0,r=null,o=null}.bind(this),!1),window.addEventListener("pointerup",function(e){r&&(r.object.material[o].opacity=1),s&&this.controls.reset(),s=!1,r=null,this.controls.enabled=!0}.bind(this),!1),window.addEventListener("resize",()=>{return e=this.windowResized,l.aspect=window.innerWidth/window.innerHeight,l.fov=360/Math.PI*Math.atan(m*(window.innerHeight/g)),l.updateProjectionMatrix(),l.lookAt(a.position),c.setSize(window.innerWidth,window.innerHeight-10),c.render(a,l),void e();var e},!1),c.setClearColor(new qt("black"),0),c.domElement.className="canvas",c.setSize(window.innerWidth,window.innerHeight),document.body.children[5].appendChild(c.domElement),p.anisotropy=c.capabilities.getMaxAnisotropy(),f.anisotropy=c.capabilities.getMaxAnisotropy();for(let _=0;_<n.length;_++){let e=n[_][6],t=n[_][7],r=n[_][8];const o=[new Zt({map:p,transparent:!0,opacity:1,color:n[_][2],side:0}),new Zt({map:p,transparent:!0,opacity:1,color:n[_][4],side:0}),new Zt({map:p,transparent:!0,opacity:1,color:n[_][3],side:0}),new Zt({map:p,transparent:!0,opacity:1}),new Zt({map:p,transparent:!0,opacity:1,color:n[_][1],side:0}),new Zt({map:p,transparent:!0,opacity:1,color:n[_][5],side:0})];i[_]=new zn(d,o),i[_].translateX(e),i[_].translateY(t),i[_].translateZ(r)}a.translateX(.5-e/2),a.translateY(.5-e/2),a.translateZ(.5-e/2),this.controls=new B_(l,c.domElement),this.controls.enabled=!0,this.controls.enableDamping=!0,this.controls.dampingFactor=.15,this.controls.enableZoom=!0,this.controls.autoRotate=!0,this.controls.autoRotateSpeed=2,this.controls.minDistance=2+e,this.controls.maxDistance=2+e+20,this.controls.enablePan=!1,this.controls.keys={LEFT:null,UP:null,RIGHT:null,BOTTOM:null},this.controls.addEventListener("change",e=>{c&&c.render(a,l)}),v.forEach(e=>a.add(...e)),this.setState({cubes:i,cubeDimension:e,cameraZ:2+e,cameraX:2+e,cameraY:-(2+e),rubiksObject:n,middles:t.middles,edges:t.edges,corners:t.corners,currentFunc:"Reset",generatedButtons:Wf.generateButtonData(this.getSizeFromUrl())},()=>{for(let e=0;e<n.length;e++)0!==this.state.cubes[e].position.x&&this.state.cubes[e].position.x!==this.state.cubeDimension-1&&0!==this.state.cubes[e].position.y&&this.state.cubes[e].position.y!==this.state.cubeDimension-1&&0!==this.state.cubes[e].position.z&&this.state.cubes[e].position.z!==this.state.cubeDimension-1||a.add(this.state.cubes[e]);l.position.z=this.state.cameraZ,l.position.y=this.state.cameraY,l.position.x=this.state.cameraX,c.render(a,l),x()});let x=()=>{requestAnimationFrame(x),"None"!==this.state.currentFunc?(this.controls&&(this.controls.autoRotate=!1),this.rotationResumeTimer&&(clearTimeout(this.rotationResumeTimer),this.rotationResumeTimer=null)):!this.controls||this.controls.autoRotate||this.rotationResumeTimer||(this.rotationResumeTimer=setTimeout(()=>{this.controls&&(this.controls.autoRotate=!0),this.rotationResumeTimer=null},2e3));for(let e=0;e<v.length;e++)v[e].forEach(e=>e.visible=!1);if(this.state.start<=this.state.end)this.setState(Wf.rotatePieces(Wf.rotatePoint,i,this.state));else{if(("Color Picker"===this.state.currentFunc||"None"===this.state.currentFunc||"Solving"===this.state.currentFunc||"Algorithms"===this.state.currentFunc)&&this.state.isVisible){let[e,t,n,i]=this.state.hoverData;if(e<3)if(-1===t)if(i)for(let r=0;r<=n-1;r++)v[e][r].visible=!0;else v[e][n-1].visible=!0;else if(i)for(let r=0;r<=n-1;r++)v[e+3][r].visible=!0;else v[e+3][n-1].visible=!0;else if(3===e&&(e=0),4===e&&(e=2),5===e&&(e=1),-1===t)if(i)for(let r=v[e+3].length-1;r>=v[e+3].length-1-(n-1);r--)v[e+3][r].visible=!0;else v[e+3][v[e+3].length-1-(n-1)].visible=!0;else if(i)for(let r=v[e].length-1;r>=v[e+3].length-1-(n-1);r--)v[e][r].visible=!0;else v[e][v[e].length-1-(n-1)].visible=!0}if(this.state.reload&&this.reloadTurnedPieces(this.state.face),"None"!==this.state.currentFunc){if("Undo"===this.state.currentFunc||"Redo"===this.state.currentFunc);else{let e=this.state.moveLog,t=this.state.undoIndex;if(t>0){let n=qf.moveStringToArray(e);if("0"===this.state.currentFunc[0]||"1"===this.state.currentFunc[0]||"1"===this.state.currentFunc[1]||"2"===this.state.currentFunc[1]||"3"===this.state.currentFunc[1]){let e=n[n.length-1];for(let i=0;i<=t;i++)n.pop();n.push(e)}else for(let e=0;e<t;e++)n.pop();e=n.join(" "),this.setState({undoIndex:0,moveLog:e})}}if("Scrambling"===this.state.currentFunc)if(this.state.moveSet&&this.state.moveSet.length){let e=this.state.cubeDimension,t=this.state.rubiksObject,n=this.state.blockMoveLog,i=this.state.moveLog,r=this.state.solveMoves,o=this.state.solveState,s=this.state.end;if("number"===typeof this.state.moveSet[0][0]){let e=this.state.moveSet;this.changeSpeed(...e[0],!0),e.shift(),this.setState({moveSet:e})}else{let a=qf.parseMoveArray(this.state.moveSet);if(a){let l=Wf.rotateCubeFace(...a,n,i,r,s,o);l.rubiksObject=Wf.rotateFace(l.face,l.turnDirection,l.cubeDepth,l.isMulti,e,t),this.setState(l)}}}else this.setState({currentFunc:"None",moves:0});else if("Solving"===this.state.currentFunc||"Algorithms"===this.state.currentFunc)if(!this.state.autoTarget||this.state.autoPlay||this.state.autoRewind){if(this.state.playOne){let e=this.state.cubeDimension,t=this.state.rubiksObject,n=this.state.blockMoveLog,i=this.state.moveLog,r=this.state.solveMoves,o=this.state.moveSet,s=this.state.end,a=this.state.solveState,l={};if("number"===typeof o[0][0])this.changeSpeed(...o[0],!0),o.shift(),l.moveSet=o;else{let c=qf.parseMoveArray(o);c&&(l=Wf.rotateCubeFace(...c,n,i,r,s,a)),this.state.playOne&&(l.playOne=!1),this.mouseLeave(),c&&(l.rubiksObject=Wf.rotateFace(l.face,l.turnDirection,l.cubeDepth,l.isMulti,e,t),l.solvedSetIndex=this.state.solvedSetIndex+1)}this.setState(l)}else if(this.state.moveSet.length){let e=this.state.moveSet,t={};if("number"===typeof e[0][0])this.changeSpeed(...e[0],!0),e.shift(),t.moveSet=e;else{let t=qf.convertMoveToData(e[0]);t&&this.mouseOver(this.state.moveSet[0],t)}t.length&&this.setState({obj:t})}}else this.setState({autoTarget:!1},()=>this.reloadTurnedPieces("check"));else if("Color Picker"===this.state.currentFunc);else if("Reset"===this.state.currentFunc)this.reset();else if(this.state.moveSet.length){let e=this.state.cubeDimension,t=this.state.rubiksObject,n=this.state.blockMoveLog,i=this.state.moveLog,r=this.state.solveMoves,o=this.state.solveState,s=this.state.end;if("number"===typeof this.state.moveSet[0][0]){let e=this.state.moveSet;this.changeSpeed(...e[0],!0),e.shift(),this.setState({moveSet:e})}else{let a=qf.parseMoveArray(this.state.moveSet);if(a){let l=Wf.rotateCubeFace(...a,n,i,r,s,o);l.rubiksObject=Wf.rotateFace(l.face,l.turnDirection,l.cubeDepth,l.isMulti,e,t),this.setState(l)}}}else this.setState({currentFunc:"None"})}}this.controls.update(),c.render(a,l)}}render(){return(0,wc.jsxs)("div",{className:"App",style:{width:"max-content"},children:[(0,wc.jsx)(Mc,{title:"Rubik's Cube",changeSettings:this.changeSettings.bind(this),isLocal:this.getSizeFromUrl(!0),state:this.state}),"Color Picker"===this.state.currentFunc?(0,wc.jsx)(wc.Fragment,{}):(0,wc.jsxs)("p",{style:{position:"fixed",top:"110px",left:"10px",color:"lightgrey",fontSize:"1rem"},children:["Speed: ",this.state.currentSpeed]}),(0,wc.jsx)("div",{style:{width:"100%",position:"absolute",top:"100px",margin:"auto",display:"flex"},children:(0,wc.jsx)("div",{style:{margin:"auto",display:"inline-flex"},children:"None"===this.state.currentFunc||"Undo"===this.state.currentFunc||"Redo"===this.state.currentFunc||"Drag Turn"===this.state.currentFunc?[(0,wc.jsx)("button",{className:"redoUndo",style:{marginRight:"8px"},onClick:()=>this.undo(),children:(0,wc.jsx)("i",{className:"fas fa-arrow-left"})},"undo"),(0,wc.jsx)("button",{className:"redoUndo",style:{marginLeft:"8px"},onClick:()=>this.redo(),children:(0,wc.jsx)("i",{className:"fas fa-arrow-right"})},"redo")]:""})}),"Color Picker"===this.state.currentFunc?[]:(0,wc.jsx)(qd,{onSliderChange:this.onSliderChange,speed:this.state.sliderSpeed}),this.state.showMoveInput?(0,wc.jsx)($d,{algorithm:this.algorithm,handleDrag:this.handleDragInput,onStart:this.onStartInput,onStop:this.onStopInput}):[],"Solving"===this.state.currentFunc?(0,wc.jsx)(Zd,{solvedSetLength:this.state.solvedSet.length,prevSetLength:this.state.prevSet.length}):[],"Color Picker"===this.state.currentFunc?(0,wc.jsx)(Jd,{colorPicked:this.state.colorPicked}):[],(0,wc.jsx)(Sm,{state:this.state,setState:this.menuSetState,beginScramble:this.beginScramble,disableHover:this.state.showGuideArrows,generatedButtons:this.state.generatedButtons,size:this.getSizeFromUrl(),rotateOneFace:this.rotateOneFace,mouseEnter:this.mouseOver,mouseLeave:this.mouseLeave,beginColorPicker:this.beginColorPicker,endColorPicker:this.endColorPicker,colorPicked:this.state.colorPicked,changeColor:this.changeColor,isValidConfig:this.state.isValidConfig,setColorPickedCube:this.setColorPickedCube,cpErrors:this.state.cpErrors,runCheckColors:this.runCheckColors,beginSolve:this.beginSolve,stopSolve:this.stopSolve,playOne:this.playOne,rewindOne:this.rewindSolve,reload:this.reloadTurnedPieces})]})}}const V_=H_,W_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G_(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q_.apply(this,arguments)}var X_;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(X_||(X_={}));const Y_="popstate";function $_(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Z_(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function J_(e,t){return{usr:e.state,key:e.key,idx:t}}function K_(e,t,n,i){return void 0===n&&(n=null),q_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ew(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function Q_(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function ew(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function tw(e,t,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=X_.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function h(){a=X_.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:p.location,delta:t})}function d(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:Q_(e);return n=n.replace(/ $/,"%20"),$_(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState(q_({},s.state,{idx:c}),""));let p={get action(){return a},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Y_,h),l=e,()=>{r.removeEventListener(Y_,h),l=null}},createHref:e=>t(r,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=X_.Push;let i=K_(p.location,e,t);n&&n(i,e),c=u()+1;let h=J_(i,c),d=p.createHref(i);try{s.pushState(h,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(d)}o&&l&&l({action:a,location:p.location,delta:1})},replace:function(e,t){a=X_.Replace;let i=K_(p.location,e,t);n&&n(i,e),c=u();let r=J_(i,c),h=p.createHref(i);s.replaceState(r,"",h),o&&l&&l({action:a,location:p.location,delta:0})},go:e=>s.go(e)};return p}var nw;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(nw||(nw={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function iw(e,t,n){return void 0===n&&(n="/"),rw(e,t,n,!1)}function rw(e,t,n,i){let r=yw(("string"===typeof t?ew(t):t).pathname||"/",n);if(null==r)return null;let o=ow(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=vw(r);s=mw(o[a],e,i)}return s}function ow(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&($_(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=bw([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&($_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),ow(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:fw(a,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of sw(e.path))r(e,t,i);else r(e,t)}),t}function sw(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===i.length)return r?[o,""]:[o];let s=sw(i.join("/")),a=[];return a.push(...s.map(e=>""===e?o:[o,e].join("/"))),r&&a.push(...s),a.map(t=>e.startsWith("/")&&""===t?"/":t)}const aw=/^:[\w-]+$/,lw=3,cw=2,uw=1,hw=10,dw=-2,pw=e=>"*"===e;function fw(e,t){let n=e.split("/"),i=n.length;return n.some(pw)&&(i+=dw),t&&(i+=cw),n.filter(e=>!pw(e)).reduce((e,t)=>e+(aw.test(t)?lw:""===t?uw:hw),i)}function mw(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},o="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===o?t:t.slice(o.length)||"/",u=gw({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=gw({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(r,u.params),s.push({params:r,pathname:bw([o,u.pathname]),pathnameBase:xw(bw([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=bw([o,u.pathnameBase]))}return s}function gw(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Z_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:s,pattern:e}}function vw(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return Z_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function yw(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}const bw=e=>e.join("/").replace(/\/\/+/g,"/"),xw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function _w(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const ww=["post","put","patch","delete"],Sw=(new Set(ww),["get",...ww]);new Set(Sw),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mw.apply(this,arguments)}const Ew=t.createContext(null);const Tw=t.createContext(null);const Cw=t.createContext(null);const Lw=t.createContext(null);const Aw=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Pw=t.createContext(null);function Rw(){return null!=t.useContext(Lw)}function Dw(){return Rw()||$_(!1),t.useContext(Lw).location}function kw(e,n,i,r){Rw()||$_(!1);let{navigator:o}=t.useContext(Cw),{matches:s}=t.useContext(Aw),a=s[s.length-1],l=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let u,h=Dw();if(n){var d;let e="string"===typeof n?ew(n):n;"/"===c||(null==(d=e.pathname)?void 0:d.startsWith(c))||$_(!1),u=e}else u=h;let p=u.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=iw(e,{pathname:f});let g=Bw(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:bw([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:bw([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,i,r);return n&&g?t.createElement(Lw.Provider,{value:{location:Mw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:X_.Pop}},g):g}function Ow(){let e=function(){var e;let n=t.useContext(Pw),i=jw(zw.UseRouteError),r=Uw(zw.UseRouteError);if(void 0!==n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=_w(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:o},i):null,null)}const Nw=t.createElement(Ow,null);class Fw extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Aw.Provider,{value:this.props.routeContext},t.createElement(Pw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iw(e){let{routeContext:n,match:i,children:r}=e,o=t.useContext(Ew);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Aw.Provider,{value:n},r)}function Bw(e,n,i,r){var o;if(void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),null==e){var s;if(!i)return null;if(i.errors)e=i.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===n.length&&!i.initialized&&i.matches.length>0))return null;e=i.matches}}let a=e,l=null==(o=i)?void 0:o.errors;if(null!=l){let e=a.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||$_(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,u=-1;if(i&&r&&r.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=i,r=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||r){c=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,o)=>{let s,h=!1,d=null,p=null;i&&(s=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||Nw,c&&(u<0&&0===o?(!function(e,t){t||Hw[e]||(Hw[e]=!0)}("route-fallback",!1),h=!0,p=null):u===o&&(h=!0,p=r.route.hydrateFallbackElement||null)));let f=n.concat(a.slice(0,o+1)),m=()=>{let n;return n=s?d:h?p:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(Iw,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?t.createElement(Fw,{location:i.location,revalidation:i.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var zw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zw||{});function jw(e){let n=t.useContext(Tw);return n||$_(!1),n}function Uw(e){let n=function(){let e=t.useContext(Aw);return e||$_(!1),e}(),i=n.matches[n.matches.length-1];return i.route.id||$_(!1),i.route.id}const Hw={};function Vw(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function Ww(e){$_(!1)}function Gw(e){let{basename:n="/",children:i=null,location:r,navigationType:o=X_.Pop,navigator:s,static:a=!1,future:l}=e;Rw()&&$_(!1);let c=n.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:c,navigator:s,static:a,future:Mw({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);"string"===typeof r&&(r=ew(r));let{pathname:h="/",search:d="",hash:p="",state:f=null,key:m="default"}=r,g=t.useMemo(()=>{let e=yw(h,c);return null==e?null:{location:{pathname:e,search:d,hash:p,state:f,key:m},navigationType:o}},[c,h,d,p,f,m,o]);return null==g?null:t.createElement(Cw.Provider,{value:u},t.createElement(Lw.Provider,{children:i,value:g}))}function qw(e){let{children:t,location:n}=e;return kw(Xw(t),n)}new Promise(()=>{});t.Component;function Xw(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,(e,r)=>{if(!t.isValidElement(e))return;let o=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,Xw(e.props.children,o));e.type!==Ww&&$_(!1),e.props.index&&e.props.children&&$_(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Xw(e.props.children,o)),i.push(s)}),i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(Qw){}new Map;const Yw=i.startTransition;o.flushSync,i.useId;function $w(e){let{basename:n,children:i,future:r,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),tw(function(e,t){let{pathname:n,search:i,hash:r}=e.location;return K_("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:Q_(t)},null,a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=t.useCallback(e=>{h&&Yw?Yw(()=>u(e)):u(e)},[u,h]);return t.useLayoutEffect(()=>l.listen(d),[l,d]),t.useEffect(()=>Vw(r),[r]),t.createElement(Gw,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var Zw,Jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zw||(Zw={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Jw||(Jw={}));const Kw=(0,wc.jsx)($w,{children:(0,wc.jsx)(qw,{children:(0,wc.jsx)(Ww,{path:"*",element:(0,wc.jsx)(V_,{})})})});r.render(Kw,document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/rubiks-cube",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/rubiks-cube/service-worker.js";W_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):G_(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):G_(t,e)})}}()})()})();
//# sourceMappingURL=main.23a702ae.js.map